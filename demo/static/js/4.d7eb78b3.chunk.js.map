{"version":3,"sources":["components/Center/index.js","components/NotFound/index.js","components/Grid/index.js","selectors/tmp/index.js","containers/TicketSellingPage/atoms/Container.js","containers/TicketSellingPage/atoms/TicketSectionContainer.js","containers/TicketSellingPage/atoms/Section50.js","containers/TicketSellingPage/atoms/SectionLeft.js","containers/TicketSellingPage/atoms/SectionRight.js","containers/TicketSellingPage/atoms/SearchContainer.js","containers/TicketSellingPage/atoms/MatchesListContainer.js","containers/TicketSellingPage/atoms/SearchInput.js","containers/TicketSellingPage/molecules/InteractiveField.js","containers/TicketSellingPage/messages.js","containers/TicketSellingPage/molecules/TicketSearchField.js","containers/TicketSellingPage/molecules/TicketHeader.js","containers/TicketSellingPage/atoms/TicketBodyContainer.js","containers/TicketSellingPage/atoms/Title.js","containers/TicketSellingPage/atoms/Subtitle.js","containers/TicketSellingPage/atoms/TicketTableContainer.js","containers/TicketSellingPage/atoms/TicketTableRowContainer.js","containers/TicketSellingPage/atoms/Section10.js","containers/TicketSellingPage/atoms/FloatLabel.js","containers/TicketSellingPage/atoms/TicketInput.js","containers/TicketSellingPage/atoms/TicketLabel.js","containers/TicketSellingPage/molecules/TicketTableField.js","containers/TicketSellingPage/atoms/Section5.js","containers/TicketSellingPage/atoms/TicketButton.js","containers/TicketSellingPage/molecules/TicketTableButton.js","containers/TicketSellingPage/molecules/TicketTableHeader.js","containers/TicketSellingPage/atoms/TicketTableBodyContainer.js","containers/TicketSellingPage/atoms/HeightAdapterContainer.js","containers/TicketSellingPage/molecules/TicketTableAmountField.js","containers/TicketSellingPage/molecules/TicketTableBody.js","containers/TicketSellingPage/molecules/TicketTable.js","containers/TicketSellingPage/molecules/TicketBody.js","containers/TicketSellingPage/atoms/TicketSpan.js","containers/TicketSellingPage/molecules/TicketDiscountField.js","containers/TicketSellingPage/molecules/TicketVatField.js","containers/TicketSellingPage/molecules/TicketFooter.js","containers/TicketSellingPage/index.js","containers/TicketSellingPage/selectors.js","containers/TicketSellingPage/actions.js","containers/TicketReturningPage/atoms/Container.js","containers/TicketReturningPage/atoms/TicketSectionContainer.js","containers/TicketReturningPage/atoms/Section50.js","containers/TicketReturningPage/atoms/SectionLeft.js","containers/TicketReturningPage/atoms/SectionRight.js","containers/TicketReturningPage/atoms/SearchContainer.js","containers/TicketReturningPage/atoms/MatchesListContainer.js","containers/TicketReturningPage/atoms/SearchInput.js","containers/TicketReturningPage/molecules/InteractiveField.js","containers/TicketReturningPage/messages.js","containers/TicketReturningPage/molecules/TicketSearchField.js","containers/TicketReturningPage/molecules/TicketHeader.js","containers/TicketReturningPage/atoms/TicketBodyContainer.js","containers/TicketReturningPage/atoms/Title.js","containers/TicketReturningPage/atoms/Subtitle.js","containers/TicketReturningPage/atoms/TicketTableContainer.js","containers/TicketReturningPage/atoms/TicketTableRowContainer.js","containers/TicketReturningPage/atoms/Section10.js","containers/TicketReturningPage/atoms/FloatLabel.js","containers/TicketReturningPage/atoms/TicketInput.js","containers/TicketReturningPage/atoms/TicketLabel.js","containers/TicketReturningPage/molecules/TicketTableField.js","containers/TicketReturningPage/atoms/Section5.js","containers/TicketReturningPage/atoms/TicketButton.js","containers/TicketReturningPage/molecules/TicketTableButton.js","containers/TicketReturningPage/molecules/TicketTableHeader.js","containers/TicketReturningPage/atoms/TicketTableBodyContainer.js","containers/TicketReturningPage/atoms/HeightAdapterContainer.js","containers/TicketReturningPage/atoms/InfoTooltip.js","containers/TicketReturningPage/molecules/TicketTableAmountField.js","containers/TicketReturningPage/molecules/TicketTableBody.js","containers/TicketReturningPage/molecules/TicketTable.js","containers/TicketReturningPage/molecules/TicketBody.js","containers/TicketReturningPage/atoms/TicketSpan.js","containers/TicketReturningPage/molecules/TicketDiscountField.js","containers/TicketReturningPage/molecules/TicketVatField.js","containers/TicketReturningPage/molecules/TicketFooter.js","containers/TicketReturningPage/index.js","containers/TicketReturningPage/selectors.js","containers/TicketReturningPage/actions.js","containers/TicketReadOnlyPage/constants.js","containers/TicketReadOnlyPage/atoms/Container.js","containers/TicketReadOnlyPage/atoms/TicketSectionContainer.js","containers/TicketReadOnlyPage/atoms/Section50.js","containers/TicketReadOnlyPage/atoms/SectionLeft.js","containers/TicketReadOnlyPage/atoms/SectionRight.js","containers/TicketReadOnlyPage/atoms/SearchContainer.js","containers/TicketReadOnlyPage/atoms/MatchesListContainer.js","containers/TicketReadOnlyPage/atoms/SearchInput.js","containers/TicketReadOnlyPage/molecules/InteractiveField.js","containers/TicketReadOnlyPage/messages.js","containers/TicketReadOnlyPage/molecules/TicketSearchField.js","containers/TicketReadOnlyPage/molecules/TicketHeader.js","containers/TicketReadOnlyPage/atoms/TicketBodyContainer.js","containers/TicketReadOnlyPage/atoms/Title.js","containers/TicketReadOnlyPage/atoms/Subtitle.js","containers/TicketReadOnlyPage/atoms/TicketTableContainer.js","containers/TicketReadOnlyPage/atoms/TicketTableRowContainer.js","containers/TicketReadOnlyPage/atoms/Section10.js","containers/TicketReadOnlyPage/atoms/FloatLabel.js","containers/TicketReadOnlyPage/atoms/TicketInput.js","containers/TicketReadOnlyPage/atoms/TicketLabel.js","containers/TicketReadOnlyPage/molecules/TicketTableField.js","containers/TicketReadOnlyPage/molecules/TicketTableHeader.js","containers/TicketReadOnlyPage/atoms/TicketTableBodyContainer.js","containers/TicketReadOnlyPage/atoms/HeightAdapterContainer.js","containers/TicketReadOnlyPage/atoms/InfoTooltip.js","containers/TicketReadOnlyPage/molecules/TicketTableAmountField.js","containers/TicketReadOnlyPage/molecules/TicketTableBody.js","containers/TicketReadOnlyPage/molecules/TicketTable.js","containers/TicketReadOnlyPage/molecules/TicketBody.js","containers/TicketReadOnlyPage/atoms/TicketSpan.js","containers/TicketReadOnlyPage/molecules/TicketDiscountField.js","containers/TicketReadOnlyPage/molecules/TicketVatField.js","containers/TicketReadOnlyPage/molecules/TicketFooter.js","containers/TicketReadOnlyPage/index.js","containers/TicketReadOnlyPage/selectors.js","containers/TicketReadOnlyPage/actions.js","containers/TicketTotal/atoms/PaymentContainer.js","containers/TicketTotal/atoms/PaymentSection.js","containers/TicketTotal/atoms/Amount.js","containers/TicketTotal/atoms/TotalAmount.js","containers/TicketTotal/molecules/PaymentTotal.js","containers/TicketTotal/atoms/GivenAmount.js","containers/TicketTotal/molecules/PaymentGiven.js","containers/TicketTotal/atoms/ReturnAmount.js","containers/TicketTotal/molecules/PaymentReturn.js","containers/TicketTotal/molecules/PaymentSummary.js","containers/TicketTotal/index.js","containers/TicketTotal/selectors.js","containers/TicketTotal/actions.js","containers/TicketRawTotal/constants.js","containers/TicketRawTotal/atoms/Pre.js","containers/TicketRawTotal/molecules/PaymentTicket.js","containers/TicketRawTotal/index.js","containers/TicketRawTotal/selectors.js","containers/TicketRawTotal/actions.js","containers/TicketTotalContainer/selectors.js","containers/TicketTotalContainer/messages.js","containers/TicketTotalContainer/wrappers.js","containers/TicketTotalContainer/index.js","containers/TicketTotalContainer/actions.js","containers/TicketPayments/atoms/PaymentSectionContainer.js","containers/TicketPayments/messages.js","../../ui/src/PaymentMethod/styles.js","../../ui/src/PaymentMethod/Input.js","../../ui/src/SpinnerLoader/index.js","../../ui/src/PaymentMethod/index.js","containers/TicketPayments/molecules/Voucher.js","containers/TicketPayments/molecules/PaymentMethods.js","containers/TicketPayments/index.js","containers/TicketPaymentsContainer/messages.js","containers/TicketPaymentsContainer/wrappers.js","containers/TicketPaymentsContainer/index.js","containers/TicketPaymentsContainer/selectors.js","containers/TicketPaymentsContainer/actions.js","containers/StockItems/atoms/Container.js","containers/StockItems/atoms/Section10.js","containers/StockItems/atoms/FloatLabel.js","containers/StockItems/atoms/StockInput.js","containers/StockItems/atoms/SearchInput.js","containers/StockItems/atoms/StockLabel.js","containers/StockItems/molecules/StockField.js","containers/StockItems/molecules/InteractiveStockField.js","containers/StockItems/atoms/Section5.js","containers/StockItems/atoms/StyledButton.js","containers/StockItems/molecules/StockButton.js","containers/StockItems/atoms/StockTableHeaderContainer.js","containers/StockItems/atoms/MatchesListContainer.js","containers/StockItems/molecules/StockTableHeader.js","containers/StockItems/atoms/StockTableContainer.js","containers/StockItems/molecules/StockTableRows.js","containers/StockItems/atoms/StockTableBodyContainer.js","containers/StockItems/atoms/Title.js","containers/StockItems/atoms/Subtitle.js","containers/StockItems/molecules/StockTableBody.js","containers/StockItems/atoms/StockPaginationContainer.js","containers/StockItems/atoms/StockPaginationSection.js","containers/StockItems/atoms/StockIcons.js","containers/StockItems/atoms/PageIteratorContainer.js","containers/StockItems/molecules/StockPagination.js","containers/StockItems/index.js","containers/StockItemsBasic/constants.js","containers/StockItemsBasic/actions.js","containers/StockItemsBasic/atoms/Container.js","containers/StockItemsBasic/atoms/Section10.js","containers/StockItemsBasic/atoms/Section30.js","containers/StockItemsBasic/atoms/FloatLabel.js","containers/StockItemsBasic/atoms/StockInput.js","containers/StockItemsBasic/atoms/SearchInput.js","containers/StockItemsBasic/atoms/StockLabel.js","containers/StockItemsBasic/molecules/StockField.js","containers/StockItemsBasic/molecules/InteractiveStockField.js","containers/StockItemsBasic/atoms/Section5.js","containers/StockItemsBasic/atoms/StyledButton.js","containers/StockItemsBasic/molecules/StockButton.js","containers/StockItemsBasic/atoms/ModalContainer.js","containers/StockItemsBasic/messages.js","containers/StockItemsBasic/atoms/ImportStockInfoTooltip.js","containers/StockItemsBasic/molecules/ModalDropZone.js","containers/StockItemsBasic/atoms/Checkbox.js","containers/StockItemsBasic/molecules/ModalOptions.js","containers/StockItemsBasic/molecules/StockModal.js","containers/StockItemsBasic/selectors.js","containers/StockItemsBasic/atoms/StockTableHeaderContainer.js","containers/StockItemsBasic/atoms/MatchesListContainer.js","containers/StockItemsBasic/molecules/StockTableHeader.js","containers/StockItemsBasic/atoms/StockTableContainer.js","containers/StockItemsBasic/molecules/StockTableRows.js","containers/StockItemsBasic/atoms/StockTableBodyContainer.js","containers/StockItemsBasic/atoms/Title.js","containers/StockItemsBasic/atoms/Subtitle.js","containers/StockItemsBasic/molecules/StockTableBody.js","containers/StockItemsBasic/atoms/StockPaginationContainer.js","containers/StockItemsBasic/atoms/StockPaginationSection.js","containers/StockItemsBasic/atoms/StockIcons.js","containers/StockItemsBasic/atoms/PageIteratorContainer.js","containers/StockItemsBasic/molecules/StockPagination.js","containers/StockItemsBasic/atoms/SpinnerContainer.js","containers/StockItemsBasic/index.js","containers/TicketsPage/index.js","containers/TicketsPage/selectors.js"],"names":["CenterDiv","styled","div","_templateObject","CenterDivContent","_templateObject2","Center","props","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","children","Div","Icon","Octicon","NotFound","icon","name","Grid","section","Row2","flat","Column","_templateObject3","w","concat","_templateObject4","_templateObject5","_templateObject6","tmpDomain","state","tmp","errors","createSelector","ticketVoucherPaymentError","_ref","voucher","ticketMatches","_ref2","matches","tickets","Container","theme","app","padding","TicketCartContainer","TicketSectionContainer_templateObject","Section50","Section50_templateObject","includeStyles","propTypes","PropTypes","string","SectionLeft","SectionLeft_templateObject","SectionRight","SectionRight_templateObject","SearchContainer","SearchContainer_templateObject","searchColor","MatchesListContainer","MatchesListContainer_templateObject","searchMastchesListBgColor","searchMastchesListColor","MatchesList","ul","MatchesListItem","li","selected","_ref3","SearchInput","input","SearchInput_templateObject","placeholderColor","InteractiveField","_React$Component","Object","inherits","_super","_createSuper","_this","classCallCheck","this","call","value","createClass","key","setState","event","preventDefault","stopPropagation","_this2","readonly","react_default","atoms_SearchInput","type","placeholder","onChange","target","onKeyDown","onEnter","onMoveUp","onMoveDown","onEscape","React","Component","defineMessages","notFound","id","defaultMessage","notFoundHelp","discount","vat","saveTicket","newTicket","giftTicket","checkoutTicket","search","reference","description","subtotal","price","amount","TicketSearchField","TicketSearchField_createSuper","ticket","created_at","matchIndex","matchesVisible","nextProps","getMatches","length","every","match","String","startsWith","_this3","atoms_SearchContainer","shouldDisplayMatches","map","i","onClick","react_octicon_lib_default","molecules_InteractiveField","intl","formatMessage","messages","loadTicket","TicketHeader","TicketHeader_createSuper","apply","arguments","TicketSectionContainer","atoms_Section50","atoms_SectionLeft","molecules_TicketSearchField","_this$props","getTicketMatches","_this$props2","atoms_SectionRight","Button","inactive","isTicketCheckoutDisabled","disabled","primary","title","index_es","createTicket","objectSpread","isGift","settings","data-cy","ticketsSelectors","CHECKOUT_BUTTON","TicketBodyContainer","TicketBodyContainer_templateObject","Title","p","Title_templateObject","Subtitle","Subtitle_templateObject","TicketTableContainer","TicketTableContainer_templateObject","TicketTableRowContainer","TicketTableRowContainer_templateObject","content","even","tables","bgColorEven","bgColor","colorEven","color","Section10","Section10_templateObject","bigger","FloatLabel","FloatLabel_templateObject","TicketInput","extend","TicketInput_templateObject","TicketLabel","label","TicketLabel_templateObject","TicketTableField","TicketTableField_createSuper","atoms_Section10","atoms_FloatLabel","atoms_TicketInput","atoms_TicketLabel","Section5","Section5_templateObject","TicketButton","TicketButton_templateObject","TicketTableButton","TicketTableButton_createSuper","atoms_Section5","atoms_TicketButton","TicketTableHeader","TicketTableHeader_createSuper","atoms_TicketTableRowContainer","molecules_TicketTableField","molecules_TicketTableButton","removeTicket","TicketTableBodyContainer","TicketTableBodyContainer_templateObject","HeightAdapterContainer_templateObject","TicketTableAmountField_createSuper","onBlur","e","defaultProps","TicketTableBody","TicketTableBody_createSuper","HeightAdapterContainer","atoms_TicketTableBodyContainer","ticketOperations","stock","operation","objectWithoutProperties","formatDescription","formatDecimalPlaces","TicketTableAmountField","updateTmpData","parseInt","createAddOperation","discountValue","Number","isFinite","discountType","getSubtotal","TicketTable","TicketTable_createSuper","atoms_TicketTableContainer","molecules_TicketTableHeader","molecules_TicketTableBody","TicketBody","TicketBody_createSuper","atoms_TicketBodyContainer","isEmptyTicket","atoms_Title","atoms_Subtitle","molecules_TicketTable","TicketSpan","span","TicketSpan_templateObject","TicketFooter","TicketFooter_createSuper","NEW_TICKET_BUTTON","TicketItems","TicketSellingPage_createSuper","atoms_Container","molecules_TicketHeader","molecules_TicketBody","molecules_TicketFooter","mapStateToProps","createStructuredSelector","substate","ticketBalance","connect","dispatch","data","UPDATE_TMP_TICKET_DATA_ACTION","updateTicketData","item","UPDATE_TICKET_ACTION","put","UPDATE_STOCK_TICKET_DATA_ACTION","updateTicketTax","tax","UPDATE_TICKET_TAX_ACTION","updateTicketDiscount","UPDATE_TICKET_DISCOUNT_ACTION","REMOVE_TICKET_ACTION","field","injectIntl","Container_templateObject","atoms_TicketSectionContainer_templateObject","atoms_Section50_templateObject","atoms_SectionLeft_templateObject","atoms_SectionRight_templateObject","atoms_SearchContainer_templateObject","atoms_MatchesListContainer_templateObject","MatchesListContainer_templateObject2","MatchesListContainer_templateObject3","atoms_SearchInput_templateObject","InteractiveField_createSuper","TicketReturningPage_atoms_SearchInput","amountInfoTooltip","removedAmountInfoTooltip","printTicket","return","molecules_TicketSearchField_createSuper","TicketReturningPage_atoms_SearchContainer","MatchesListContainer_MatchesListContainer","MatchesListContainer_MatchesList","MatchesListContainer_MatchesListItem","TicketReturningPage_molecules_InteractiveField","molecules_TicketHeader_createSuper","atoms_TicketSectionContainer","TicketReturningPage_atoms_Section50","TicketReturningPage_atoms_SectionLeft","TicketReturningPage_molecules_TicketSearchField","TicketReturningPage_atoms_SectionRight","prevNode","addedAmount","previousAddedAmount","removedAmount","previousRemovedAmount","nextNode","VOUCHER_BUTTON","isTicketVoucherCheckoutDisabled","isVoucher","atoms_TicketBodyContainer_templateObject","atoms_Title_templateObject","atoms_Subtitle_templateObject","atoms_TicketTableContainer_templateObject","atoms_TicketTableRowContainer_templateObject","highlight","highlightBgColor","atoms_Section10_templateObject","atoms_FloatLabel_templateObject","atoms_TicketInput_templateObject","atoms_TicketLabel_templateObject","molecules_TicketTableField_createSuper","TicketReturningPage_atoms_Section10","TicketReturningPage_atoms_FloatLabel","TicketReturningPage_atoms_TicketInput","TicketReturningPage_atoms_TicketLabel","atoms_Section5_templateObject","atoms_TicketButton_templateObject","width","molecules_TicketTableButton_createSuper","TicketReturningPage_atoms_Section5","TicketReturningPage_atoms_TicketButton","molecules_TicketTableHeader_createSuper","TicketReturningPage_atoms_TicketTableRowContainer","TicketReturningPage_molecules_TicketTableField","TicketReturningPage_molecules_TicketTableButton","atoms_TicketTableBodyContainer_templateObject","atoms_HeightAdapterContainer_templateObject","TooltipContainer","InfoTooltip_templateObject","InfoTooltip","InfoTooltip_templateObject2","molecules_TicketTableAmountField_createSuper","info","Tooltip","right","direction","atoms_InfoTooltip","molecules_TicketTableBody_createSuper","isNewEntry","molecules_TicketTableAmountField","assign","values","returnAmount","INCREASE_RETURN_ITEM_BUTTON","createRemoveOperation","_this4","console","log","atoms_HeightAdapterContainer","TicketReturningPage_atoms_TicketTableBodyContainer","RETURN_ITEMS_LIST","RETURN_ITEM_ROW","getTicketItemAddedAmount","getTicketItemRemovedAmount","getTicketItemDiscount","getTicketItemSubtotalAmount","getTicketItemAction","molecules_TicketTable_createSuper","TicketReturningPage_atoms_TicketTableContainer","TicketReturningPage_molecules_TicketTableHeader","TicketReturningPage_molecules_TicketTableBody","molecules_TicketBody_createSuper","TicketReturningPage_atoms_TicketBodyContainer","TicketReturningPage_atoms_Title","TicketReturningPage_atoms_Subtitle","TicketReturningPage_molecules_TicketTable","atoms_TicketSpan_templateObject","molecules_TicketFooter_createSuper","TicketReturningPage_createSuper","TicketReturningPage_atoms_Container","TicketReturningPage_molecules_TicketHeader","TicketReturningPage_molecules_TicketBody","TicketReturningPage_molecules_TicketFooter","undoReturnStockFromTicket","positioninList","positionInList","UNDO_RETURN_STOCK_FROM_TICKET_ACTION","returnAllStockFromTicket","RETURN_ALL_STOCK_FROM_TICKET_ACTION","REMOVE_STOCK_FROM_TICKET_ACTION","RETURN_STOCK_FROM_TICKET_ACTION","CLOSE_TICKET_ACTION","atoms_Container_templateObject","TicketReadOnlyPage_atoms_TicketSectionContainer_templateObject","TicketReadOnlyPage_atoms_Section50_templateObject","TicketReadOnlyPage_atoms_SectionLeft_templateObject","TicketReadOnlyPage_atoms_SectionRight_templateObject","TicketReadOnlyPage_atoms_SearchContainer_templateObject","TicketReadOnlyPage_atoms_MatchesListContainer_templateObject","atoms_MatchesListContainer_templateObject2","atoms_MatchesListContainer_templateObject3","TicketReadOnlyPage_atoms_SearchInput_templateObject","molecules_InteractiveField_createSuper","TicketReadOnlyPage_atoms_SearchInput","addedAmountInfoTooltip","TicketReadOnlyPage_molecules_TicketSearchField_createSuper","TicketReadOnlyPage_atoms_SearchContainer","atoms_MatchesListContainer_MatchesListContainer","atoms_MatchesListContainer_MatchesList","atoms_MatchesListContainer_MatchesListItem","TicketReadOnlyPage_molecules_InteractiveField","TicketReadOnlyPage_molecules_TicketHeader_createSuper","TicketReadOnlyPage_atoms_TicketSectionContainer","TicketReadOnlyPage_atoms_Section50","TicketReadOnlyPage_atoms_SectionLeft","TicketReadOnlyPage_molecules_TicketSearchField","TicketReadOnlyPage_atoms_SectionRight","TicketReadOnlyPage_atoms_TicketBodyContainer_templateObject","TicketReadOnlyPage_atoms_Title_templateObject","TicketReadOnlyPage_atoms_Subtitle_templateObject","TicketReadOnlyPage_atoms_TicketTableContainer_templateObject","TicketReadOnlyPage_atoms_TicketTableRowContainer_templateObject","TicketReadOnlyPage_atoms_Section10_templateObject","TicketReadOnlyPage_atoms_FloatLabel_templateObject","TicketReadOnlyPage_atoms_TicketInput_templateObject","TicketReadOnlyPage_atoms_TicketLabel_templateObject","TicketReadOnlyPage_molecules_TicketTableField_createSuper","TicketReadOnlyPage_atoms_Section10","TicketReadOnlyPage_atoms_FloatLabel","TicketReadOnlyPage_atoms_TicketInput","TicketReadOnlyPage_atoms_TicketLabel","TicketReadOnlyPage_molecules_TicketTableHeader_createSuper","TicketReadOnlyPage_atoms_TicketTableRowContainer","TicketReadOnlyPage_molecules_TicketTableField","TicketReadOnlyPage_atoms_TicketTableBodyContainer_templateObject","TicketReadOnlyPage_atoms_HeightAdapterContainer_templateObject","atoms_InfoTooltip_templateObject","atoms_InfoTooltip_templateObject2","TicketReadOnlyPage_molecules_TicketTableAmountField_createSuper","InfoTooltip_TooltipContainer","TicketReadOnlyPage_atoms_InfoTooltip","TicketReadOnlyPage_molecules_TicketTableBody_createSuper","TicketReadOnlyPage_molecules_TicketTableAmountField","_","TicketReadOnlyPage_atoms_HeightAdapterContainer","TicketReadOnlyPage_atoms_TicketTableBodyContainer","TicketReadOnlyPage_molecules_TicketTable_createSuper","TicketReadOnlyPage_atoms_TicketTableContainer","TicketReadOnlyPage_molecules_TicketTableHeader","TicketReadOnlyPage_molecules_TicketTableBody","TicketReadOnlyPage_molecules_TicketBody_createSuper","TicketReadOnlyPage_atoms_TicketBodyContainer","TicketReadOnlyPage_atoms_Title","TicketReadOnlyPage_atoms_Subtitle","TicketReadOnlyPage_molecules_TicketTable","TicketReadOnlyPage_atoms_TicketSpan_templateObject","TicketReadOnlyPage_molecules_TicketFooter_createSuper","TicketReadOnlyPage_createSuper","TicketReadOnlyPage_atoms_Container","TicketReadOnlyPage_molecules_TicketHeader","TicketReadOnlyPage_molecules_TicketBody","TicketReadOnlyPage_molecules_TicketFooter","removeStockFromTicket","returnStockFromTicket","closeTicket","options","undefined","PaymentContainer","PaymentContainer_templateObject","PaymentSection","PaymentSection_templateObject","Amount","Amount_templateObject","TotalAmount","TotalAmount_templateObject","PaymentTotal","currency","totalAmount","atoms_PaymentSection","atoms_TotalAmount","formatPrice","GivenAmount","GivenAmount_templateObject","PaymentGiven","givenAmount","atoms_GivenAmount","ReturnAmount","ReturnAmount_templateObject","PaymentReturn","atoms_ReturnAmount","PaymentSummary","atoms_PaymentContainer","molecules_PaymentTotal","molecules_PaymentGiven","molecules_PaymentReturn","method","ticketTotalAmount","ticketProvidedAmount","ticketExchangeAmount","setTicketGivenAmount","SET_TICKET_GIVEN_AMOUNT_ACTION","increaseGivenAmount","by","INCREASE_TICKET_GIVEN_AMOUNT_ACTION","decreaseGivenAmount","DECREASE_TICKET_GIVEN_AMOUNT_ACTION","molecules_PaymentSummary","Pre","pre","Pre_templateObject","PaymentTicket","ticketTemplate","compileTicket","atoms_Pre","style","fontFamily","overflowY","molecules_PaymentTicket","makeSelectTicketTotalVisibility","visibility","total","wrappers_templateObject","border","ContainerSwitcher","wrappers_templateObject2","expanded","switchPanelIconColor","TicketTemplateViewerSwitcher","wrappers_templateObject3","SectionContainer","FirstSectionContainer","SectionTitle","FirstSection","_templateObject7","_templateObject8","_templateObject9","_templateObject10","ticketTotalVisibility","rawTicketTotalVisibility","raw","toggleTicketTotalVisibility","TOGGLE_TICKET_TOTAL_VISIBILITY","toggleRawTicketVisibility","TOGGLE_RAW_TICKET_VISIBILITY","wrappers_Container","TicketRawTotal","containers_TicketTotal","PaymentSectionContainer","PaymentSectionContainer_templateObject","creditcard","cash","phone","styles_templateObject","visible","Input","styles_templateObject2","styles_templateObject3","Label","styles_templateObject4","Input_createSuper","parseValue","pattern","cursorStart","cursorEnd","loading","increaseShiftValues","increaseNoShiftValues","parseValueId","parseValuePrice","toFixed","updateCursor","start","end","setSelectionRange","selectionStart","selectionEnd","test","setValueId","replace","includes","indexOf","substr","trim","setValue","isShift","isDecreasing","increaseValues","isDecimalIncrementation","absoluteIncrement","increment","onDoubleClick","rest","styles_Input","innerRef","shiftKey","getAmountPosition","rotateplane","keyframes","SpinnerLoader_templateObject","Spinner","SpinnerLoader_templateObject2","SpinnerLoader","PaymentMethod","styles_Container","PaymentMethod_Input","Voucher","Voucher_createSuper","voucherPaymentAmount","voucherPaymentConcept","updateTicketPayment","addVoucherPaymentAmount","removeVoucherPaymentAmount","isTicketReadOnly","isPaymentMethodDisabled","PAYMENT_METHOD_VOUCHER","Boolean","concept","mega","verticalAlign","PAYMENT_METHOD_VOUCHER_AMOUNT","cursor","PaymentMethods","creditCardPaymentAmount","cashPaymentAmount","remainingAmount","atoms_PaymentSectionContainer","PAYMENT_METHOD_CREDIT_CARD","PAYMENT_METHOD_CASH","molecules_Voucher","PAYMENT_METHOD_PHONE","TicketPayments","TicketPayments_createSuper","PaymentMethods_PaymentMethods","ticketRemainingAmount","ticketCreditCardPaymentAmount","ticketCashPaymentAmount","ticketVoucherPaymentAmount","ticketVoucherPaymentConcept","payment","voucherId","TicketPaymentsContainer_wrappers_templateObject","TicketPaymentsContainer_wrappers_templateObject2","TicketPaymentsContainer_wrappers_templateObject3","wrappers_templateObject4","Section","wrappers_SectionContainer","wrappers_SectionTitle","wrappers_templateObject5","wrappers_templateObject6","wrappers_templateObject7","wrappers_templateObject8","ticketPaymentsVisibility","payments","toggleTicketPaymentsVisibility","TOGGLE_TICKET_PAYMENTS_VISIBILITY","TicketPaymentsContainer_wrappers_Container","wrappers_ContainerSwitcher","TicketPaymentsContainer_wrappers_Section","containers_TicketPayments","StockItems_atoms_Container_templateObject","StockItems_atoms_Section10_templateObject","StockItems_atoms_FloatLabel_templateObject","StockInput","StockItems_atoms_SearchInput_templateObject","StockInput_templateObject","StockLabel","StockLabel_templateObject","StockField","StockField_createSuper","StockItems_atoms_Section10","StockItems_atoms_FloatLabel","atoms_StockInput","atoms_StockLabel","InteractiveStockField","InteractiveStockField_createSuper","StockItems_atoms_Section5_templateObject","StyledButton","StyledButton_templateObject","StockButton","StockItems_atoms_Section5","atoms_StyledButton","StockTableHeader","StockTableHeaderContainer_templateObject","StockItems_atoms_MatchesListContainer_templateObject","StockItems_atoms_MatchesListContainer_templateObject2","StockItems_atoms_MatchesListContainer_templateObject3","isNumeric","number","StockTableHeader_createSuper","brand","gender","colors","size","$or","v","$regex","RegExp","$eq","$gte","parseFloat","$lt","filter","x","isEmpty","defineProperty","searchStock","limit","skip","PubSub","publish","topics","MODAL_OPENED","StockModal","StockItems_atoms_MatchesListContainer_MatchesListContainer","StockItems_atoms_MatchesListContainer_MatchesList","StockItems_atoms_MatchesListContainer_MatchesListItem","StockTableHeaderContainer","molecules_InteractiveStockField","molecules_StockField","join","molecules_StockButton","createStock","openModal","StockTableContainer","StockTableContainer_templateObject","isRealNumeric","StockTableRows","items","atoms_StockTableContainer","_data","split","c","onUpdate","onRemove","addStockToTicket","StockTableBody","StockTableBodyContainer_templateObject","StockItems_atoms_Title_templateObject","StockItems_atoms_Subtitle_templateObject","StockTableBodyContainer","StockItems_atoms_Title","StockItems_atoms_Subtitle","molecules_StockTableRows","removeStock","updateStock","StockPaginationContainer","StockPaginationContainer_templateObject","count","StockPaginationSection","StockPaginationSection_templateObject","DownloadIcon","StockIcons_templateObject","SyncIcon","StockIcons_templateObject2","PageIteratorIcon","StockIcons_templateObject3","enabled","next","PageIteratorContainer","PageIteratorContainer_templateObject","StockPagination","refreshStock","exportStock","page","Math","floor","lastPage","ceil","enabledPrev","enabledNext","atoms_StockPaginationContainer","atoms_StockPaginationSection","paginationOf","atoms_PageIteratorContainer","makeSelectStockItems","makeSelectStockLimit","makeSelectStockOffset","makeSelectStockCount","makeSelectStockSearch","makeSelectStockReferenceMatches","makeSelectStockTmpData","decrypt","stockItem","ADD_STOCK_TO_TICKET_ACTION","StockItems_atoms_Container","molecules_StockTableHeader","molecules_StockTableBody","molecules_StockPagination","CREATE_STOCK_ACTION","UPDATE_STOCK_ACTION","REFRESH_STOCK_ACTION","REMOVE_STOCK_ACTION","EXPORT_STOCK_ACTION","SEARCH_STOCK_ACTION","GET_MATCHES_STOCK_ACTION","UPDATE_TMP_STOCK_DATA_ACTION","UPDATE_STOCK_MODAL_OPTION_ACTION","FILE_EXTENSIONS_ALLOWED","StockItemsBasic_atoms_Container_templateObject","StockItemsBasic_atoms_Section10_templateObject","Section30_templateObject","StockItemsBasic_atoms_FloatLabel_templateObject","StockItemsBasic_atoms_SearchInput_templateObject","atoms_StockInput_templateObject","atoms_StockLabel_templateObject","molecules_StockField_createSuper","Section30","StockItemsBasic_atoms_FloatLabel","StockItemsBasic_atoms_StockInput","required","StockItemsBasic_atoms_StockLabel","molecules_InteractiveStockField_createSuper","StockItemsBasic_atoms_Section10","StockItemsBasic_atoms_Section5_templateObject","atoms_StyledButton_templateObject","StockItemsBasic_atoms_Section5","StockItemsBasic_atoms_StyledButton","ModalContainer","ModalContainer_templateObject","DottedContainer","ModalContainer_templateObject2","OptionsContainer","ModalContainer_templateObject3","modalTitle","modalDesc","modalHelp","modalLoading","modalOptionRemove","modalOptionArchive","desc","ImportStockInfoTooltip","ImportStockInfoTooltip_templateObject","ModalDropZone","ModalDropZone_createSuper","filename","onApproved","saveData","batch","remove","removeStockOption","archive","archiveStockOption","str","extension","cb","JSON","parse","fromYAML","fromCSV","colParser","fromString","on","error","file","_file$name$split","fileExtension","slicedToArray","toLowerCase","window","File","FileReader","FileList","Blob","fileReader","onerror","onloadstart","onload","toJS","result","jsContent","enable","readAsText","fileInput","click","dataTransfer","kind","processFile","getAsFile","removeDragData","clear","clearData","downloadFile","SAMPLE_FILE","draggable","openFileContext","onDrop","dropHandler","onDragOver","dragOverHandler","ref","element","multiple","accept","files","display","margin","fontSize","animated","top","downloadSample","marginTop","InnerContainer","Checkbox_templateObject","SwitchLabel","Checkbox_templateObject2","SwitchInput","Checkbox_templateObject3","SwitchCheckbox","Checkbox_templateObject4","Checkbox","defaultChecked","checked","ModalOptions","ModalOptions_createSuper","Checkbox_Checkbox","marginRight","updateModalOption","paddingLeft","StockModal_createSuper","atoms_ModalContainer","molecules_ModalDropZone","disableNext","disable","molecules_ModalOptions","modal","archiveStock","option","fileName","mime","atoms_StockTableHeaderContainer_templateObject","unValid","StockItemsBasic_atoms_MatchesListContainer_templateObject","StockItemsBasic_atoms_MatchesListContainer_templateObject2","StockItemsBasic_atoms_MatchesListContainer_templateObject3","requiredFields","molecules_StockTableHeader_createSuper","validateStockForm","bind","assertThisInitialized","fieldsValue","StockItemsBasic_atoms_MatchesListContainer_MatchesListContainer","StockItemsBasic_atoms_MatchesListContainer_MatchesList","StockItemsBasic_atoms_MatchesListContainer_MatchesListItem","atoms_StockTableHeaderContainer","CONTAINER","StockItemsBasic_molecules_InteractiveStockField","FIELD_REFERENCE","StockItemsBasic_molecules_StockField","FIELD_BRAND","FIELD_DESCRIPTION","FIELD_PRICE","FIELD_AMOUNT","StockItemsBasic_molecules_StockButton","ADD_ITEM","atoms_StockTableContainer_templateObject","StockItemsBasic_atoms_StockTableContainer","stockSelectors","REMOVE_ITEM","ADD_ITEM_TO_TICKET","atoms_StockTableBodyContainer_templateObject","StockItemsBasic_atoms_Title_templateObject","StockItemsBasic_atoms_Subtitle_templateObject","atoms_StockTableBodyContainer","ITEMS_LIST","StockItemsBasic_atoms_Title","StockItemsBasic_atoms_Subtitle","StockItemsBasic_molecules_StockTableRows","ITEM","atoms_StockPaginationContainer_templateObject","atoms_StockPaginationSection_templateObject","atoms_StockIcons_templateObject","atoms_StockIcons_templateObject2","atoms_StockIcons_templateObject3","atoms_PageIteratorContainer_templateObject","StockItemsBasic_atoms_StockPaginationContainer","StockItemsBasic_atoms_StockPaginationSection","StockIcons_DownloadIcon","StockIcons_SyncIcon","StockItemsBasic_atoms_PageIteratorContainer","StockIcons_PageIteratorIcon","SpinnerContainer_templateObject","SpinnerContainer_templateObject2","SpinnerContainer","SpinnerContainer_Spinner","StockItemsBasic_atoms_Container","SpinnerContainer_SpinnerContainer","StockItemsBasic_molecules_StockTableHeader","StockItemsBasic_molecules_StockTableBody","StockItemsBasic_molecules_StockPagination","TicketsPage","TicketsPage_createSuper","isNewTicket","TicketSellingPage","TicketReadOnlyPage","TicketReturningPage","DEFAULT_SCHEMA_TYPE","StockItems","StockItemsBasic","Helmet_default","meta","getItemsComponent","containers_TicketTotalContainer","getStockItemsComponent","containers_TicketPaymentsContainer"],"mappings":"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","file":"static/js/4.d7eb78b3.chunk.js","sourcesContent":["/**\n*\n* Center\n*\n*/\n\nimport React, { PropTypes } from 'react';\nimport styled from 'styled-components';\n\nconst CenterDiv = styled.div`\n  width: 100%;\n  height: 100%;\n  text-align: center;\n  display: table;\n`;\nconst CenterDivContent = styled.div`\n  display: table-cell;\n  vertical-align: middle;\n`;\n\nexport function Center(props) {\n  return (\n    <CenterDiv>\n      <CenterDivContent>\n        {props.children}\n      </CenterDivContent>\n    </CenterDiv>\n  );\n}\n\nCenter.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n};\n\nexport default Center;\n","/**\n*\n* NotFound\n*\n*/\n\nimport React, { PropTypes } from 'react';\nimport Octicon from 'react-octicon';\nimport styled from 'styled-components';\n\nconst Div = styled.div`\n  font-size: 1.6em;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  font-weight: 400;\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n  color: rgba(187, 183, 183, 0.8);\n`;\nconst Icon = styled(Octicon)`\n  font-size: 3em;\n  display: block;\n  margin-bottom: 20px;\n  color: rgba(187, 183, 183, 0.5);\n`;\n\nfunction NotFound(props) {\n  return (\n    <Div>\n      {props.icon && <Icon name={props.icon} />}\n      {props.children}\n    </Div>\n  );\n}\n\nNotFound.propTypes = {\n  icon: PropTypes.string,\n  children: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n};\n\nexport default NotFound;\n","/**\n*\n* Grid\n*\n*/\n\n// import React from 'react';\nimport styled from 'styled-components';\n\nexport const Grid = styled.section`\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: column;\n`;\n\nexport const Row2 = styled.section`\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: row;\n  min-width: 100%;\n  ${(props) => (props.flat ? 'height: auto' : 'height: calc(50vh - 16px)')};\n  ${(props) => (props.flat ? 'max-height: auto' : 'max-height: calc(50vh - 16px)')};\n  ${(props) => (props.flat ? 'min-height: auto' : 'min-height: calc(50vh - 16px)')};\n`;\n\nconst width = (w) => `width: ${w}; min-width: ${w}; max-width: ${w};`;\nexport const Column = styled.section`\n  width: 100%;\n  ${(props) => (props.w ? width(props.w) : '')};\n`;\n\nexport const Column2 = styled.section`\n  width: 50%;\n  max-width: 50%;\n  min-width: 50%;\n`;\n\nexport const Column3 = styled.section`\n  width: 33.33%;\n  max-width: 33.33%;\n  min-width: 33.33%;\n`;\n\nexport const Column4 = styled.section`\n  width: 25%;\n  max-width: 25%;\n  min-width: 25%;\n`;\n","import { createSelector } from 'reselect';\n\nexport const tmpDomain = (state) => state.tmp;\n\nexport const errors =\n    createSelector(\n        tmpDomain,\n        (tmp) =>\n            tmp.errors\n    );\n\nexport const ticketVoucherPaymentError =\n    createSelector(\n        errors,\n        ({ voucher }) => voucher\n    );\n\nexport const ticketMatches =\n    createSelector(\n        tmpDomain,\n        ({ matches }) => matches.tickets\n    );\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const Container = styled.div`\n  height: 100%;\n  border-bottom: 1px solid rgba(163, 168, 174, 0.1);\n  padding: ${(props) =>\n    props.theme && props.theme.app.padding ? props.theme.app.padding : '0px'};\n`;\n\nexport default Container;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const TicketCartContainer = styled.div`\n  width: 100%;\n  height: 44px;\n  display: flex;\n  flex: 0 1 auto;\n  flex-direction: row;\n`;\n\nexport default TicketCartContainer;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\nimport {PropTypes} from \"react\";\n\nexport const Section50 = styled.div`\n  width: 50%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  display: table;\n  ${(props) => (props.includeStyles ? props.includeStyles : '')};\n`;\n\nSection50.propTypes = {\n  includeStyles: PropTypes.string,\n};\n\nexport default Section50;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const SectionLeft = styled.div`\n  display: table-cell;\n  vertical-align: middle;\n`;\n\nexport default SectionLeft;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const SectionRight = styled.div`\n  display: table-cell;\n  text-align: right;\n  vertical-align: middle;\n`;\n\nexport default SectionRight;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const SearchContainer = styled.div`\ncolor: ${(props) => props.theme && props.theme.tickets.searchColor\n  ? props.theme.tickets.searchColor : 'rgba(163, 168, 174, 0.5)'};\nmargin-left: 10px;\n`;\n\nexport default SearchContainer;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n// import Octicon from 'react-octicon';\n\nexport const MatchesListContainer = styled.div`\n  position: absolute;\n  margin-top: 25px;\n  background-color: ${(props) => props.theme && props.theme.tickets.searchMastchesListBgColor\n    ? props.theme.tickets.searchMastchesListBgColor : 'rgba(100, 100, 100, 1)'};\n  color: ${(props) => props.theme && props.theme.tickets.searchMastchesListColor\n    ? props.theme.tickets.searchMastchesListColor : 'white'};\n  padding: 0;\n`;\n\nexport const MatchesList = styled.ul`\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  text-align: center;\n`;\n\nexport const MatchesListItem = styled.li`\n  width: 100%;\n  padding: 5px 10px;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  font-weight: ${({ selected }) => (selected ? '400' : '100')};\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n  font-size: 1.3em;\n  color: ${({ selected }) => (selected ? '#73c990' : 'inherit')};\n  background-color: ${({ selected }) =>\n    selected ? 'rgba(255, 255, 255, 0.1)' : 'translate'};\n`;\n\nexport default MatchesListContainer;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const SearchInput = styled.input`\n  outline: none;\n  font-size: 1.2em;\n  margin-left: 5px;\n  width: 100%;\n  max-width: 150px;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  font-weight: 100;\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n\n  &::-webkit-input-placeholder {\n    /* WebKit, Blink, Edge */\n    color: ${(props) => props.theme && props.theme.tickets.placeholderColor\n      ? props.theme.tickets.placeholderColor : 'rgba(163, 168, 174, 0.3)'};\n  }\n  &:-moz-placeholder {\n    /* Mozilla Firefox 4 to 18 */\n    color: ${(props) => props.theme && props.theme.tickets.placeholderColor\n      ? props.theme.tickets.placeholderColor : 'rgba(163, 168, 174, 0.3)'};\n    opacity: 1;\n  }\n  &::-moz-placeholder {\n    /* Mozilla Firefox 19+ */\n    color: ${(props) => props.theme && props.theme.tickets.placeholderColor\n      ? props.theme.tickets.placeholderColor : 'rgba(163, 168, 174, 0.3)'};\n    opacity: 1;\n  }\n  &:-ms-input-placeholder {\n    /* Internet Explorer 10-11 */\n    color: ${(props) => props.theme && props.theme.tickets.placeholderColor\n      ? props.theme.tickets.placeholderColor : 'rgba(163, 168, 174, 0.3)'};\n  }\n  &::-ms-input-placeholder {\n    /* Microsoft Edge */\n    color: ${(props) => props.theme && props.theme.tickets.placeholderColor\n      ? props.theme.tickets.placeholderColor : 'rgba(163, 168, 174, 0.3)'};\n  }\n`;\n\nexport default SearchInput;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport SearchInput from '../atoms/SearchInput';\n\nexport class InteractiveField extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { value: props.value || '' };\n  }\n  // @todo replace componentWillReceiveProps by getDerivedStateFromProps\n  // from React 17\n  componentWillReceiveProps(props) {\n    this.setState({ value: props.value });\n  }\n\n  stopPropagation(event) {\n    event.preventDefault();\n    event.stopPropagation();\n    return false;\n  }\n\n  render() {\n    return (\n      !this.props.readonly && (\n        <SearchInput\n          type=\"text\"\n          placeholder={this.props.placeholder}\n          onChange={({ target }) =>\n            this.setState({ value: target.value }, () => this.props.onChange(target.value))\n          }\n          onKeyDown={(event) => {\n            const { target, key } = event;\n            switch (key) {\n              case 'Enter':\n                this.props.onEnter && this.props.onEnter(target.value);\n                return this.stopPropagation(event);\n              case 'ArrowUp':\n                this.props.onMoveUp && this.props.onMoveUp(target.value);\n                return this.stopPropagation(event);\n              case 'ArrowDown':\n                this.props.onMoveDown && this.props.onMoveDown(target.value);\n                return this.stopPropagation(event);\n              case 'Escape':\n                this.props.onEscape && this.props.onEscape(target.value);\n                return this.stopPropagation(event);\n              default:\n            }\n            return true;\n          }}\n          value={this.state.value}\n        />\n      )\n    );\n  }\n}\n\nInteractiveField.propTypes = {\n  placeholder: PropTypes.any, // @todo move to string\n  onChange: PropTypes.func,\n};\n\nexport default InteractiveField;\n","/*\n * TicketItems Messages\n *\n * This contains all the text for the TicketItems component.\n */\nimport { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  notFound: {\n    id: 'kz.containers.TicketItems.notFound',\n    defaultMessage: 'Ticket empty',\n  },\n  notFoundHelp: {\n    id: 'kz.containers.TicketItems.notFoundHelp',\n    defaultMessage: 'Add some items to this ticket',\n  },\n  discount: {\n    id: 'kz.containers.TicketItems.discount',\n    defaultMessage: 'Discount',\n  },\n  vat: {\n    id: 'kz.containers.TicketItems.vat',\n    defaultMessage: 'VAT',\n  },\n  saveTicket: {\n    id: 'kz.containers.TicketItems.save',\n    defaultMessage: 'Save Ticket',\n  },\n  newTicket: {\n    id: 'kz.containers.TicketItems.new',\n    defaultMessage: 'New Ticket',\n  },\n  giftTicket: {\n    id: 'kz.containers.TicketItems.gift',\n    defaultMessage: 'Is a Gift',\n  },\n  checkoutTicket: {\n    id: 'kz.containers.TicketItems.checkout',\n    defaultMessage: 'Checkout',\n  },\n  search: {\n    id: 'kz.containers.TicketItems.search',\n    defaultMessage: 'Ticket ID',\n  },\n  reference: {\n    id: 'kz.containers.TicketItems.table.reference',\n    defaultMessage: 'Reference',\n  },\n  description: {\n    id: 'kz.containers.TicketItems.table.description',\n    defaultMessage: 'Description',\n  },\n  subtotal: {\n    id: 'kz.containers.TicketItems.table.subtotal',\n    defaultMessage: 'Subtotal',\n  },\n  price: {\n    id: 'kz.containers.TicketItems.table.price',\n    defaultMessage: 'Price',\n  },\n  amount: {\n    id: 'kz.containers.TicketItems.table.amount',\n    defaultMessage: 'Amount',\n  },\n});\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport Octicon from 'react-octicon';\nimport SearchContainer from '../atoms/SearchContainer';\nimport {\n  MatchesListContainer,\n  MatchesList,\n  MatchesListItem,\n} from '../atoms/MatchesListContainer';\nimport InteractiveField from './InteractiveField';\nimport messages from '../messages';\n\nexport class TicketSearchField extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: props.ticket.created_at,\n      matchIndex: 0,\n      matchesVisible: true,\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.ticket.created_at != nextProps.ticket.created_at) {\n      this.setState({ value: nextProps.ticket.created_at });\n    }\n  }\n\n  getMatches(created_at) {\n    if (!created_at) return;\n    this.props.getMatches('created_at', created_at);\n  }\n\n  shouldDisplayMatches() {\n    return (\n      this.state.matchesVisible &&\n      !!this.state.value &&\n      !!this.state.value.length &&\n      this.props.matches &&\n      this.props.matches.length > 1 &&\n      this.props.matches.every(\n        (match) =>\n          String(match).startsWith(this.state.value) &&\n          String(match) !== this.state.value\n      )\n    );\n  }\n\n  render() {\n    return (\n      <SearchContainer>\n        {this.shouldDisplayMatches() && (\n          <MatchesListContainer>\n            <MatchesList>\n              {this.props.matches.map((match, i) => (\n                <MatchesListItem\n                  key={i}\n                  onClick={() =>\n                    this.setState({ value: match, matchIndex: 0 })\n                  }\n                  selected={this.state.matchIndex === i}\n                >\n                  {match}\n                </MatchesListItem>\n              ))}\n            </MatchesList>\n          </MatchesListContainer>\n        )}\n        <Octicon name=\"search\" />\n        <InteractiveField\n          placeholder={this.props.intl.formatMessage(messages.search)}\n          readonly={false}\n          value={this.state.value}\n          onChange={(value) =>\n            this.setState({ value, matchIndex: 0, matchesVisible: true }, () => this.getMatches(value))}\n          onMoveUp={() =>\n            this.setState({\n              matchIndex:\n                (this.state.matchIndex > 0\n                  ? this.state.matchIndex - 1\n                  : this.props.matches.length - 1) %\n                this.props.matches.length,\n            })\n          }\n          onMoveDown={() =>\n            this.setState({\n              matchIndex:\n                (this.state.matchIndex + 1) % this.props.matches.length,\n            })\n          }\n          onEscape={() => this.setState({ matchesVisible: false })}\n          onEnter={() => {\n            this.setState({\n              value: this.shouldDisplayMatches()\n                ? this.props.matches[this.state.matchIndex]\n                : this.state.value,\n            });\n\n            if (this.props.matches[this.state.matchIndex]) {\n              this.props.loadTicket(this.props.matches[this.state.matchIndex], 'createdAt');\n            }\n          }\n          }\n\n        />\n      </SearchContainer>\n    );\n  }\n}\n\nTicketSearchField.propTypes = {};\n\nexport default TicketSearchField;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { isEmpty } from 'lodash';\nimport Button from 'components/Button';\nimport { TICKET_SOLD_STATE } from 'config';\nimport TicketSectionContainer from '../atoms/TicketSectionContainer';\nimport Section50 from '../atoms/Section50';\nimport SectionLeft from '../atoms/SectionLeft';\nimport SectionRight from '../atoms/SectionRight';\nimport TicketSearchField from './TicketSearchField';\nimport messages from '../messages';\nimport { tickets as ticketsSelectors } from '@kalzate/cy';\n\nexport class TicketHeader extends React.Component {\n  render() {\n    return (\n      <TicketSectionContainer>\n        <Section50>\n          <SectionLeft>\n            <TicketSearchField\n              intl={this.props.intl}\n              ticket={this.props.ticket}\n              matches={this.props.ticketMatches}\n              getMatches={(...args) => this.props.getTicketMatches(...args)}\n              loadTicket={(...args) => this.props.loadTicket(...args)}\n            />\n          </SectionLeft>\n        </Section50>\n        <Section50>\n          <SectionRight>\n            <Button\n              inactive={this.props.isTicketCheckoutDisabled}\n              disabled={this.props.isTicketCheckoutDisabled}\n              primary\n              icon=\"gift\"\n              //@todo title has a conflict with html native title attribute, this prop should be a children and html title prop for html attribute\n              title={<FormattedMessage {...messages.giftTicket} />}\n              onClick={() =>\n                this.props.createTicket({\n                  ...this.props.ticket,\n                  isGift: true,\n                }, this.props.settings)\n              }\n            />\n            <Button\n              data-cy={ticketsSelectors.CHECKOUT_BUTTON}\n              inactive={\n                this.props.isTicketCheckoutDisabled\n              }\n              disabled={this.props.isTicketCheckoutDisabled}\n              primary\n              icon=\"check\"\n              title={<FormattedMessage {...messages.checkoutTicket} />}\n              onClick={() =>\n                this.props.createTicket({ ...this.props.ticket }, this.props.settings)\n              }\n            />\n          </SectionRight>\n        </Section50>\n      </TicketSectionContainer>\n    );\n  }\n}\n\nTicketHeader.propTypes = {};\n\nexport default TicketHeader;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const TicketBodyContainer = styled.div`\nwidth: 100%;\nheight: calc(100% - 88px);\ndisplay: flex;\nflex: 0 1 auto;\nflex-direction: row;\n`;\n\nexport default TicketBodyContainer;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const Title = styled.p`\n  font-size: 1.1em;\n  margin-bottom: 0;\n`;\n\nexport default Title;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const Subtitle = styled.p`\n  font-size: 0.9em;\n  font-weight: 200;\n  margin-top: 5px;\n`;\n\nexport default Subtitle;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const TicketTableContainer = styled.div`\nwidth: 100%;\nmargin: 2px 0;\n`;\nexport default TicketTableContainer;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const TicketTableRowContainer = styled.div`\n// width: ${(props) => (props.content ? 'calc(100% - 5px)' : '100%')};\nwidth: '100%';\nheight: 44px;\ndisplay: flex;\nflex: 0 1 auto;\nflex-direction: row;\nbackground-color: ${(props) =>\n        props.even ? props.theme.tables.bgColorEven : props.theme.tables.bgColor};\ncolor: ${(props) => (props.even ? props.theme.tables.colorEven : props.theme.tables.color)};\n`;\nexport default TicketTableRowContainer;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const Section10 = styled.div`\nwidth: ${(props) => props.bigger ? '30' : '16'}%;\nheight: 100%;\nmargin: 0;\npadding: 0;\nborder-right: 1px solid rgba(163, 168, 174, 0.1);\n`;\n\nexport default Section10;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const FloatLabel = styled.div`\n  display: block;\n  position: relative;\n  width: 100%;\n  height: 100%;\n`;\n\nexport default FloatLabel;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport SearchInput from './SearchInput';\n\nexport const TicketInput = SearchInput.extend`\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  margin-left: 10px;\n  padding-top: 10px;\n  padding-right: 10px;\n  &::-webkit-input-placeholder {\n    opacity: 1;\n    -webkit-transition: all 0.2s;\n    transition: all 0.2s;\n  }\n  &::-moz-placeholder {\n    opacity: 1;\n    -webkit-transition: all 0.2s;\n    transition: all 0.2s;\n  }\n  &:-ms-input-placeholder {\n    opacity: 1;\n    -webkit-transition: all 0.2s;\n    transition: all 0.2s;\n  }\n  &::placeholder {\n    opacity: 1;\n    -webkit-transition: all 0.2s;\n    transition: all 0.2s;\n  }\n  &:placeholder-shown:not(:focus)::-webkit-input-placeholder {\n    opacity: 0;\n  }\n  &:placeholder-shown:not(:focus)::-moz-placeholder {\n    opacity: 0;\n  }\n  &:placeholder-shown:not(:focus):-ms-input-placeholder {\n    opacity: 0;\n  }\n  &:placeholder-shown:not(:focus)::placeholder {\n    opacity: 0;\n  }\n  &:placeholder-shown:not(:focus) + * {\n    font-size: 1.7em;\n    opacity: 0.5;\n    top: 0.35em;\n  }\n  &:focus {\n    outline: none;\n    border-color: rgba(0, 0, 0, 0.5);\n  }\n`;\n\nexport default TicketInput;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const TicketLabel = styled.label`\nposition: absolute;\npointer-events: none; // makes the input ot get focus having the label on top of it\nleft: 0;\ntop: ${(props) => (props.readonly ? '.35em' : '0')};\ncursor: text;\nfont-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n  Cantarell, Arial, sans-serif;\nfont-weight: 100;\n-webkit-font-smoothing: antialiased;\nfont-variant: all-petite-caps;\nfont-style: normal;\nopacity: ${(props) => (props.readonly ? '.5' : '1')};\n-webkit-transition: all 0.2s;\ntransition: all 0.2s;\nmargin-left: 10px;\nfont-size: ${(props) => (props.readonly ? '1.7em' : '14px')};\nuser-select: none;\n`;\n\nexport default TicketLabel;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport Section10 from '../atoms/Section10';\nimport FloatLabel from '../atoms/FloatLabel';\nimport TicketInput from '../atoms/TicketInput';\nimport TicketLabel from '../atoms/TicketLabel';\n\nexport class TicketTableField extends React.Component {\n\n  render() {\n    return (\n      <Section10 bigger={this.props.bigger}>\n        <FloatLabel>\n          {!this.props.readonly && <TicketInput type=\"text\" placeholder={this.props.placeholder} />}\n          <TicketLabel readonly={this.props.readonly}>{this.props.placeholder}</TicketLabel>\n        </FloatLabel>\n      </Section10>\n    );\n  }\n}\n\nTicketTableField.propTypes = {};\n\nexport default TicketTableField;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const Section5 = styled.div`\nwidth: 6%;\nheight: 100%;\nmargin: 0;\npadding: 0;\nborder-right: 1px solid rgba(163, 168, 174, 0.1);\n//\n`;\n\nexport default Section5;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\nimport Button from 'components/Button';\n\nexport const TicketButton = styled(Button) `\nwidth: 100%;\nheight: 100%;\nborder: none;\nmargin: 0;\n&:hover {\n  border: none;\n}\n`;\n\nexport default TicketButton;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport Section5 from '../atoms/Section5';\nimport TicketButton from '../atoms/TicketButton';\n\nexport class TicketTableButton extends React.Component {\n\n  render() {\n    return (\n      <Section5>\n        <TicketButton {...this.props} />\n      </Section5>\n    );\n  }\n}\n\nTicketTableButton.propTypes = {};\n\nexport default TicketTableButton;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport TicketTableRowContainer from '../atoms/TicketTableRowContainer';\nimport TicketTableField from './TicketTableField';\nimport TicketTableButton from './TicketTableButton';\nimport messages from '../messages';\n\nexport class TicketTableHeader extends React.Component {\n\n  render() {\n    return (\n      <TicketTableRowContainer content>\n        <TicketTableField placeholder={this.props.intl.formatMessage(messages.reference)} readonly />\n        <TicketTableField placeholder={this.props.intl.formatMessage(messages.description)} readonly bigger />\n        <TicketTableField placeholder={this.props.intl.formatMessage(messages.price)} readonly />\n        <TicketTableField placeholder={this.props.intl.formatMessage(messages.amount)} readonly />\n        <TicketTableField placeholder={this.props.intl.formatMessage(messages.discount)} readonly />\n        <TicketTableField placeholder={this.props.intl.formatMessage(messages.subtotal)} readonly />\n        <TicketTableButton primary icon=\"remove-close\" onClick={() => this.props.removeTicket()} />\n        {/* This remove-close button in the table header removes the current ticket state to start again with a new ticket, otherwise it has to be clicked on save ticket. cancel ticket or check out to start with a new ticket. Going back and forth (i.e. from ticket screen to home screen and again to ticket screen again) does not removes current ticket state but preserves it as a draft */}\n      </TicketTableRowContainer>\n    );\n  }\n}\n\nTicketTableHeader.propTypes = {};\n\nexport default TicketTableHeader;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const TicketTableBodyContainer = styled.div`\nwidth: 100%;\nheight: 100%;\noverflow: auto;\n`;\n\nexport default TicketTableBodyContainer;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const TicketTableBodyContainer = styled.div`\n  width: 100%;\n  height: calc(100% - 44px);\n  display: flex;\n  flex: 0 1 auto;\n  flex-direction: row;\n`;\n\nexport default TicketTableBodyContainer;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport Section10 from '../atoms/Section10';\nimport FloatLabel from '../atoms/FloatLabel';\nimport TicketInput from '../atoms/TicketInput';\nimport TicketLabel from '../atoms/TicketLabel';\n\nexport class TicketTableField extends React.Component {\n\n  static defaultProps = {\n    onChange: () => null,\n    onBlur: () => null,\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = { value: props.value || '' };\n  }\n  // @todo replace componentWillReceiveProps by getDerivedStateFromProps\n  // from React 17\n  componentWillReceiveProps(props) {\n    this.setState({ value: props.value });\n  }\n\n  render() {\n    return (\n      <Section10 bigger={this.props.bigger} onBlur={(e) => this.props.onBlur(e)}>\n        <FloatLabel>\n          {!this.props.readonly && <TicketInput\n            type=\"text\"\n            placeholder={this.props.placeholder}\n            onChange={({ target }) =>\n              this.setState({ value: target.value }, () =>\n                this.props.onChange(target.value)\n              )\n            }\n            value={this.state.value}\n          />}\n          <TicketLabel readonly={this.props.readonly}>{this.props.placeholder}</TicketLabel>\n        </FloatLabel>\n      </Section10>\n    );\n  }\n}\n\nTicketTableField.propTypes = {};\n\nexport default TicketTableField;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport { getSubtotal, formatDescription, formatDecimalPlaces } from 'utils/ticket';\nimport TicketTableBodyContainer from '../atoms/TicketTableBodyContainer';\nimport HeightAdapterContainer from '../atoms/HeightAdapterContainer';\nimport TicketTableRowContainer from '../atoms/TicketTableRowContainer';\nimport TicketTableField from './TicketTableField';\nimport TicketTableAmountField from './TicketTableAmountField';\nimport TicketTableButton from './TicketTableButton';\n\nexport class TicketTableBody extends React.Component {\n\n  render() {\n    return (\n      <HeightAdapterContainer>\n        <TicketTableBodyContainer>\n          {this.props.ticketOperations.map(({ stock, ...operation }, i) => (\n            <TicketTableRowContainer key={i} even={(i + 1) % 2}>\n              <TicketTableField placeholder={stock.reference} readonly />\n              <TicketTableField placeholder={formatDescription(stock)} readonly bigger />\n              <TicketTableField placeholder={formatDecimalPlaces(stock.price)} readonly />\n              <TicketTableAmountField\n                placeholder={operation.amount}\n                value={\n                  this.props.tmp[stock.reference] && this.props.tmp[stock.reference].amount\n                    ? this.props.tmp[stock.reference].amount\n                    : ''\n                }\n                onChange={(amount) =>\n                  this.props.updateTmpData(stock.reference, {\n                    amount: parseInt(amount, 10),\n                  })\n                }\n                onBlur={() => {\n                  if (this.props.tmp[stock.reference] && this.props.tmp[stock.reference].amount) {\n                    this.props.createAddOperation(stock, {\n                      amount: this.props.tmp[stock.reference].amount,\n                    });\n                  }\n                }}\n              />\n              <TicketTableAmountField\n                placeholder={operation.discountValue || '0'}\n                value={\n                  this.props.tmp[stock.reference] && Number.isFinite(this.props.tmp[stock.reference].discountValue)\n                    ? this.props.tmp[stock.reference].discountValue\n                    : ''\n                }\n                onChange={(discountValue) =>\n                  this.props.updateTmpData(stock.reference, {\n                    discountValue: parseInt(discountValue, 10),\n                  })\n                }\n                onBlur={() => {\n                  if (this.props.tmp[stock.reference] && Number.isFinite(this.props.tmp[stock.reference].discountValue)) {\n                    this.props.createAddOperation(stock, {\n                      amount: operation.amount,\n                      discountValue: this.props.tmp[stock.reference].discountValue,\n                      discountType: 'fixed'\n                    });\n                  }\n                }}\n              />\n              <TicketTableField placeholder={formatDecimalPlaces(getSubtotal({ stock, ...operation }))} readonly />\n              <TicketTableButton primary icon=\"remove-close\" onClick={() => this.props.createAddOperation(stock, { amount: 0 })} />\n            </TicketTableRowContainer>\n          ))}\n        </TicketTableBodyContainer>\n      </HeightAdapterContainer>\n    );\n  }\n}\n\nTicketTableBody.propTypes = {};\n\nexport default TicketTableBody;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport TicketTableContainer from '../atoms/TicketTableContainer';\nimport TicketTableHeader from './TicketTableHeader';\nimport TicketTableBody from './TicketTableBody';\n\nexport class TicketTable extends React.Component {\n\n  render() {\n    return (\n      <TicketTableContainer>\n        <TicketTableHeader {...this.props} />\n        <TicketTableBody {...this.props} />\n      </TicketTableContainer>\n    );\n  }\n}\n\nTicketTable.propTypes = {};\n\nexport default TicketTable;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { isEmpty } from 'lodash';\nimport Center from 'components/Center';\nimport NotFound from 'components/NotFound';\nimport TicketBodyContainer from '../atoms/TicketBodyContainer';\nimport Title from '../atoms/Title';\nimport Subtitle from '../atoms/Subtitle';\nimport TicketTable from './TicketTable';\nimport messages from '../messages';\n\nexport class TicketBody extends React.Component {\n\n  render() {\n    return (\n      <TicketBodyContainer>\n        {this.props.isEmptyTicket &&\n          <Center>\n            <NotFound icon=\"thumbsdown\">\n              <Title>\n                <FormattedMessage {...messages.notFound} />\n              </Title>\n              <Subtitle>\n                <FormattedMessage {...messages.notFoundHelp} />\n              </Subtitle>\n            </NotFound>\n          </Center>}\n\n        {!this.props.isEmptyTicket && (\n          <TicketTable {...this.props} />\n        )}\n      </TicketBodyContainer>\n    );\n  }\n}\n\nTicketBody.propTypes = {};\n\nexport default TicketBody;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const TicketSpan = styled.span`\n  outline: none;\n  font-size: 1.3em;\n  margin-left: 5px;\n  width: 150px;\n  font-family: 'BlinkMacSystemFont','Lucida Grande','Segoe UI',Ubuntu, Cantarell,Arial,sans-serif;\n  font-weight: 100;\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n`;\n\nexport default TicketSpan;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport Octicon from 'react-octicon';\nimport SearchContainer from '../atoms/SearchContainer';\nimport SearchInput from '../atoms/SearchInput';\nimport TicketSpan from '../atoms/TicketSpan';\nimport messages from '../messages';\n\nconst isRealNumeric = function (input) {\n  return /^[1-9][0-9]{0,1}$/.test(input);\n};\n\nexport class TicketDiscountField extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = { value: this.toPercentage(props.discount) };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({ value: this.toPercentage(nextProps.discount) });\n  }\n\n  toPercentage(value) {\n    return (value * 100).toFixed();\n  }\n\n  render() {\n    return (\n      <SearchContainer>\n        <Octicon name=\"triangle-down\" />\n        <TicketSpan> <FormattedMessage {...messages.discount} /></TicketSpan>\n        <SearchInput\n          type=\"text\"\n          onFocus={({ target }) => target.value = target.value.replace('%', '').trim()}\n          value={this.state.value > 0 ? this.state.value : ''}\n          onChange={({ target }) => {\n            this.props.updateDiscount(isRealNumeric(target.value) ? target.value : (target.value === '' ? 0 : this.state.value));\n          }\n          }\n          placeholder={'%'}\n          onBlur={({ target }) => target.value = this.state.value > 0 ? `${target.value} %` : ''}\n        />\n      </SearchContainer>\n    );\n  }\n}\n\nTicketDiscountField.propTypes = {};\n\nexport default TicketDiscountField;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport Octicon from 'react-octicon';\nimport SearchContainer from '../atoms/SearchContainer';\nimport SearchInput from '../atoms/SearchInput';\nimport TicketSpan from '../atoms/TicketSpan';\nimport messages from '../messages';\n\nconst isRealNumeric = function (input) {\n  return /^[1-9][0-9]{0,1}$/.test(input);\n};\nexport class TicketVatField extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = { value: this.toPercentage(props.tax) };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({ value: this.toPercentage(nextProps.tax) });\n  }\n\n  toPercentage(value) {\n    return (value * 100).toFixed();\n  }\n\n  render() {\n    return (\n      <SearchContainer>\n        <Octicon name=\"triangle-up\" />\n        <TicketSpan> <FormattedMessage {...messages.vat} /></TicketSpan>\n        <SearchInput\n          type=\"text\"\n          onFocus={({ target }) => target.value = target.value.replace('%', '').trim()}\n          value={this.state.value > 0 ? this.state.value : ''}\n          onChange={({ target }) => {\n            this.props.updateTax(isRealNumeric(target.value) ? target.value : (target.value === '' ? 0 : this.state.value));\n          }}\n          placeholder={'%'}\n          onBlur={({ target }) => target.value = this.state.value > 0 ? `${target.value} %` : ''}\n        />\n      </SearchContainer>\n    );\n  }\n}\n\nTicketVatField.propTypes = {};\n\nexport default TicketVatField;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { isEmpty } from 'lodash';\nimport { TICKET_SAVE_STATE } from 'config';\nimport Button from 'components/Button';\nimport TicketSectionContainer from '../atoms/TicketSectionContainer';\nimport Section50 from '../atoms/Section50';\nimport SectionLeft from '../atoms/SectionLeft';\nimport SectionRight from '../atoms/SectionRight';\nimport TicketDiscountField from './TicketDiscountField';\nimport TicketVatField from './TicketVatField';\nimport messages from '../messages';\nimport { tickets as ticketsSelectors } from '@kalzate/cy';\n\nconst section50StylesLeftCont = `\n@media (max-width: 1080px) {\n  width: 35%;\n}`;\n\nconst section50StylesRightCont = `\n@media (max-width: 1080px) {\n  width: 65%;\n}`;\n\nexport class TicketFooter extends React.Component {\n  render() {\n    return (\n      <TicketSectionContainer>\n        <Section50 includeStyles={section50StylesLeftCont}>\n          <SectionLeft>\n            {/* <TicketVatField\n              tax={this.props.ticket.tax}\n              updateTax={(tax) => this.props.updateTicketTax(tax)}\n            /> */}\n          </SectionLeft>\n          <SectionLeft>\n            {/* <TicketDiscountField\n              discount={this.props.ticket.discount}\n              updateDiscount={(discount) => this.props.updateTicketDiscount(discount)}\n            /> */}\n          </SectionLeft>\n        </Section50>\n        <Section50 includeStyles={section50StylesRightCont}>\n          <SectionRight>\n            {/* <Button\n              data-cy={ticketsSelectors.SELL_SAVE_BUTTON}\n              inactive={this.props.isEmptyTicket}\n              icon=\"cloud-download\"\n              title={<FormattedMessage {...messages.saveTicket} />}\n              onClick={() =>\n                this.props.closeTicket(this.props.ticket, { state: TICKET_SAVE_STATE })\n              }\n            /> */}\n            <Button\n              data-cy={ticketsSelectors.NEW_TICKET_BUTTON}\n              inactive={this.props.isEmptyTicket}\n              icon=\"trashcan\"\n              title={<FormattedMessage {...messages.newTicket} />}\n              onClick={() => this.props.removeTicket()}\n            />\n            {/* Full ticket displays a modal where user can edit the final content of the ticket, useful in same cases */}\n            {/* <Button icon=\"checklist\" title=\"Full Ticket\" /> */}\n          </SectionRight>\n        </Section50>\n      </TicketSectionContainer>\n    );\n  }\n}\n\nTicketFooter.propTypes = {};\n\nexport default TicketFooter;\n","/*\n *\n * TicketItems\n *\n */\n\nimport React, { PropTypes } from 'react';\nimport { injectIntl } from 'react-intl';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport {\n  ticket,\n  ticketBalance,\n  ticketOperations,\n  isEmptyTicket,\n  isTicketCheckoutDisabled\n} from 'selectors/tickets';\nimport {\n  ticketMatches\n} from 'selectors/tmp';\nimport {\n  makeSelectTicketTmpData,\n  makeSelectTicketCreatedAtMatches,\n  selectSettingsData,\n} from './selectors';\nimport {\n  updateTmpData,\n  updateTicketData,\n  updateTicketTax,\n  updateTicketDiscount,\n  removeTicket,\n} from './actions';\nimport {\n  getTicketMatches,\n  loadTicket,\n  createAddOperation,\n  createTicket\n} from 'actions/tickets';\nimport Container from './atoms/Container';\nimport TicketHeader from './molecules/TicketHeader';\nimport TicketBody from './molecules/TicketBody';\nimport TicketFooter from './molecules/TicketFooter';\n\nexport class TicketItems extends React.Component {\n  // eslint-disable-line react/prefer-stateless-function\n  render() {\n    return (\n      <Container>\n        <TicketHeader {...this.props} />\n        <TicketBody {...this.props} />\n        <TicketFooter {...this.props} />\n      </Container>\n    );\n  }\n}\n\nTicketItems.propTypes = {\n  ticket: PropTypes.object,\n  tmp: PropTypes.object,\n  updateTmpData: PropTypes.func,\n  updateTicketData: PropTypes.func,\n  removeStockFromTicket: PropTypes.func,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  ticket,\n  ticketMatches,\n  tmp: makeSelectTicketTmpData(),\n  settings: selectSettingsData(),\n  ticketOperations,\n  ticketBalance,\n  isEmptyTicket,\n  isTicketCheckoutDisabled\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    updateTmpData: (reference, data) =>\n      dispatch(updateTmpData(reference, data)),\n    updateTicketData: (item, data) =>\n      dispatch(updateTicketData(item, data)),\n\n    updateTicketTax: (vat) =>\n      dispatch(updateTicketTax(vat)),\n    updateTicketDiscount: (discount) =>\n      dispatch(updateTicketDiscount(discount)),\n    removeTicket: () =>\n      dispatch(removeTicket()),\n\n\n    getTicketMatches: (field, value) => dispatch(getTicketMatches(field, value)),\n    loadTicket: (...args) => dispatch(loadTicket(...args)),\n    createTicket: (ticket, settings) =>\n      dispatch(createTicket(ticket, settings)),\n    createAddOperation: (stock, operation) =>\n      dispatch(createAddOperation(stock, operation)),\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(injectIntl(TicketItems));\n","import { createSelector } from 'reselect';\n\n/**\n * Direct selector to the ticketPayments state domain\n */\nconst selectTicketDomain = () => (state) => state.ticket;\n\nconst selectTmpData = () => (state) => state.tmp;\n\nconst selectSettingsData = () => (state) => state.settings;\n\n/**\n * Other specific selectors\n */\n\n/**\n * Default selector used by TicketPayments\n */\n\nconst makeSelectTicketItems = () =>\n  createSelector(selectTicketDomain(), (substate) =>\n    substate.operations\n  );\n\nconst makeSelectMatches = () =>\n  createSelector(selectTmpData(), (substate) => substate.matches);\n\nconst makeSelectTicketCreatedAtMatches = () =>\n  createSelector(makeSelectMatches(), (substate) =>\n    substate.tickets.created_at\n  );\n\nconst makeSelectTicketTmpData = () =>\n  createSelector(selectTmpData(), (substate) => substate.ticket);\n\nexport default makeSelectTicketItems;\nexport {\n  selectTicketDomain,\n  selectSettingsData,\n  makeSelectTicketItems,\n  makeSelectTicketTmpData,\n  makeSelectMatches,\n  makeSelectTicketCreatedAtMatches,\n};\n","/*\n *\n * TicketItems actions\n *\n */\n\nimport {\n  UPDATE_TMP_TICKET_DATA_ACTION,\n  UPDATE_STOCK_TICKET_DATA_ACTION,\n  REMOVE_STOCK_FROM_TICKET_ACTION,\n  ADD_STOCK_TO_TICKET_ACTION,\n  UPDATE_TICKET_ACTION,\n  REMOVE_TICKET_ACTION,\n  CLOSE_TICKET_ACTION,\n  UPDATE_TICKET_TAX_ACTION,\n  UPDATE_TICKET_DISCOUNT_ACTION,\n  GET_MATCHES_TICKETS_ACTION,\n  LOAD_TICKET_ACTION,\n} from './constants';\n\nexport function updateTmpData(reference, data) {\n  return {\n    type: UPDATE_TMP_TICKET_DATA_ACTION,\n    reference,\n    data,\n  };\n}\n\nexport function updateTicketData(item, data) {\n  return {\n    type: UPDATE_TICKET_ACTION,\n    put: UPDATE_STOCK_TICKET_DATA_ACTION,\n    item,\n    data,\n  };\n}\n\nexport function updateTicketTax(tax) {\n  return {\n    type: UPDATE_TICKET_ACTION,\n    put: UPDATE_TICKET_TAX_ACTION,\n    tax,\n  };\n}\n\nexport function updateTicketDiscount(discount) {\n  return {\n    type: UPDATE_TICKET_ACTION,\n    put: UPDATE_TICKET_DISCOUNT_ACTION,\n    discount,\n  };\n}\n\nexport function removeStockFromTicket(item, positionInList) {\n  return {\n    type: UPDATE_TICKET_ACTION,\n    put: REMOVE_STOCK_FROM_TICKET_ACTION,\n    item,\n    positionInList,\n  };\n}\n\nexport function removeTicket() {\n  return {\n    type: REMOVE_TICKET_ACTION,\n  };\n}\n\nexport function addStockToTicket(item) {\n  return {\n    type: UPDATE_TICKET_ACTION,\n    put: ADD_STOCK_TO_TICKET_ACTION,\n    item,\n  };\n}\n\nexport function closeTicket(ticket, options = {}) {\n  return {\n    type: CLOSE_TICKET_ACTION,\n    ticket,\n    options,\n  };\n}\n\nexport function getMatches(field, value) {\n  return {\n    type: GET_MATCHES_TICKETS_ACTION,\n    field,\n    value,\n  };\n}\n\nexport function loadTicket(ticket, options = {}) {\n  return {\n    type: LOAD_TICKET_ACTION,\n    ticket,\n    options,\n  };\n}\n\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const Container = styled.div`\n  height: 100%;\n  border-bottom: 1px solid rgba(163, 168, 174, 0.1);\n  padding: ${(props) =>\n    props.theme && props.theme.app.padding ? props.theme.app.padding : '0px'};\n`;\n\nexport default Container;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const TicketCartContainer = styled.div`\n  width: 100%;\n  height: 44px;\n  display: flex;\n  flex: 0 1 auto;\n  flex-direction: row;\n`;\n\nexport default TicketCartContainer;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const Section50 = styled.div`\n  width: 50%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  display: table;\n`;\n\nexport default Section50;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const SectionLeft = styled.div`\n  display: table-cell;\n  vertical-align: middle;\n`;\n\nexport default SectionLeft;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const SectionRight = styled.div`\n  display: table-cell;\n  text-align: right;\n  vertical-align: middle;\n`;\n\nexport default SectionRight;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const SearchContainer = styled.div`\ncolor: rgba(163, 168, 174, 0.5);\nmargin-left: 10px;\n`;\n\nexport default SearchContainer;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n// import Octicon from 'react-octicon';\n\nexport const MatchesListContainer = styled.div`\n  position: absolute;\n  margin-top: 25px;\n  background-color: rgba(100, 100, 100, 1);\n  color: white;\n  padding: 0;\n`;\n\nexport const MatchesList = styled.ul`\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  text-align: center;\n`;\n\nexport const MatchesListItem = styled.li`\n  width: 100%;\n  padding: 5px 10px;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  font-weight: ${({ selected }) => (selected ? '400' : '100')};\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n  font-size: 1.3em;\n  color: ${({ selected }) => (selected ? '#73c990' : 'inherit')};\n  background-color: ${({ selected }) =>\n    selected ? 'rgba(255, 255, 255, 0.1)' : 'translate'};\n`;\n\nexport default MatchesListContainer;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const SearchInput = styled.input`\n  outline: none;\n  font-size: 1.2em;\n  margin-left: 5px;\n  width: 150px;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  font-weight: 100;\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n\n  &::-webkit-input-placeholder {\n    /* WebKit, Blink, Edge */\n    color: rgba(163, 168, 174, 0.9);\n  }\n  &:-moz-placeholder {\n    /* Mozilla Firefox 4 to 18 */\n    color: rgba(163, 168, 174, 0.9);\n    opacity: 1;\n  }\n  &::-moz-placeholder {\n    /* Mozilla Firefox 19+ */\n    color: rgba(163, 168, 174, 0.9);\n    opacity: 1;\n  }\n  &:-ms-input-placeholder {\n    /* Internet Explorer 10-11 */\n    color: rgba(163, 168, 174, 0.9);\n  }\n  &::-ms-input-placeholder {\n    /* Microsoft Edge */\n    color: rgba(163, 168, 174, 0.9);\n  }\n`;\n\nexport default SearchInput;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport SearchInput from '../atoms/SearchInput';\n\nexport class InteractiveField extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { value: props.value || '' };\n  }\n  // @todo replace componentWillReceiveProps by getDerivedStateFromProps\n  // from React 17\n  componentWillReceiveProps(props) {\n    this.setState({ value: props.value });\n  }\n\n  stopPropagation(event) {\n    event.preventDefault();\n    event.stopPropagation();\n    return false;\n  }\n\n  render() {\n    return (\n      !this.props.readonly && (\n        <SearchInput\n          type=\"text\"\n          placeholder={this.props.placeholder}\n          onChange={({ target }) =>\n            this.setState({ value: target.value }, () => this.props.onChange(target.value))\n          }\n          onKeyDown={(event) => {\n            const { target, key } = event;\n            switch (key) {\n              case 'Enter':\n                this.props.onEnter && this.props.onEnter(target.value);\n                return this.stopPropagation(event);\n              case 'ArrowUp':\n                this.props.onMoveUp && this.props.onMoveUp(target.value);\n                return this.stopPropagation(event);\n              case 'ArrowDown':\n                this.props.onMoveDown && this.props.onMoveDown(target.value);\n                return this.stopPropagation(event);\n              case 'Escape':\n                this.props.onEscape && this.props.onEscape(target.value);\n                return this.stopPropagation(event);\n              default:\n            }\n            return true;\n          }}\n          value={this.state.value}\n        />\n      )\n    );\n  }\n}\n\nInteractiveField.propTypes = {\n  placeholder: PropTypes.any, // @todo move to string\n  onChange: PropTypes.func,\n};\n\nexport default InteractiveField;\n","/*\n * TicketItems Messages\n *\n * This contains all the text for the TicketItems component.\n */\nimport { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  amountInfoTooltip: {\n    id: 'kz.containers.TicketSoldItems.amountInfoTooltip',\n    defaultMessage: 'Ticket return amount',\n  },\n  removedAmountInfoTooltip: {\n    id: 'kz.containers.TicketSoldItems.removedAmountInfoTooltip',\n    defaultMessage: 'Ticket return amount',\n  },\n  notFound: {\n    id: 'kz.containers.TicketSoldItems.notFound',\n    defaultMessage: 'Ticket empty',\n  },\n  notFoundHelp: {\n    id: 'kz.containers.TicketSoldItems.notFoundHelp',\n    defaultMessage: 'This ticket has been removed from the system',\n  },\n  discount: {\n    id: 'kz.containers.TicketSoldItems.discount',\n    defaultMessage: 'Discount',\n  },\n  vat: {\n    id: 'kz.containers.TicketSoldItems.vat',\n    defaultMessage: 'VAT',\n  },\n  printTicket: {\n    id: 'kz.containers.TicketSoldItems.print',\n    defaultMessage: 'Print Ticket',\n  },\n  newTicket: {\n    id: 'kz.containers.TicketSoldItems.new',\n    defaultMessage: 'New Ticket',\n  },\n  giftTicket: {\n    id: 'kz.containers.TicketSoldItems.gift',\n    defaultMessage: 'Voucher',\n  },\n  checkoutTicket: {\n    id: 'kz.containers.TicketSoldItems.checkout',\n    defaultMessage: 'Return',\n  },\n  search: {\n    id: 'kz.containers.TicketSoldItems.search',\n    defaultMessage: 'Ticket ID',\n  },\n  reference: {\n    id: 'kz.containers.TicketSoldItems.table.reference',\n    defaultMessage: 'Reference',\n  },\n  description: {\n    id: 'kz.containers.TicketSoldItems.table.description',\n    defaultMessage: 'Description',\n  },\n  subtotal: {\n    id: 'kz.containers.TicketSoldItems.table.subtotal',\n    defaultMessage: 'Subtotal',\n  },\n  price: {\n    id: 'kz.containers.TicketSoldItems.table.price',\n    defaultMessage: 'Price',\n  },\n  amount: {\n    id: 'kz.containers.TicketSoldItems.table.amount',\n    defaultMessage: 'Amount',\n  },\n  return: {\n    id: 'kz.containers.TicketSoldItems.table.return',\n    defaultMessage: 'Return',\n  },\n});\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport Octicon from 'react-octicon';\nimport SearchContainer from '../atoms/SearchContainer';\nimport {\n  MatchesListContainer,\n  MatchesList,\n  MatchesListItem,\n} from '../atoms/MatchesListContainer';\nimport InteractiveField from './InteractiveField';\nimport messages from '../messages';\n\nexport class TicketSearchField extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: props.ticket.created_at,\n      matchIndex: 0,\n      matchesVisible: true,\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.ticket.created_at != nextProps.ticket.created_at) {\n      this.setState({ value: nextProps.ticket.created_at });\n    }\n  }\n\n  getMatches(created_at) {\n    if (!created_at) return;\n    this.props.getMatches('created_at', created_at);\n  }\n\n  shouldDisplayMatches() {\n    return (\n      this.state.matchesVisible &&\n      !!this.state.value &&\n      !!this.state.value.length &&\n      this.props.matches &&\n      this.props.matches.length > 1 &&\n      this.props.matches.every(\n        (match) =>\n          String(match).startsWith(this.state.value) &&\n          String(match) !== this.state.value\n      )\n    );\n  }\n\n  render() {\n    return (\n      <SearchContainer>\n        {this.shouldDisplayMatches() && (\n          <MatchesListContainer>\n            <MatchesList>\n              {this.props.matches.map((match, i) => (\n                <MatchesListItem\n                  key={i}\n                  onClick={() =>\n                    this.setState({ value: match, matchIndex: 0 })\n                  }\n                  selected={this.state.matchIndex === i}\n                >\n                  {match}\n                </MatchesListItem>\n              ))}\n            </MatchesList>\n          </MatchesListContainer>\n        )}\n        <Octicon name=\"search\" />\n        <InteractiveField\n          placeholder={this.props.intl.formatMessage(messages.search)}\n          readonly={false}\n          value={this.state.value}\n          onChange={(value) =>\n            this.setState({ value, matchIndex: 0, matchesVisible: true }, () => this.getMatches(value))}\n          onMoveUp={() =>\n            this.setState({\n              matchIndex:\n                (this.state.matchIndex > 0\n                  ? this.state.matchIndex - 1\n                  : this.props.matches.length - 1) %\n                this.props.matches.length,\n            })\n          }\n          onMoveDown={() =>\n            this.setState({\n              matchIndex:\n                (this.state.matchIndex + 1) % this.props.matches.length,\n            })\n          }\n          onEscape={() => this.setState({ matchesVisible: false })}\n          onEnter={() => {\n            this.setState({\n              value: this.shouldDisplayMatches()\n                ? this.props.matches[this.state.matchIndex]\n                : this.state.value,\n            });\n\n            if (this.props.matches[this.state.matchIndex]) {\n              this.props.loadTicket(this.props.matches[this.state.matchIndex], 'createdAt');\n            }\n          }\n          }\n\n        />\n      </SearchContainer>\n    );\n  }\n}\n\nTicketSearchField.propTypes = {};\n\nexport default TicketSearchField;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport Button from 'components/Button';\nimport TicketSectionContainer from '../atoms/TicketSectionContainer';\nimport Section50 from '../atoms/Section50';\nimport SectionLeft from '../atoms/SectionLeft';\nimport SectionRight from '../atoms/SectionRight';\nimport TicketSearchField from './TicketSearchField';\nimport messages from '../messages';\nimport { tickets as ticketsSelectors } from '@kalzate/cy';\n\nexport class TicketHeader extends React.Component {\n  render() {\n    return (\n      <TicketSectionContainer>\n        <Section50>\n          <SectionLeft>\n            <TicketSearchField\n              intl={this.props.intl}\n              ticket={this.props.ticket}\n              matches={this.props.ticketMatches}\n              getMatches={(...args) => this.props.getTicketMatches(...args)}\n              loadTicket={(...args) => this.props.loadTicket(...args)}\n            />\n          </SectionLeft>\n        </Section50>\n        <Section50>\n          <SectionRight>\n            <Button\n              data-cy={ticketsSelectors.CHECKOUT_BUTTON}\n              inactive={this.props.isTicketCheckoutDisabled}\n              disabled={this.props.isTicketCheckoutDisabled}\n              icon=\"check\"\n              title={<FormattedMessage {...messages.checkoutTicket} />}\n              onClick={() =>\n                this.props.createTicket({\n                  ...this.props.ticket,\n                  prevNode: this.props.ticket.id,\n                  ...(this.props.ticketOperations.every(({ addedAmount, previousAddedAmount, removedAmount, previousRemovedAmount }) =>\n                    previousAddedAmount + addedAmount === previousRemovedAmount + removedAmount) && { nextNode: this.props.ticket.id })\n                }, this.props.settings)\n              }\n            />\n            <Button\n              data-cy={ticketsSelectors.VOUCHER_BUTTON}\n              inactive={\n                this.props.isTicketVoucherCheckoutDisabled\n              }\n              disabled={this.props.isTicketCheckoutDisabled}\n              primary\n              icon=\"gift\"\n              title={<FormattedMessage {...messages.giftTicket} />}\n              onClick={() =>\n                this.props.createTicket({\n                  ...this.props.ticket,\n                  prevNode: this.props.ticket.id,\n                  ...(this.props.ticketOperations.every(({ addedAmount, previousAddedAmount, removedAmount, previousRemovedAmount }) =>\n                    previousAddedAmount + addedAmount === previousRemovedAmount + removedAmount) && { nextNode: this.props.ticket.id }),\n                  isVoucher: true,\n                }, this.props.settings)\n              }\n            />\n\n          </SectionRight>\n        </Section50>\n      </TicketSectionContainer>\n    );\n  }\n}\n\nTicketHeader.propTypes = {};\n\nexport default TicketHeader;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const TicketBodyContainer = styled.div`\nwidth: 100%;\nheight: calc(100% - 88px);\ndisplay: flex;\nflex: 0 1 auto;\nflex-direction: row;\n`;\n\nexport default TicketBodyContainer;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const Title = styled.p`\n  font-size: 1.1em;\n  margin-bottom: 0;\n`;\n\nexport default Title;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const Subtitle = styled.p`\n  font-size: 0.9em;\n  font-weight: 200;\n  margin-top: 5px;\n`;\n\nexport default Subtitle;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const TicketTableContainer = styled.div`\nwidth: 100%;\nmargin: 2px 0;\n`;\nexport default TicketTableContainer;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nconst bgColor = (props) => props.even ? props.theme.tables.bgColorEven : props.theme.tables.bgColor;\n\nexport const TicketTableRowContainer = styled.div`\n// width: ${(props) => (props.content ? 'calc(100% - 5px)' : '100%')};\nwidth: '100%';\nheight: 44px;\ndisplay: flex;\nflex: 0 1 auto;\nflex-direction: row;\nbackground-color: ${(props) =>\n        props.highlight ? props.theme.tables.highlightBgColor : bgColor(props)};\ncolor: ${(props) => (props.even ? props.theme.tables.colorEven : props.theme.tables.color)};\n`;\nexport default TicketTableRowContainer;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const Section10 = styled.div`\n  width: ${(props) => (props.bigger ? '29' : '13')}%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  border-right: 1px solid rgba(163, 168, 174, 0.1);\n`;\n\nexport default Section10;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const FloatLabel = styled.div`\n  display: block;\n  position: relative;\n  width: 100%;\n  height: 100%;\n`;\n\nexport default FloatLabel;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport SearchInput from './SearchInput';\n\nexport const TicketInput = SearchInput.extend`\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  margin-left: 10px;\n  padding-top: 10px;\n  padding-right: 10px;\n  &::-webkit-input-placeholder {\n    opacity: 1;\n    -webkit-transition: all 0.2s;\n    transition: all 0.2s;\n  }\n  &::-moz-placeholder {\n    opacity: 1;\n    -webkit-transition: all 0.2s;\n    transition: all 0.2s;\n  }\n  &:-ms-input-placeholder {\n    opacity: 1;\n    -webkit-transition: all 0.2s;\n    transition: all 0.2s;\n  }\n  &::placeholder {\n    opacity: 1;\n    -webkit-transition: all 0.2s;\n    transition: all 0.2s;\n  }\n  &:placeholder-shown:not(:focus)::-webkit-input-placeholder {\n    opacity: 0;\n  }\n  &:placeholder-shown:not(:focus)::-moz-placeholder {\n    opacity: 0;\n  }\n  &:placeholder-shown:not(:focus):-ms-input-placeholder {\n    opacity: 0;\n  }\n  &:placeholder-shown:not(:focus)::placeholder {\n    opacity: 0;\n  }\n  &:placeholder-shown:not(:focus) + * {\n    font-size: 1.7em;\n    opacity: 0.5;\n    top: 0.35em;\n  }\n  &:focus {\n    outline: none;\n    border-color: rgba(0, 0, 0, 0.5);\n  }\n`;\n\nexport default TicketInput;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const TicketLabel = styled.label`\nposition: absolute;\npointer-events: none; // makes the input ot get focus having the label on top of it\nleft: 0;\ntop: ${(props) => (props.readonly ? '.35em' : '0')};\ncursor: text;\nfont-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n  Cantarell, Arial, sans-serif;\nfont-weight: 100;\n-webkit-font-smoothing: antialiased;\nfont-variant: all-petite-caps;\nfont-style: normal;\nopacity: ${(props) => (props.readonly ? '.5' : '1')};\n-webkit-transition: all 0.2s;\ntransition: all 0.2s;\nmargin-left: 10px;\nfont-size: ${(props) => (props.readonly ? '1.7em' : '14px')};\nuser-select: none;\n`;\n\nexport default TicketLabel;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport Section10 from '../atoms/Section10';\nimport FloatLabel from '../atoms/FloatLabel';\nimport TicketInput from '../atoms/TicketInput';\nimport TicketLabel from '../atoms/TicketLabel';\n\nexport class TicketTableField extends React.Component {\n\n  render() {\n    return (\n      <Section10 bigger={this.props.bigger}>\n        <FloatLabel>\n          {!this.props.readonly && <TicketInput type=\"text\" placeholder={this.props.placeholder} />}\n          <TicketLabel readonly={this.props.readonly}>{this.props.placeholder}</TicketLabel>\n        </FloatLabel>\n      </Section10>\n    );\n  }\n}\n\nTicketTableField.propTypes = {};\n\nexport default TicketTableField;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const Section5 = styled.div`\n  width: 6%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  border-right: 1px solid rgba(163, 168, 174, 0.1);\n`;\n\nexport default Section5;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\nimport Button from 'components/Button';\n\nexport const TicketButton = styled(Button)`\n  width: ${(props) => (props.width ? props.width : '100')}%;\n  height: 100%;\n  border: none;\n  margin: 0;\n  &:hover {\n    border: none;\n  }\n`;\n\nexport default TicketButton;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport Section5 from '../atoms/Section5';\nimport TicketButton from '../atoms/TicketButton';\n\nexport class TicketTableButton extends React.Component {\n\n  render() {\n    return (\n      <Section5>\n        <TicketButton {...this.props} />\n      </Section5>\n    );\n  }\n}\n\nTicketTableButton.propTypes = {};\n\nexport default TicketTableButton;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport TicketTableRowContainer from '../atoms/TicketTableRowContainer';\nimport TicketTableField from './TicketTableField';\nimport TicketTableButton from './TicketTableButton';\nimport messages from '../messages';\n\nexport class TicketTableHeader extends React.Component {\n  render() {\n    return (\n      <TicketTableRowContainer content>\n        <TicketTableField\n          placeholder={this.props.intl.formatMessage(messages.reference)}\n          readonly\n        />\n        <TicketTableField\n          placeholder={this.props.intl.formatMessage(messages.description)}\n          readonly\n          bigger\n        />\n        <TicketTableField placeholder={this.props.intl.formatMessage(messages.price)} readonly />\n        <TicketTableField placeholder={this.props.intl.formatMessage(messages.amount)} readonly />\n        <TicketTableField placeholder={this.props.intl.formatMessage(messages.return)} readonly />\n        <TicketTableField placeholder={this.props.intl.formatMessage(messages.discount)} readonly />\n        <TicketTableField placeholder={this.props.intl.formatMessage(messages.subtotal)} readonly />\n        <TicketTableButton primary icon=\"remove-close\" onClick={() => this.props.removeTicket()} />\n        {/* This remove-close button in the table header removes the current ticket state to start again with a new ticket, otherwise it has to be clicked on save ticket. cancel ticket or check out to start with a new ticket. Going back and forth (i.e. from ticket screen to home screen and again to ticket screen again) does not removes current ticket state but preserves it as a draft */}\n      </TicketTableRowContainer>\n    );\n  }\n}\n\nTicketTableHeader.propTypes = {};\n\nexport default TicketTableHeader;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const TicketTableBodyContainer = styled.div`\nwidth: 100%;\nheight: 100%;\noverflow: auto;\n`;\n\nexport default TicketTableBodyContainer;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const TicketTableBodyContainer = styled.div`\n  width: 100%;\n  height: calc(100% - 44px);\n  display: flex;\n  flex: 0 1 auto;\n  flex-direction: row;\n`;\n\nexport default TicketTableBodyContainer;\n","import React from 'react';\nimport styled from 'styled-components';\n\nexport const TooltipContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  height: 100%;\n`;\n\nexport const InfoTooltip = styled.div`\n  position: relative;\n  background: rgba(39,41,44,0.9);\n  padding: 10px;\n  font-size: 11px;\n  font-weight: 400;\n  letter-spacing: 2px;\n  transition: all 0.5s ease-in-out;\n`;\n\nexport default InfoTooltip;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport Tooltip from 'components/Tooltip';\nimport InfoTooltip, { TooltipContainer } from '../atoms/InfoTooltip';\nimport Section10 from '../atoms/Section10';\nimport FloatLabel from '../atoms/FloatLabel';\nimport TicketInput from '../atoms/TicketInput';\nimport TicketLabel from '../atoms/TicketLabel';\n\nexport class TicketTableField extends React.Component {\n\n  static defaultProps = {\n    onChange: () => null,\n    onBlur: () => null,\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = { value: props.value || '' };\n  }\n  // @todo replace componentWillReceiveProps by getDerivedStateFromProps\n  // from React 17\n  componentWillReceiveProps(props) {\n    this.setState({ value: props.value });\n  }\n\n  render() {\n    return (\n      <Section10 bigger={this.props.bigger} onBlur={(e) => this.props.onBlur(e)}>\n        <FloatLabel>\n          {!this.props.readonly && <TicketInput\n            type=\"text\"\n            placeholder={this.props.placeholder}\n            onChange={({ target }) =>\n              this.setState({ value: target.value }, () =>\n                this.props.onChange(target.value)\n              )\n            }\n            value={this.state.value}\n          />}\n          <TicketLabel readonly={this.props.readonly}>{this.props.placeholder}</TicketLabel>\n          {this.props.info &&\n            <TooltipContainer readonly={this.props.readonly}>\n              <Tooltip color=\"inherit\" right=\"10\" direction=\"up\">\n                <InfoTooltip>\n                  {this.props.info}\n                </InfoTooltip>\n              </Tooltip>\n            </TooltipContainer>}\n        </FloatLabel>\n      </Section10>\n    );\n  }\n}\n\nTicketTableField.propTypes = {};\n\nexport default TicketTableField;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport messages from '../messages';\nimport { getSubtotal, formatDescription, formatDecimalPlaces } from 'utils/ticket';\nimport TicketTableBodyContainer from '../atoms/TicketTableBodyContainer';\nimport HeightAdapterContainer from '../atoms/HeightAdapterContainer';\nimport TicketTableRowContainer from '../atoms/TicketTableRowContainer';\nimport TicketTableField from './TicketTableField';\nimport TicketTableAmountField from './TicketTableAmountField';\nimport TicketTableButton from './TicketTableButton';\nimport Section5 from '../atoms/Section5';\nimport TicketButton from '../atoms/TicketButton';\nimport { tickets as ticketsSelectors } from '@kalzate/cy';\n\n\nexport class TicketTableBody extends React.Component {\n\n  getTicketItemAddedAmount(stock, operation) {\n\n    if (operation.removedAmount > 0) {\n      return (<TicketTableField placeholder=\"0\" readonly />);\n    }\n\n    if (operation.isNewEntry) {\n\n      return (\n        <TicketTableAmountField\n          placeholder={operation.addedAmount || '0'}\n          value={\n            this.props.tmp[stock.reference] && this.props.tmp[stock.reference].amount\n              ? this.props.tmp[stock.reference].amount\n              : ''\n          }\n          onChange={(amount) =>\n            this.props.updateTmpData(stock.reference, {\n              amount: parseInt(amount, 10),\n            })\n          }\n          onBlur={(e) => {\n            if (this.props.tmp[stock.reference] && this.props.tmp[stock.reference].amount) {\n              this.props.createAddOperation(stock, {\n                amount: this.props.tmp[stock.reference].amount,\n              });\n            }\n          }}\n        />\n      );\n    }\n\n    return (\n      <TicketTableAmountField\n        placeholder={`${operation.addedAmount}` || '0'}\n        value={\n          this.props.tmp[stock.reference] && Number.isFinite(this.props.tmp[stock.reference].amount)\n            ? this.props.tmp[stock.reference].amount\n            : ''\n        }\n        onChange={(amount) =>\n          this.props.updateTmpData(stock.reference, {\n            amount: parseInt(amount, 10),\n          })\n        }\n        onBlur={(e) => {\n          if (this.props.tmp[stock.reference] && Number.isFinite(this.props.tmp[stock.reference].amount)) {\n            this.props.createAddOperation(stock, { amount: this.props.tmp[stock.reference].amount });\n          }\n        }}\n      />\n    )\n\n  }\n\n  getTicketItemRemovedAmount(stock, operation) {\n\n    if (operation.addedAmount > 0 || operation.isNewEntry || (operation.previousAddedAmount - operation.previousRemovedAmount) === 0) {\n      return (<TicketTableField placeholder=\"0\" readonly />);\n    }\n\n\n    if (operation.previousRemovedAmount > 0) {\n      return (\n        <TicketTableAmountField\n          placeholder={operation.removedAmount}\n          info={<FormattedMessage {...messages.removedAmountInfoTooltip}\n            values={{\n              returnAmount: operation.previousAddedAmount - operation.previousRemovedAmount,\n              previousAddedAmount: operation.previousAddedAmount,\n              previousRemovedAmount: operation.previousRemovedAmount\n            }} />}\n          readonly\n        />\n      )\n    }\n\n    return (\n      <TicketTableAmountField\n        placeholder={operation.removedAmount}\n        readonly\n        info={<FormattedMessage {...messages.amountInfoTooltip}\n          values={{\n            returnAmount: operation.previousAddedAmount - operation.previousRemovedAmount,\n          }} />}\n      />\n    )\n\n  }\n\n  getTicketItemSubtotalAmount(stock, operation) {\n\n    if (operation.addedAmount > 0) {\n      return (<TicketTableField\n        placeholder={formatDecimalPlaces(getSubtotal({ stock, ...operation, amount: operation.addedAmount }))}\n        readonly\n      />)\n    }\n\n    return (<TicketTableField\n      placeholder={formatDecimalPlaces(getSubtotal({ stock, ...operation, amount: operation.removedAmount }))}\n      readonly\n    />)\n\n  }\n\n  getTicketItemAction(stock, operation) {\n\n    if (operation.isNewEntry || operation.addedAmount) {\n      return (\n        <TicketTableButton\n          primary\n          icon=\"remove-close\"\n          onClick={() => this.props.createAddOperation(stock, { amount: 0 })}\n        />\n      );\n    }\n\n    return (\n      <Section5>\n        <TicketButton\n          data-cy={ticketsSelectors.INCREASE_RETURN_ITEM_BUTTON}\n          primary\n          disabled={operation.addedAmount > 0 || operation.removedAmount === operation.previousAddedAmount - operation.previousRemovedAmount}\n          width={50}\n          icon=\"arrow-up\"\n          onClick={() =>\n            this.props.createRemoveOperation(\n              stock,\n              { amount: operation.removedAmount + 1 },\n            )\n          }\n        />\n        <TicketButton\n          primary\n          disabled={operation.addedAmount > 0 || operation.removedAmount === 0}\n          width={50}\n          icon=\"arrow-down\"\n          onClick={() =>\n            this.props.createRemoveOperation(\n              stock,\n              {\n                amount: operation.removedAmount - 1,\n              })\n          }\n        />\n      </Section5>\n    );\n  }\n\n  getTicketItemDiscount(stock, operation) {\n\n    if (operation.isNewEntry || operation.addedAmount > 0) {\n      return (\n        <TicketTableAmountField\n          placeholder={operation.discountValue || '0'}\n          value={\n            this.props.tmp[stock.reference] && Number.isFinite(this.props.tmp[stock.reference].discountValue)\n              ? this.props.tmp[stock.reference].discountValue\n              : ''\n          }\n          onChange={(discountValue) =>\n            this.props.updateTmpData(stock.reference, {\n              discountValue: parseInt(discountValue, 10),\n            })\n          }\n          onBlur={() => {\n            if (this.props.tmp[stock.reference] && Number.isFinite(this.props.tmp[stock.reference].discountValue)) {\n              this.props.createAddOperation(stock, {\n                amount: operation.addedAmount,\n                discountValue: this.props.tmp[stock.reference].discountValue,\n                discountType: 'fixed'\n              });\n            }\n          }}\n        />\n      );\n    }\n\n    return <TicketTableField placeholder={operation.discountValue || '0'} readonly />\n\n  }\n\n\n  render() {\n\n    console.log('1111....', this.props.ticketOperations);\n\n    return (\n      <HeightAdapterContainer>\n        <TicketTableBodyContainer data-cy={ticketsSelectors.RETURN_ITEMS_LIST}>\n          {this.props.ticketOperations.map(({ stock, ...operation }, i) => (\n            <TicketTableRowContainer\n              data-cy={ticketsSelectors.RETURN_ITEM_ROW}\n              key={i}\n              even={(i + 1) % 2}\n              highlight={\n                (operation.removedAmount > 0) ||\n                (operation.addedAmount > 0)\n              }\n            >\n              <TicketTableField placeholder={stock.reference} readonly />\n              <TicketTableField placeholder={formatDescription(stock)} readonly bigger />\n              <TicketTableField placeholder={formatDecimalPlaces(stock.price)} readonly />\n              {this.getTicketItemAddedAmount(stock, operation)}\n              {this.getTicketItemRemovedAmount(stock, operation)}\n              {this.getTicketItemDiscount(stock, operation)}\n              {this.getTicketItemSubtotalAmount(stock, operation)}\n              {this.getTicketItemAction(stock, operation)}\n            </TicketTableRowContainer>\n          ))}\n        </TicketTableBodyContainer>\n      </HeightAdapterContainer>\n    );\n  }\n}\n\nTicketTableBody.propTypes = {};\n\nexport default TicketTableBody;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport TicketTableContainer from '../atoms/TicketTableContainer';\nimport TicketTableHeader from './TicketTableHeader';\nimport TicketTableBody from './TicketTableBody';\n\nexport class TicketTable extends React.Component {\n\n  render() {\n    return (\n      <TicketTableContainer>\n        <TicketTableHeader {...this.props} />\n        <TicketTableBody {...this.props} />\n      </TicketTableContainer>\n    );\n  }\n}\n\nTicketTable.propTypes = {};\n\nexport default TicketTable;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { isEmpty } from 'lodash';\nimport Center from 'components/Center';\nimport NotFound from 'components/NotFound';\nimport TicketBodyContainer from '../atoms/TicketBodyContainer';\nimport Title from '../atoms/Title';\nimport Subtitle from '../atoms/Subtitle';\nimport TicketTable from './TicketTable';\nimport messages from '../messages';\n\nexport class TicketBody extends React.Component {\n\n  render() {\n    return (\n      <TicketBodyContainer>\n        {this.props.isEmptyTicket &&\n          <Center>\n            <NotFound icon=\"thumbsdown\">\n              <Title>\n                <FormattedMessage {...messages.notFound} />\n              </Title>\n              <Subtitle>\n                <FormattedMessage {...messages.notFoundHelp} />\n              </Subtitle>\n            </NotFound>\n          </Center>}\n\n        {!this.props.isEmptyTicket && (\n          <TicketTable {...this.props} />\n        )}\n      </TicketBodyContainer>\n    );\n  }\n}\n\nTicketBody.propTypes = {};\n\nexport default TicketBody;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const TicketSpan = styled.span`\n  outline: none;\n  font-size: 1.3em;\n  margin-left: 5px;\n  width: 150px;\n  font-family: 'BlinkMacSystemFont','Lucida Grande','Segoe UI',Ubuntu, Cantarell,Arial,sans-serif;\n  font-weight: 100;\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n`;\n\nexport default TicketSpan;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport Octicon from 'react-octicon';\nimport SearchContainer from '../atoms/SearchContainer';\nimport SearchInput from '../atoms/SearchInput';\nimport TicketSpan from '../atoms/TicketSpan';\nimport messages from '../messages';\n\nconst isRealNumeric = function (input) {\n  return /^[1-9][0-9]{0,1}$/.test(input);\n};\n\nexport class TicketDiscountField extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = { value: this.toPercentage(props.discount) };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({ value: this.toPercentage(nextProps.discount) });\n  }\n\n  toPercentage(value) {\n    return (value * 100).toFixed();\n  }\n\n  render() {\n    return (\n      <SearchContainer>\n        <Octicon name=\"triangle-down\" />\n        <TicketSpan> <FormattedMessage {...messages.discount} /></TicketSpan>\n        <SearchInput\n          type=\"text\"\n          onFocus={({ target }) => target.value = target.value.replace('%', '').trim()}\n          value={this.state.value > 0 ? this.state.value : ''}\n          onChange={({ target }) => {\n            this.props.updateDiscount(isRealNumeric(target.value) ? target.value : (target.value === '' ? 0 : this.state.value));\n          }\n          }\n          placeholder={'%'}\n          onBlur={({ target }) => target.value = this.state.value > 0 ? `${target.value} %` : ''}\n        />\n      </SearchContainer>\n    );\n  }\n}\n\nTicketDiscountField.propTypes = {};\n\nexport default TicketDiscountField;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport Octicon from 'react-octicon';\nimport SearchContainer from '../atoms/SearchContainer';\nimport SearchInput from '../atoms/SearchInput';\nimport TicketSpan from '../atoms/TicketSpan';\nimport messages from '../messages';\n\nconst isRealNumeric = function (input) {\n  return /^[1-9][0-9]{0,1}$/.test(input);\n};\nexport class TicketVatField extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = { value: this.toPercentage(props.tax) };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({ value: this.toPercentage(nextProps.tax) });\n  }\n\n  toPercentage(value) {\n    return (value * 100).toFixed();\n  }\n\n  render() {\n    return (\n      <SearchContainer>\n        <Octicon name=\"triangle-up\" />\n        <TicketSpan> <FormattedMessage {...messages.vat} /></TicketSpan>\n        <SearchInput\n          type=\"text\"\n          onFocus={({ target }) => target.value = target.value.replace('%', '').trim()}\n          value={this.state.value > 0 ? this.state.value : ''}\n          onChange={({ target }) => {\n            this.props.updateTax(isRealNumeric(target.value) ? target.value : (target.value === '' ? 0 : this.state.value));\n          }}\n          placeholder={'%'}\n          onBlur={({ target }) => target.value = this.state.value > 0 ? `${target.value} %` : ''}\n        />\n      </SearchContainer>\n    );\n  }\n}\n\nTicketVatField.propTypes = {};\n\nexport default TicketVatField;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { isEmpty } from 'lodash';\nimport {\n  TICKET_SAVE_STATE,\n} from 'config';\nimport Button from 'components/Button';\nimport TicketSectionContainer from '../atoms/TicketSectionContainer';\nimport Section50 from '../atoms/Section50';\nimport SectionLeft from '../atoms/SectionLeft';\nimport SectionRight from '../atoms/SectionRight';\nimport TicketDiscountField from './TicketDiscountField';\nimport TicketVatField from './TicketVatField';\nimport messages from '../messages';\n\nexport class TicketFooter extends React.Component {\n\n  render() {\n    return (\n      <TicketSectionContainer>\n        <Section50>\n          <SectionLeft>\n            {/* <TicketVatField\n              tax={this.props.ticket.tax}\n              updateTax={(tax) => this.props.updateTicketTax(tax)}\n            /> */}\n          </SectionLeft>\n          <SectionLeft>\n            {/* <TicketDiscountField\n              discount={this.props.ticket.discount}\n              updateDiscount={(discount) => this.props.updateTicketDiscount(discount)}\n            /> */}\n          </SectionLeft>\n        </Section50>\n        <Section50>\n          <SectionRight>\n            {/* <Button inactive={this.props.isEmptyTicket} icon=\"cloud-download\" title={<FormattedMessage {...messages.printTicket} />} onClick={() => this.props.closeTicket(this.props.ticket, { state: TICKET_SAVE_STATE })} /> */}\n            <Button inactive={this.props.isEmptyTicket} primary icon=\"trashcan\" title={<FormattedMessage {...messages.newTicket} />} onClick={() => this.props.removeTicket()} />\n            {/* Full ticket displays a modal where user can edit the final content of the ticket, useful in same cases */}\n            {/* <Button icon=\"checklist\" title=\"Full Ticket\" /> */}\n          </SectionRight>\n        </Section50>\n      </TicketSectionContainer>\n    );\n  }\n}\n\nTicketFooter.propTypes = {};\n\nexport default TicketFooter;\n","/*\n *\n * TicketItems\n *\n */\n\nimport React, { PropTypes } from 'react';\nimport { connect } from 'react-redux';\nimport { injectIntl } from 'react-intl';\nimport { createStructuredSelector } from 'reselect';\nimport {\n  ticket, ticketOperations, ticketBalance, isEmptyTicket,\n  isTicketCheckoutDisabled, isTicketVoucherCheckoutDisabled\n} from 'selectors/tickets';\nimport {\n  ticketMatches\n} from 'selectors/tmp';\nimport {\n  makeSelectTicketTmpData,\n  makeSelectTicketCreatedAtMatches,\n  selectSettingsData,\n} from './selectors';\nimport {\n  updateTmpData,\n  updateTicketData,\n  updateTicketTax,\n  updateTicketDiscount,\n  undoReturnStockFromTicket,\n  returnAllStockFromTicket,\n  removeTicket,\n} from './actions';\n\nimport {\n  getTicketMatches,\n  loadTicket,\n  createAddOperation,\n  createRemoveOperation,\n  createTicket\n} from 'actions/tickets';\n\nimport Container from './atoms/Container';\nimport TicketHeader from './molecules/TicketHeader';\nimport TicketBody from './molecules/TicketBody';\nimport TicketFooter from './molecules/TicketFooter';\n\nexport class TicketItems extends React.Component {\n  // eslint-disable-line react/prefer-stateless-function\n  render() {\n    return (\n      <Container>\n        <TicketHeader {...this.props} />\n        <TicketBody {...this.props} />\n        <TicketFooter {...this.props} />\n      </Container>\n    );\n  }\n}\n\nTicketItems.propTypes = {\n  ticket: PropTypes.object,\n  tmp: PropTypes.object,\n  updateTmpData: PropTypes.func,\n  updateTicketData: PropTypes.func,\n  removeStockFromTicket: PropTypes.func,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  ticket,\n  ticketOperations,\n  ticketBalance,\n  ticketMatches,\n  isEmptyTicket,\n  isTicketCheckoutDisabled,\n  isTicketVoucherCheckoutDisabled,\n  tmp: makeSelectTicketTmpData(),\n  matches: makeSelectTicketCreatedAtMatches(),\n  settings: selectSettingsData(),\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    updateTmpData: (reference, data) => dispatch(updateTmpData(reference, data)),\n    updateTicketData: (item, data) => dispatch(updateTicketData(item, data)),\n    updateTicketTax: (vat) => dispatch(updateTicketTax(vat)),\n    updateTicketDiscount: (discount) => dispatch(updateTicketDiscount(discount)),\n\n    undoReturnStockFromTicket: (item, positioninList) =>\n      dispatch(undoReturnStockFromTicket(item, positioninList)),\n    returnAllStockFromTicket: () => dispatch(returnAllStockFromTicket()),\n    removeTicket: () => dispatch(removeTicket()),\n\n    getTicketMatches: (field, value) => dispatch(getTicketMatches(field, value)),\n    loadTicket: (...args) => dispatch(loadTicket(...args)),\n    createAddOperation: (stock, operation) =>\n      dispatch(createAddOperation(stock, operation)),\n    createRemoveOperation: (stock, operation) =>\n      dispatch(createRemoveOperation(stock, operation)),\n    createTicket: (ticket, settings) =>\n      dispatch(createTicket(ticket, settings)),\n\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(injectIntl(TicketItems));\n","import { createSelector } from 'reselect';\n\n/**\n * Direct selector to the ticketPayments state domain\n */\nconst selectTicketDomain = () => (state) => state.ticket;\n\nconst selectTmpData = () => (state) => state.tmp;\n\nconst selectSettingsData = () => (state) => state.settings;\n\n/**\n * Other specific selectors\n */\n\n/**\n * Default selector used by TicketPayments\n */\n\nconst makeSelectTicketItems = () =>\n  createSelector(selectTicketDomain(), (substate) =>\n    substate.items\n  );\n\nconst makeSelectMatches = () =>\n  createSelector(selectTmpData(), (substate) => substate.matches);\n\nconst makeSelectTicketCreatedAtMatches = () =>\n  createSelector(makeSelectMatches(), (substate) =>\n    substate.tickets.created_at\n  );\n\nconst makeSelectTicketTmpData = () =>\n  createSelector(selectTmpData(), (substate) => substate.ticket);\n\nexport default makeSelectTicketItems;\nexport {\n  selectTicketDomain,\n  selectSettingsData,\n  makeSelectTicketItems,\n  makeSelectTicketTmpData,\n  makeSelectMatches,\n  makeSelectTicketCreatedAtMatches,\n};\n","/*\n *\n * TicketItems actions\n *\n */\n\nimport {\n  UPDATE_TMP_TICKET_DATA_ACTION,\n  UPDATE_STOCK_TICKET_DATA_ACTION,\n  REMOVE_STOCK_FROM_TICKET_ACTION,\n  RETURN_STOCK_FROM_TICKET_ACTION,\n  RETURN_ALL_STOCK_FROM_TICKET_ACTION,\n  UNDO_RETURN_STOCK_FROM_TICKET_ACTION,\n  ADD_STOCK_TO_TICKET_ACTION,\n  UPDATE_TICKET_ACTION,\n  REMOVE_TICKET_ACTION,\n  CLOSE_TICKET_ACTION,\n  UPDATE_TICKET_TAX_ACTION,\n  UPDATE_TICKET_DISCOUNT_ACTION,\n  GET_MATCHES_TICKETS_ACTION,\n  LOAD_TICKET_ACTION,\n} from './constants';\n\nexport function updateTmpData(reference, data) {\n  return {\n    type: UPDATE_TMP_TICKET_DATA_ACTION,\n    reference,\n    data,\n  };\n}\n\nexport function updateTicketData(item, data) {\n  return {\n    type: UPDATE_TICKET_ACTION,\n    put: UPDATE_STOCK_TICKET_DATA_ACTION,\n    item,\n    data,\n  };\n}\n\nexport function updateTicketTax(tax) {\n  return {\n    type: UPDATE_TICKET_ACTION,\n    put: UPDATE_TICKET_TAX_ACTION,\n    tax,\n  };\n}\n\nexport function updateTicketDiscount(discount) {\n  return {\n    type: UPDATE_TICKET_ACTION,\n    put: UPDATE_TICKET_DISCOUNT_ACTION,\n    discount,\n  };\n}\n\nexport function removeStockFromTicket(item, positionInList) {\n  return {\n    type: UPDATE_TICKET_ACTION,\n    put: REMOVE_STOCK_FROM_TICKET_ACTION,\n    item,\n    positionInList,\n  };\n}\nexport function returnStockFromTicket(item, positionInList, value) {\n  return {\n    type: UPDATE_TICKET_ACTION,\n    put: RETURN_STOCK_FROM_TICKET_ACTION,\n    item,\n    positionInList,\n    value,\n  };\n}\n\nexport function undoReturnStockFromTicket(item, positionInList) {\n  return {\n    type: UPDATE_TICKET_ACTION,\n    put: UNDO_RETURN_STOCK_FROM_TICKET_ACTION,\n    item,\n    positionInList,\n  };\n}\n\nexport function removeTicket() {\n  return {\n    type: REMOVE_TICKET_ACTION,\n  };\n}\n\nexport function returnAllStockFromTicket() {\n  return {\n    type: UPDATE_TICKET_ACTION,\n    put: RETURN_ALL_STOCK_FROM_TICKET_ACTION,\n  };\n}\n\nexport function addStockToTicket(item) {\n  return {\n    type: UPDATE_TICKET_ACTION,\n    put: ADD_STOCK_TO_TICKET_ACTION,\n    item,\n  };\n}\n\nexport function closeTicket(ticket, options = {}) {\n  return {\n    type: CLOSE_TICKET_ACTION,\n    ticket,\n    options,\n  };\n}\n\nexport function getMatches(field, value) {\n  return {\n    type: GET_MATCHES_TICKETS_ACTION,\n    field,\n    value,\n  };\n}\n\nexport function loadTicket(ticket, options = {}) {\n  return {\n    type: LOAD_TICKET_ACTION,\n    ticket,\n    options,\n  };\n}\n","/*\n *\n * TicketItems constants\n *\n */\n\nexport const UPDATE_TMP_TICKET_DATA_ACTION = 'ui/TicketItems/UPDATE_TMP_TICKET_DATA_ACTION';\n\nexport const UPDATE_STOCK_TICKET_DATA_ACTION = 'ui/TicketItems/UPDATE_STOCK_TICKET_DATA_ACTION';\n\nexport const REMOVE_STOCK_FROM_TICKET_ACTION = 'ui/TicketItems/REMOVE_STOCK_FROM_TICKET_ACTION';\nexport const UNDO_RETURN_STOCK_FROM_TICKET_ACTION = 'ui/TicketItems/UNDO_RETURN_STOCK_FROM_TICKET_ACTION';\nexport const RETURN_STOCK_FROM_TICKET_ACTION = 'ui/TicketItems/RETURN_STOCK_FROM_TICKET_ACTION';\nexport const REMOVE_TICKET_ACTION = 'ui/TicketItems/REMOVE_TICKET_ACTION';\n\nexport const LOAD_TICKET_ACTION = 'ui/TicketItems/LOAD_TICKET_ACTION';\nexport const LOAD_TICKET_ERROR_ACTION = 'ui/TicketItems/LOAD_TICKET_ERROR_ACTION';\nexport const LOAD_TICKET_SUCCESS_ACTION = 'ui/TicketItems/LOAD_TICKET_SUCCESS_ACTION';\n\nexport const ADD_STOCK_TO_TICKET_ACTION = 'ui/StockItems/ADD_STOCK_TO_TICKET_ACTION';\n\nexport const UPDATE_TICKET_ACTION = 'ui/TicketItems/UPDATE_TICKET_ACTION';\nexport const UPDATE_TICKET_SUCCESS_ACTION = 'ui/TicketItems/UPDATE_TICKET_SUCCESS_ACTION';\nexport const UPDATE_TICKET_ERROR_ACTION = 'ui/TicketItems/UPDATE_TICKET_ERROR_ACTION';\n\nexport const GET_MATCHES_TICKETS_ACTION = 'ui/TicketItems/GET_MATCHES_TICKETS_ACTION';\nexport const GET_MATCHES_TICKETS_ERROR_ACTION = 'ui/TicketItems/GET_MATCHES_TICKETS_ERROR_ACTION';\nexport const GET_MATCHES_TICKETS_SUCCESS_ACTION = 'ui/TicketItems/GET_MATCHES_TICKETS_SUCCESS_ACTION';\n\nexport const CLOSE_TICKET_ACTION = 'ui/TicketItems/CLOSE_TICKET_ACTION';\nexport const CLOSE_TICKET_SUCCESS_ACTION = 'ui/TicketItems/CLOSE_TICKET_SUCCESS_ACTION';\nexport const CLOSE_TICKET_ERROR_ACTION = 'ui/TicketItems/CLOSE_TICKET_ERROR_ACTION';\n\nexport const PRINT_TICKET_ACTION = 'ui/TicketItems/PRINT_TICKET_ACTION';\nexport const PRINT_TICKET_SUCCESS_ACTION = 'ui/TicketItems/PRINT_TICKET_SUCCESS_ACTION';\nexport const PRINT_TICKET_ERROR_ACTION = 'ui/TicketItems/PRINT_TICKET_ERROR_ACTION';\n\nexport const UPDATE_TICKET_TAX_ACTION = 'ui/TicketItems/UPDATE_TICKET_TAX_ACTION';\nexport const UPDATE_TICKET_DISCOUNT_ACTION = 'ui/TicketItems/UPDATE_TICKET_DISCOUNT_ACTION';\n\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const Container = styled.div`\n  height: 100%;\n  border-bottom: 1px solid rgba(163, 168, 174, 0.1);\n  padding: ${(props) =>\n    props.theme && props.theme.app.padding ? props.theme.app.padding : '0px'};\n`;\n\nexport default Container;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const TicketCartContainer = styled.div`\n  width: 100%;\n  height: 44px;\n  display: flex;\n  flex: 0 1 auto;\n  flex-direction: row;\n`;\n\nexport default TicketCartContainer;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const Section50 = styled.div`\n  width: 50%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  display: table;\n`;\n\nexport default Section50;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const SectionLeft = styled.div`\n  display: table-cell;\n  vertical-align: middle;\n`;\n\nexport default SectionLeft;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const SectionRight = styled.div`\n  display: table-cell;\n  text-align: right;\n  vertical-align: middle;\n`;\n\nexport default SectionRight;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const SearchContainer = styled.div`\ncolor: rgba(163, 168, 174, 0.5);\nmargin-left: 10px;\n`;\n\nexport default SearchContainer;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n// import Octicon from 'react-octicon';\n\nexport const MatchesListContainer = styled.div`\n  position: absolute;\n  margin-top: 25px;\n  background-color: rgba(100, 100, 100, 1);\n  color: white;\n  padding: 0;\n`;\n\nexport const MatchesList = styled.ul`\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  text-align: center;\n`;\n\nexport const MatchesListItem = styled.li`\n  width: 100%;\n  padding: 5px 10px;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  font-weight: ${({ selected }) => (selected ? '400' : '100')};\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n  font-size: 1.3em;\n  color: ${({ selected }) => (selected ? '#73c990' : 'inherit')};\n  background-color: ${({ selected }) =>\n    selected ? 'rgba(255, 255, 255, 0.1)' : 'translate'};\n`;\n\nexport default MatchesListContainer;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const SearchInput = styled.input`\n  outline: none;\n  font-size: 1.2em;\n  margin-left: 5px;\n  width: 150px;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  font-weight: 100;\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n\n  &::-webkit-input-placeholder {\n    /* WebKit, Blink, Edge */\n    color: rgba(163, 168, 174, 0.9);\n  }\n  &:-moz-placeholder {\n    /* Mozilla Firefox 4 to 18 */\n    color: rgba(163, 168, 174, 0.9);\n    opacity: 1;\n  }\n  &::-moz-placeholder {\n    /* Mozilla Firefox 19+ */\n    color: rgba(163, 168, 174, 0.9);\n    opacity: 1;\n  }\n  &:-ms-input-placeholder {\n    /* Internet Explorer 10-11 */\n    color: rgba(163, 168, 174, 0.9);\n  }\n  &::-ms-input-placeholder {\n    /* Microsoft Edge */\n    color: rgba(163, 168, 174, 0.9);\n  }\n`;\n\nexport default SearchInput;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport SearchInput from '../atoms/SearchInput';\n\nexport class InteractiveField extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { value: props.value || '' };\n  }\n  // @todo replace componentWillReceiveProps by getDerivedStateFromProps\n  // from React 17\n  componentWillReceiveProps(props) {\n    this.setState({ value: props.value });\n  }\n\n  stopPropagation(event) {\n    event.preventDefault();\n    event.stopPropagation();\n    return false;\n  }\n\n  render() {\n    return (\n      !this.props.readonly && (\n        <SearchInput\n          type=\"text\"\n          placeholder={this.props.placeholder}\n          onChange={({ target }) =>\n            this.setState({ value: target.value }, () => this.props.onChange(target.value))\n          }\n          onKeyDown={(event) => {\n            const { target, key } = event;\n            switch (key) {\n              case 'Enter':\n                this.props.onEnter && this.props.onEnter(target.value);\n                return this.stopPropagation(event);\n              case 'ArrowUp':\n                this.props.onMoveUp && this.props.onMoveUp(target.value);\n                return this.stopPropagation(event);\n              case 'ArrowDown':\n                this.props.onMoveDown && this.props.onMoveDown(target.value);\n                return this.stopPropagation(event);\n              case 'Escape':\n                this.props.onEscape && this.props.onEscape(target.value);\n                return this.stopPropagation(event);\n              default:\n            }\n            return true;\n          }}\n          value={this.state.value}\n        />\n      )\n    );\n  }\n}\n\nInteractiveField.propTypes = {\n  placeholder: PropTypes.any, // @todo move to string\n  onChange: PropTypes.func,\n};\n\nexport default InteractiveField;\n","/*\n * TicketReturnItems Messages\n *\n * This contains all the text for the TicketReturnItems component.\n */\nimport { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  addedAmountInfoTooltip: {\n    id: 'kz.containers.TicketReadOnly.addedAmountInfoTooltip',\n    defaultMessage: 'Ticket has previous added units',\n  },\n  removedAmountInfoTooltip: {\n    id: 'kz.containers.TicketReadOnly.removedAmountInfoTooltip',\n    defaultMessage: 'Ticket has previous removed units',\n  },\n  notFound: {\n    id: 'kz.containers.TicketReturnItems.notFound',\n    defaultMessage: 'Ticket empty',\n  },\n  notFoundHelp: {\n    id: 'kz.containers.TicketReturnItems.notFoundHelp',\n    defaultMessage: 'Add some items to this ticket',\n  },\n  discount: {\n    id: 'kz.containers.TicketReturnItems.discount',\n    defaultMessage: 'Discount',\n  },\n  vat: {\n    id: 'kz.containers.TicketReturnItems.vat',\n    defaultMessage: 'VAT',\n  },\n  newTicket: {\n    id: 'kz.containers.TicketReturnItems.new',\n    defaultMessage: 'New Ticket',\n  },\n  printTicket: {\n    id: 'kz.containers.TicketReturnItems.print',\n    defaultMessage: 'Print Ticket',\n  },\n  search: {\n    id: 'kz.containers.TicketReturnItems.search',\n    defaultMessage: 'Ticket ID',\n  },\n  reference: {\n    id: 'kz.containers.TicketReturnItems.table.reference',\n    defaultMessage: 'Reference',\n  },\n  description: {\n    id: 'kz.containers.TicketReturnItems.table.description',\n    defaultMessage: 'Description',\n  },\n  subtotal: {\n    id: 'kz.containers.TicketReturnItems.table.subtotal',\n    defaultMessage: 'Subtotal',\n  },\n  price: {\n    id: 'kz.containers.TicketReturnItems.table.price',\n    defaultMessage: 'Price',\n  },\n  amount: {\n    id: 'kz.containers.TicketReturnItems.table.amount',\n    defaultMessage: 'Amount',\n  },\n  return: {\n    id: 'kz.containers.TicketSoldItems.table.return',\n    defaultMessage: 'Return',\n  },\n});\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport Octicon from 'react-octicon';\nimport SearchContainer from '../atoms/SearchContainer';\nimport {\n  MatchesListContainer,\n  MatchesList,\n  MatchesListItem,\n} from '../atoms/MatchesListContainer';\nimport InteractiveField from './InteractiveField';\nimport messages from '../messages';\n\nexport class TicketSearchField extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: props.ticket.created_at,\n      matchIndex: 0,\n      matchesVisible: true,\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.ticket.created_at != nextProps.ticket.created_at) {\n      this.setState({ value: nextProps.ticket.created_at });\n    }\n  }\n\n  getMatches(created_at) {\n    if (!created_at) return;\n    this.props.getMatches('created_at', created_at);\n  }\n\n  shouldDisplayMatches() {\n    return (\n      this.state.matchesVisible &&\n      !!this.state.value &&\n      !!this.state.value.length &&\n      this.props.matches &&\n      this.props.matches.length > 1 &&\n      this.props.matches.every(\n        (match) =>\n          String(match).startsWith(this.state.value) &&\n          String(match) !== this.state.value\n      )\n    );\n  }\n\n  render() {\n    return (\n      <SearchContainer>\n        {this.shouldDisplayMatches() && (\n          <MatchesListContainer>\n            <MatchesList>\n              {this.props.matches.map((match, i) => (\n                <MatchesListItem\n                  key={i}\n                  onClick={() =>\n                    this.setState({ value: match, matchIndex: 0 })\n                  }\n                  selected={this.state.matchIndex === i}\n                >\n                  {match}\n                </MatchesListItem>\n              ))}\n            </MatchesList>\n          </MatchesListContainer>\n        )}\n        <Octicon name=\"search\" />\n        <InteractiveField\n          placeholder={this.props.intl.formatMessage(messages.search)}\n          readonly={false}\n          value={this.state.value}\n          onChange={(value) =>\n            this.setState({ value, matchIndex: 0, matchesVisible: true }, () => this.getMatches(value))}\n          onMoveUp={() =>\n            this.setState({\n              matchIndex:\n                (this.state.matchIndex > 0\n                  ? this.state.matchIndex - 1\n                  : this.props.matches.length - 1) %\n                this.props.matches.length,\n            })\n          }\n          onMoveDown={() =>\n            this.setState({\n              matchIndex:\n                (this.state.matchIndex + 1) % this.props.matches.length,\n            })\n          }\n          onEscape={() => this.setState({ matchesVisible: false })}\n          onEnter={() => {\n            this.setState({\n              value: this.shouldDisplayMatches()\n                ? this.props.matches[this.state.matchIndex]\n                : this.state.value,\n            });\n\n            if (this.props.matches[this.state.matchIndex]) {\n              this.props.loadTicket(this.props.matches[this.state.matchIndex], 'createdAt');\n            }\n          }\n          }\n\n        />\n      </SearchContainer>\n    );\n  }\n}\n\nTicketSearchField.propTypes = {};\n\nexport default TicketSearchField;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { isEmpty } from 'lodash';\nimport Button from 'components/Button';\nimport {\n  TICKET_RETURN_STATE,\n  TICKET_SOLD_STATE,\n} from 'config';\nimport TicketSectionContainer from '../atoms/TicketSectionContainer';\nimport Section50 from '../atoms/Section50';\nimport SectionLeft from '../atoms/SectionLeft';\nimport SectionRight from '../atoms/SectionRight';\nimport TicketSearchField from './TicketSearchField';\nimport messages from '../messages';\n\nexport class TicketHeader extends React.Component {\n  render() {\n    console.log('ticket matches', this.props.ticketMatches)\n    return (\n      <TicketSectionContainer>\n        <Section50>\n          <SectionLeft>\n            <TicketSearchField\n              intl={this.props.intl}\n              ticket={this.props.ticket}\n              matches={this.props.ticketMatches}\n              getMatches={(...args) => this.props.getTicketMatches(...args)}\n              loadTicket={(...args) => this.props.loadTicket(...args)}\n            />\n          </SectionLeft>\n        </Section50>\n        <Section50>\n          <SectionRight>\n            <Button inactive={this.props.isEmptyTicket} primary icon=\"cloud-download\" title={<FormattedMessage {...messages.printTicket} />} onClick={() => this.props.printTicket(this.props.ticket, { settings: this.props.settings })} />\n          </SectionRight>\n        </Section50>\n      </TicketSectionContainer>\n    );\n  }\n}\n\nTicketHeader.propTypes = {};\n\nexport default TicketHeader;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const TicketBodyContainer = styled.div`\nwidth: 100%;\nheight: calc(100% - 88px);\ndisplay: flex;\nflex: 0 1 auto;\nflex-direction: row;\n`;\n\nexport default TicketBodyContainer;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const Title = styled.p`\n  font-size: 1.1em;\n  margin-bottom: 0;\n`;\n\nexport default Title;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const Subtitle = styled.p`\n  font-size: 0.9em;\n  font-weight: 200;\n  margin-top: 5px;\n`;\n\nexport default Subtitle;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const TicketTableContainer = styled.div`\nwidth: 100%;\nmargin: 2px 0;\n`;\nexport default TicketTableContainer;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nconst bgColor = (props) => props.even ? props.theme.tables.bgColorEven : props.theme.tables.bgColor;\n\nexport const TicketTableRowContainer = styled.div`\n// width: ${(props) => (props.content ? 'calc(100% - 5px)' : '100%')};\nwidth: '100%';\nheight: 44px;\ndisplay: flex;\nflex: 0 1 auto;\nflex-direction: row;\nbackground-color: ${(props) =>\n        props.highlight ? props.theme.tables.highlightBgColor : bgColor(props)};\ncolor: ${(props) => (props.even ? props.theme.tables.colorEven : props.theme.tables.color)};\n`;\nexport default TicketTableRowContainer;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const Section10 = styled.div`\nwidth: ${(props) => props.bigger ? '32' : '17'}%;\nheight: 100%;\nmargin: 0;\npadding: 0;\nborder-right: 1px solid rgba(163, 168, 174, 0.1);\n`;\n\nexport default Section10;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const FloatLabel = styled.div`\n  display: block;\n  position: relative;\n  width: 100%;\n  height: 100%;\n`;\n\nexport default FloatLabel;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport SearchInput from './SearchInput';\n\nexport const TicketInput = SearchInput.extend`\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  margin-left: 10px;\n  padding-top: 10px;\n  padding-right: 10px;\n  &::-webkit-input-placeholder {\n    opacity: 1;\n    -webkit-transition: all 0.2s;\n    transition: all 0.2s;\n  }\n  &::-moz-placeholder {\n    opacity: 1;\n    -webkit-transition: all 0.2s;\n    transition: all 0.2s;\n  }\n  &:-ms-input-placeholder {\n    opacity: 1;\n    -webkit-transition: all 0.2s;\n    transition: all 0.2s;\n  }\n  &::placeholder {\n    opacity: 1;\n    -webkit-transition: all 0.2s;\n    transition: all 0.2s;\n  }\n  &:placeholder-shown:not(:focus)::-webkit-input-placeholder {\n    opacity: 0;\n  }\n  &:placeholder-shown:not(:focus)::-moz-placeholder {\n    opacity: 0;\n  }\n  &:placeholder-shown:not(:focus):-ms-input-placeholder {\n    opacity: 0;\n  }\n  &:placeholder-shown:not(:focus)::placeholder {\n    opacity: 0;\n  }\n  &:placeholder-shown:not(:focus) + * {\n    font-size: 1.7em;\n    opacity: 0.5;\n    top: 0.35em;\n  }\n  &:focus {\n    outline: none;\n    border-color: rgba(0, 0, 0, 0.5);\n  }\n`;\n\nexport default TicketInput;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const TicketLabel = styled.label`\nposition: absolute;\npointer-events: none; // makes the input ot get focus having the label on top of it\nleft: 0;\ntop: ${(props) => (props.readonly ? '.35em' : '0')};\ncursor: text;\nfont-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n  Cantarell, Arial, sans-serif;\nfont-weight: 100;\n-webkit-font-smoothing: antialiased;\nfont-variant: all-petite-caps;\nfont-style: normal;\nopacity: ${(props) => (props.readonly ? '.5' : '1')};\n-webkit-transition: all 0.2s;\ntransition: all 0.2s;\nmargin-left: 10px;\nfont-size: ${(props) => (props.readonly ? '1.7em' : '14px')};\nuser-select: none;\n`;\n\nexport default TicketLabel;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport Section10 from '../atoms/Section10';\nimport FloatLabel from '../atoms/FloatLabel';\nimport TicketInput from '../atoms/TicketInput';\nimport TicketLabel from '../atoms/TicketLabel';\n\nexport class TicketTableField extends React.Component {\n\n  render() {\n    return (\n      <Section10 bigger={this.props.bigger}>\n        <FloatLabel>\n          {!this.props.readonly && <TicketInput type=\"text\" placeholder={this.props.placeholder} />}\n          <TicketLabel readonly={this.props.readonly}>{this.props.placeholder}</TicketLabel>\n        </FloatLabel>\n      </Section10>\n    );\n  }\n}\n\nTicketTableField.propTypes = {};\n\nexport default TicketTableField;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport TicketTableRowContainer from '../atoms/TicketTableRowContainer';\nimport TicketTableField from './TicketTableField';\nimport messages from '../messages';\nimport { TICKET_RETURN_STATE } from 'config';\n\nexport class TicketTableHeader extends React.Component {\n  render() {\n    return (\n      <TicketTableRowContainer content>\n        <TicketTableField\n          placeholder={this.props.intl.formatMessage(messages.reference)}\n          readonly\n        />\n        <TicketTableField\n          placeholder={this.props.intl.formatMessage(messages.description)}\n          readonly\n          bigger\n        />\n        <TicketTableField placeholder={this.props.intl.formatMessage(messages.price)} readonly />\n        <TicketTableField placeholder={this.props.intl.formatMessage(messages.amount)} readonly />\n        <TicketTableField placeholder={this.props.intl.formatMessage(messages.return)} readonly />\n        <TicketTableField placeholder={this.props.intl.formatMessage(messages.discount)} readonly />\n        <TicketTableField placeholder={this.props.intl.formatMessage(messages.subtotal)} readonly />\n        {/* This remove-close button in the table header removes the current ticket state to start again with a new ticket, otherwise it has to be clicked on save ticket. cancel ticket or check out to start with a new ticket. Going back and forth (i.e. from ticket screen to home screen and again to ticket screen again) does not removes current ticket state but preserves it as a draft */}\n      </TicketTableRowContainer>\n    );\n  }\n}\n\nTicketTableHeader.propTypes = {};\n\nexport default TicketTableHeader;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const TicketTableBodyContainer = styled.div`\nwidth: 100%;\nheight: 100%;\noverflow: auto;\n`;\n\nexport default TicketTableBodyContainer;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const TicketTableBodyContainer = styled.div`\n  width: 100%;\n  height: calc(100% - 44px);\n  display: flex;\n  flex: 0 1 auto;\n  flex-direction: row;\n`;\n\nexport default TicketTableBodyContainer;\n","import React from 'react';\nimport styled from 'styled-components';\n\nexport const TooltipContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  height: 100%;\n`;\n\nexport const InfoTooltip = styled.div`\n  position: relative;\n  background: rgba(39,41,44,0.9);\n  padding: 10px;\n  font-size: 11px;\n  font-weight: 400;\n  letter-spacing: 2px;\n  transition: all 0.5s ease-in-out;\n`;\n\nexport default InfoTooltip;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport Tooltip from 'components/Tooltip';\nimport InfoTooltip, { TooltipContainer } from '../atoms/InfoTooltip';\nimport Section10 from '../atoms/Section10';\nimport FloatLabel from '../atoms/FloatLabel';\nimport TicketInput from '../atoms/TicketInput';\nimport TicketLabel from '../atoms/TicketLabel';\n\nexport class TicketTableField extends React.Component {\n\n  static defaultProps = {\n    onChange: () => null,\n    onBlur: () => null,\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = { value: props.value || '' };\n  }\n  // @todo replace componentWillReceiveProps by getDerivedStateFromProps\n  // from React 17\n  componentWillReceiveProps(props) {\n    this.setState({ value: props.value });\n  }\n\n  render() {\n    return (\n      <Section10 bigger={this.props.bigger} onBlur={(e) => this.props.onBlur(e)}>\n        <FloatLabel>\n          {!this.props.readonly && <TicketInput\n            type=\"text\"\n            placeholder={this.props.placeholder}\n            onChange={({ target }) =>\n              this.setState({ value: target.value }, () =>\n                this.props.onChange(target.value)\n              )\n            }\n            value={this.state.value}\n          />}\n          <TicketLabel readonly={this.props.readonly}>{this.props.placeholder}</TicketLabel>\n          {this.props.info &&\n            <TooltipContainer readonly={this.props.readonly}>\n              <Tooltip color=\"inherit\" right=\"10\" direction=\"up\">\n                <InfoTooltip>\n                  {this.props.info}\n                </InfoTooltip>\n              </Tooltip>\n            </TooltipContainer>}\n        </FloatLabel>\n      </Section10>\n    );\n  }\n}\n\nTicketTableField.propTypes = {};\n\nexport default TicketTableField;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport messages from '../messages';\nimport TicketTableBodyContainer from '../atoms/TicketTableBodyContainer';\nimport HeightAdapterContainer from '../atoms/HeightAdapterContainer';\nimport TicketTableRowContainer from '../atoms/TicketTableRowContainer';\nimport TicketTableField from './TicketTableField';\nimport TicketTableAmountField from './TicketTableAmountField';\nimport { getSubtotal, formatDescription, formatDecimalPlaces } from 'utils/ticket';\n\nexport class TicketTableBody extends React.Component {\n  getTicketItemAddedAmount(stock, operation) {\n\n    if (!operation.addedAmount && !operation.previousAddedAmount) {\n      return (<TicketTableField placeholder={operation.amount} readonly />);\n    }\n\n    if (!operation.previousAddedAmount) {\n      return (<TicketTableField placeholder={operation.addedAmount} readonly />);\n    }\n\n    return (\n\n      <TicketTableAmountField\n        placeholder={operation.addedAmount}\n        info={<FormattedMessage {...messages.addedAmountInfoTooltip}\n          values={{\n            amount: operation.previousAddedAmount\n          }} />}\n        readonly\n      />\n\n    )\n\n  }\n\n  getTicketItemRemovedAmount(_, operation) {\n\n    if (!operation.removedAmount && !operation.previousRemovedAmount) {\n      return (<TicketTableField placeholder=\"0\" readonly />);\n    }\n\n    console.log('operation!!!', operation)\n    if (operation.previousRemovedAmount) {\n      return (\n        <TicketTableAmountField\n          placeholder={operation.removedAmount}\n          info={<FormattedMessage {...messages.removedAmountInfoTooltip}\n            values={{\n              amount: operation.previousRemovedAmount\n            }} />}\n          readonly\n        />\n      )\n    }\n\n    return (\n      <TicketTableAmountField\n        placeholder={operation.removedAmount}\n        readonly\n      />\n    )\n\n  }\n\n  getTicketItemSubtotalAmount(stock, operation) {\n\n    if (operation.amount) {\n      return (<TicketTableField\n        placeholder={formatDecimalPlaces(getSubtotal({ stock, ...operation }))}\n        readonly\n      />)\n    }\n\n    if (operation.addedAmount > 0) {\n      return (<TicketTableField\n        placeholder={formatDecimalPlaces(getSubtotal({ stock, ...operation, amount: operation.addedAmount }))}\n        readonly\n      />)\n    }\n\n    return (<TicketTableField\n      placeholder={formatDecimalPlaces(getSubtotal({ stock, ...operation, amount: operation.removedAmount }))}\n      readonly\n    />)\n\n  }\n\n  getTicketItemDiscount(stock, operation) {\n\n    return <TicketTableField placeholder={operation.discountValue || '0'} readonly />\n\n  }\n\n\n  render() {\n    return (\n      <HeightAdapterContainer>\n        <TicketTableBodyContainer>\n          {this.props.ticketOperations.map(({ stock, ...operation }, i) => (\n            <TicketTableRowContainer key={i} even={(i + 1) % 2}>\n              <TicketTableField placeholder={stock.reference} readonly />\n              <TicketTableField placeholder={formatDescription(stock)} readonly bigger />\n              <TicketTableField placeholder={formatDecimalPlaces(stock.price)} readonly />\n              {this.getTicketItemAddedAmount(stock, operation)}\n              {this.getTicketItemRemovedAmount(stock, operation)}\n              {this.getTicketItemDiscount(stock, operation)}\n              {this.getTicketItemSubtotalAmount(stock, operation)}\n            </TicketTableRowContainer>\n          ))}\n        </TicketTableBodyContainer>\n      </HeightAdapterContainer>\n    );\n  }\n}\n\nTicketTableBody.propTypes = {};\n\nexport default TicketTableBody;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport TicketTableContainer from '../atoms/TicketTableContainer';\nimport TicketTableHeader from './TicketTableHeader';\nimport TicketTableBody from './TicketTableBody';\n\nexport class TicketTable extends React.Component {\n\n  render() {\n    return (\n      <TicketTableContainer>\n        <TicketTableHeader {...this.props} />\n        <TicketTableBody {...this.props} />\n      </TicketTableContainer>\n    );\n  }\n}\n\nTicketTable.propTypes = {};\n\nexport default TicketTable;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { isEmpty } from 'lodash';\nimport Center from 'components/Center';\nimport NotFound from 'components/NotFound';\nimport TicketBodyContainer from '../atoms/TicketBodyContainer';\nimport Title from '../atoms/Title';\nimport Subtitle from '../atoms/Subtitle';\nimport TicketTable from './TicketTable';\nimport messages from '../messages';\n\nexport class TicketBody extends React.Component {\n\n  render() {\n    return (\n      <TicketBodyContainer>\n        {this.props.isEmptyTicket &&\n          <Center>\n            <NotFound icon=\"thumbsdown\">\n              <Title>\n                <FormattedMessage {...messages.notFound} />\n              </Title>\n              <Subtitle>\n                <FormattedMessage {...messages.notFoundHelp} />\n              </Subtitle>\n            </NotFound>\n          </Center>}\n\n        {!this.props.isEmptyTicket && (\n          <TicketTable {...this.props} />\n        )}\n      </TicketBodyContainer>\n    );\n  }\n}\n\nTicketBody.propTypes = {};\n\nexport default TicketBody;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const TicketSpan = styled.span`\n  outline: none;\n  font-size: 1.3em;\n  margin-left: 5px;\n  width: 150px;\n  font-family: 'BlinkMacSystemFont','Lucida Grande','Segoe UI',Ubuntu, Cantarell,Arial,sans-serif;\n  font-weight: 100;\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n`;\n\nexport default TicketSpan;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport Octicon from 'react-octicon';\nimport SearchContainer from '../atoms/SearchContainer';\nimport SearchInput from '../atoms/SearchInput';\nimport TicketSpan from '../atoms/TicketSpan';\nimport messages from '../messages';\n\nconst isRealNumeric = function (input) {\n  return /^[1-9][0-9]{0,1}$/.test(input);\n};\n\nexport class TicketDiscountField extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = { value: this.toPercentage(props.discount) };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({ value: this.toPercentage(nextProps.discount) });\n  }\n\n  toPercentage(value) {\n    return (value * 100).toFixed();\n  }\n\n  render() {\n    return (\n      <SearchContainer>\n        <Octicon name=\"triangle-down\" />\n        <TicketSpan> <FormattedMessage {...messages.discount} /></TicketSpan>\n        <SearchInput\n          type=\"text\"\n          onFocus={({ target }) => target.value = target.value.replace('%', '').trim()}\n          value={this.state.value > 0 ? this.state.value : ''}\n          onChange={({ target }) => {\n            this.props.updateDiscount(isRealNumeric(target.value) ? target.value : (target.value === '' ? 0 : this.state.value));\n          }\n          }\n          placeholder={'%'}\n          onBlur={({ target }) => target.value = this.state.value > 0 ? `${target.value} %` : ''}\n        />\n      </SearchContainer>\n    );\n  }\n}\n\nTicketDiscountField.propTypes = {};\n\nexport default TicketDiscountField;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport Octicon from 'react-octicon';\nimport SearchContainer from '../atoms/SearchContainer';\nimport SearchInput from '../atoms/SearchInput';\nimport TicketSpan from '../atoms/TicketSpan';\nimport messages from '../messages';\n\nconst isRealNumeric = function (input) {\n  return /^[1-9][0-9]{0,1}$/.test(input);\n};\nexport class TicketVatField extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = { value: this.toPercentage(props.tax) };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({ value: this.toPercentage(nextProps.tax) });\n  }\n\n  toPercentage(value) {\n    return (value * 100).toFixed();\n  }\n\n  render() {\n    return (\n      <SearchContainer>\n        <Octicon name=\"triangle-up\" />\n        <TicketSpan> <FormattedMessage {...messages.vat} /></TicketSpan>\n        <SearchInput\n          type=\"text\"\n          onFocus={({ target }) => target.value = target.value.replace('%', '').trim()}\n          value={this.state.value > 0 ? this.state.value : ''}\n          onChange={({ target }) => {\n            this.props.updateTax(isRealNumeric(target.value) ? target.value : (target.value === '' ? 0 : this.state.value));\n          }}\n          placeholder={'%'}\n          onBlur={({ target }) => target.value = this.state.value > 0 ? `${target.value} %` : ''}\n        />\n      </SearchContainer>\n    );\n  }\n}\n\nTicketVatField.propTypes = {};\n\nexport default TicketVatField;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { isEmpty } from 'lodash';\nimport {\n  TICKET_SAVE_STATE,\n} from 'config';\nimport Button from 'components/Button';\nimport TicketSectionContainer from '../atoms/TicketSectionContainer';\nimport Section50 from '../atoms/Section50';\nimport SectionLeft from '../atoms/SectionLeft';\nimport SectionRight from '../atoms/SectionRight';\nimport TicketDiscountField from './TicketDiscountField';\nimport TicketVatField from './TicketVatField';\nimport messages from '../messages';\n\nexport class TicketFooter extends React.Component {\n\n  render() {\n    return (\n      <TicketSectionContainer>\n        <Section50>\n          <SectionLeft>\n            {/* <TicketVatField\n              tax={this.props.ticket.tax}\n              updateTax={(tax) => this.props.updateTicketTax(tax)}\n            /> */}\n          </SectionLeft>\n          <SectionLeft>\n            {/* <TicketDiscountField\n              discount={this.props.ticket.discount}\n              updateDiscount={(discount) => this.props.updateTicketDiscount(discount)}\n            /> */}\n          </SectionLeft>\n        </Section50>\n        <Section50>\n          <SectionRight>\n            <Button primary icon=\"trashcan\" title={<FormattedMessage {...messages.newTicket} />} onClick={() => this.props.removeTicket()} />\n            {/* Full ticket displays a modal where user can edit the final content of the ticket, useful in same cases */}\n            {/* <Button icon=\"checklist\" title=\"Full Ticket\" /> */}\n          </SectionRight>\n        </Section50>\n      </TicketSectionContainer>\n    );\n  }\n}\n\nTicketFooter.propTypes = {};\n\nexport default TicketFooter;\n","/*\n *\n * TicketItems\n *\n */\n\nimport React, { PropTypes } from 'react';\nimport { injectIntl } from 'react-intl';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport {\n  selectTicketDomain,\n  makeSelectTicketTmpData,\n  makeSelectTicketCreatedAtMatches,\n  selectSettingsData,\n} from './selectors';\nimport {\n  ticket, ticketOperations, isEmptyTicket\n} from 'selectors/tickets';\nimport {\n  ticketMatches\n} from 'selectors/tmp';\nimport {\n  updateTmpData,\n  updateTicketData,\n  updateTicketTax,\n  updateTicketDiscount,\n  removeStockFromTicket,\n  returnStockFromTicket,\n  undoReturnStockFromTicket,\n  removeTicket,\n  closeTicket,\n} from './actions';\nimport {\n  getTicketMatches,\n  loadTicket\n} from 'actions/tickets';\nimport Container from './atoms/Container';\nimport TicketHeader from './molecules/TicketHeader';\nimport TicketBody from './molecules/TicketBody';\nimport TicketFooter from './molecules/TicketFooter';\n\nexport class TicketItems extends React.Component {\n  // eslint-disable-line react/prefer-stateless-function\n  render() {\n    return (\n      <Container>\n        <TicketHeader {...this.props} />\n        <TicketBody {...this.props} />\n        <TicketFooter {...this.props} />\n      </Container>\n    );\n  }\n}\n\nTicketItems.propTypes = {\n  ticket: PropTypes.object,\n  tmp: PropTypes.object,\n  updateTmpData: PropTypes.func,\n  updateTicketData: PropTypes.func,\n  removeStockFromTicket: PropTypes.func,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  ticket,\n  ticketOperations,\n  ticketMatches,\n  isEmptyTicket,\n  tmp: makeSelectTicketTmpData(),\n  settings: selectSettingsData(),\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    updateTmpData: (reference, data) =>\n      dispatch(updateTmpData(reference, data)),\n    updateTicketData: (item, data) =>\n      dispatch(updateTicketData(item, data)),\n    updateTicketTax: (vat) =>\n      dispatch(updateTicketTax(vat)),\n    updateTicketDiscount: (discount) =>\n      dispatch(updateTicketDiscount(discount)),\n    removeStockFromTicket: (item, positioninList) =>\n      dispatch(removeStockFromTicket(item, positioninList)),\n    returnStockFromTicket: (item, positioninList) =>\n      dispatch(returnStockFromTicket(item, positioninList)),\n    undoReturnStockFromTicket: (item, positioninList) =>\n      dispatch(undoReturnStockFromTicket(item, positioninList)),\n    removeTicket: () =>\n      dispatch(removeTicket()),\n    getTicketMatches: (field, value) => dispatch(getTicketMatches(field, value)),\n    loadTicket: (...args) => dispatch(loadTicket(...args)),\n    closeTicket: (ticket, state) =>\n      dispatch(closeTicket(ticket, state)),\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(injectIntl(TicketItems));\n","import { createSelector } from 'reselect';\n\n/**\n * Direct selector to the ticketPayments state domain\n */\nconst selectTicketDomain = () => (state) => state.ticket;\n\nconst selectTmpData = () => (state) => state.tmp;\n\nconst selectSettingsData = () => (state) => state.settings;\n\n/**\n * Other specific selectors\n */\n\n/**\n * Default selector used by TicketPayments\n */\n\nconst makeSelectTicketItems = () =>\n  createSelector(selectTicketDomain(), (substate) =>\n    substate.items\n  );\n\nconst makeSelectMatches = () =>\n  createSelector(selectTmpData(), (substate) => substate.matches);\n\nconst makeSelectTicketCreatedAtMatches = () =>\n  createSelector(makeSelectMatches(), (substate) =>\n    substate.tickets.created_at\n  );\n\nconst makeSelectTicketTmpData = () =>\n  createSelector(selectTmpData(), (substate) => substate.ticket);\n\nexport default makeSelectTicketItems;\nexport {\n  selectTicketDomain,\n  selectSettingsData,\n  makeSelectTicketItems,\n  makeSelectTicketTmpData,\n  makeSelectMatches,\n  makeSelectTicketCreatedAtMatches,\n};\n","/*\n *\n * TicketItems actions\n *\n */\n\nimport {\n  UPDATE_TMP_TICKET_DATA_ACTION,\n  UPDATE_STOCK_TICKET_DATA_ACTION,\n  REMOVE_STOCK_FROM_TICKET_ACTION,\n  RETURN_STOCK_FROM_TICKET_ACTION,\n  UNDO_RETURN_STOCK_FROM_TICKET_ACTION,\n  ADD_STOCK_TO_TICKET_ACTION,\n  UPDATE_TICKET_ACTION,\n  REMOVE_TICKET_ACTION,\n  CLOSE_TICKET_ACTION,\n  UPDATE_TICKET_TAX_ACTION,\n  UPDATE_TICKET_DISCOUNT_ACTION,\n  GET_MATCHES_TICKETS_ACTION,\n  LOAD_TICKET_ACTION,\n} from './constants';\n\nexport function updateTmpData(reference, data) {\n  return {\n    type: UPDATE_TMP_TICKET_DATA_ACTION,\n    reference,\n    data,\n  };\n}\n\nexport function updateTicketData(item, data) {\n  return {\n    type: UPDATE_TICKET_ACTION,\n    put: UPDATE_STOCK_TICKET_DATA_ACTION,\n    item,\n    data,\n  };\n}\n\nexport function updateTicketTax(tax) {\n  return {\n    type: UPDATE_TICKET_ACTION,\n    put: UPDATE_TICKET_TAX_ACTION,\n    tax,\n  };\n}\n\nexport function updateTicketDiscount(discount) {\n  return {\n    type: UPDATE_TICKET_ACTION,\n    put: UPDATE_TICKET_DISCOUNT_ACTION,\n    discount,\n  };\n}\n\nexport function removeStockFromTicket(item, positionInList) {\n  return {\n    type: UPDATE_TICKET_ACTION,\n    put: REMOVE_STOCK_FROM_TICKET_ACTION,\n    item,\n    positionInList,\n  };\n}\nexport function returnStockFromTicket(item, positionInList) {\n  return {\n    type: UPDATE_TICKET_ACTION,\n    put: RETURN_STOCK_FROM_TICKET_ACTION,\n    item,\n    positionInList,\n  };\n}\n\nexport function undoReturnStockFromTicket(item, positionInList) {\n  return {\n    type: UPDATE_TICKET_ACTION,\n    put: UNDO_RETURN_STOCK_FROM_TICKET_ACTION,\n    item,\n    positionInList,\n  };\n}\n\nexport function removeTicket() {\n  return {\n    type: REMOVE_TICKET_ACTION,\n  };\n}\n\nexport function addStockToTicket(item) {\n  return {\n    type: UPDATE_TICKET_ACTION,\n    put: ADD_STOCK_TO_TICKET_ACTION,\n    item,\n  };\n}\n\nexport function closeTicket(ticket, options = {}) {\n  return {\n    type: CLOSE_TICKET_ACTION,\n    ticket,\n    options,\n  };\n}\n\nexport function getMatches(field, value) {\n  return {\n    type: GET_MATCHES_TICKETS_ACTION,\n    field,\n    value,\n  };\n}\n\nexport function loadTicket(ticket, options = {}) {\n  return {\n    type: LOAD_TICKET_ACTION,\n    ticket,\n    options,\n  };\n}\n\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const PaymentContainer = styled.div`\nheight: calc(100% - 35px);\npadding: 10px;\n`;\n\nexport default PaymentContainer;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const PaymentSection = styled.div`\nheight: 33.333%;\nwidth: 100%;\ndisplay: table;\ntext-align: center;\n`;\n\nexport default PaymentSection;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const Amount = styled.p`\nmargin: 0;\npadding: 0;\ndisplay: table-cell;\nvertical-align: middle;\nfont-size: 5em;\ntext-align: center;\nfont-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n  Cantarell, Arial, sans-serif;\nfont-weight: 400;\n-webkit-font-smoothing: antialiased;\nfont-variant: all-petite-caps;\nfont-style: normal;\n\n&::selection {\n  color: rgba(163, 168, 174, 0.6);\n  background-color: rgba(163, 168, 174, 0.1);\n}\n`;\n\nexport default Amount;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport Amount from './Amount';\n\nexport const TotalAmount = Amount.extend`\n  border-left: 4px solid #6494ed;\n  border-right: 4px solid #6494ed;\n  color: #6494ed;\n`;\n\nexport default TotalAmount;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport PaymentSection from '../atoms/PaymentSection';\nimport TotalAmount from '../atoms/TotalAmount';\nimport { formatPrice } from \"utils/ticket\";\n\nexport function PaymentTotal({\n  currency,\n  totalAmount }) {\n  return (\n    <PaymentSection>\n      <TotalAmount>\n        {formatPrice(totalAmount)}\n      </TotalAmount>\n    </PaymentSection>\n  );\n}\n\nPaymentTotal.propTypes = {\n};\n\nexport default PaymentTotal;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport Amount from './Amount';\n\n// export const GivenAmountInput = Amount.withComponent('input').extend.attrs({ type: 'text' }) `\n//   border-left: 4px solid #73c990;\n//   outline: none;\n//   width: 100%;\n//   height: 100%;\n//   border-right: 4px solid #73c990;\n//   color: #73c990;\n// `;\n\nexport const GivenAmount = Amount.extend`\n  border-left: 4px solid #73c990;\n  border-right: 4px solid #73c990;\n  color: #73c990;\n`;\n\nexport default GivenAmount;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport PaymentSection from '../atoms/PaymentSection';\nimport GivenAmount from '../atoms/GivenAmount';\nimport { formatPrice } from \"utils/ticket\";\n\nexport function PaymentGiven({\n  currency,\n  givenAmount }) {\n  return (\n    <PaymentSection>\n      <GivenAmount>\n        {formatPrice(givenAmount)} {currency}\n      </GivenAmount>\n    </PaymentSection>\n  );\n}\n\nPaymentGiven.propTypes = {};\n\nexport default PaymentGiven;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport Amount from './Amount';\n\nexport const ReturnAmount = Amount.extend`\nborder-left: 4px solid rgb(226, 192, 141);\nborder-right: 4px solid rgb(226, 192, 141);\ncolor: rgb(226, 192, 141);\n`;\n\nexport default ReturnAmount;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport PaymentSection from '../atoms/PaymentSection';\nimport ReturnAmount from '../atoms/ReturnAmount';\nimport { formatPrice } from \"utils/ticket\";\n\nexport function PaymentReturn({\n  currency,\n  returnAmount }) {\n  return (\n    <PaymentSection>\n      <ReturnAmount>\n        {formatPrice(returnAmount)}\n      </ReturnAmount>\n    </PaymentSection>\n  );\n}\n\nPaymentReturn.propTypes = {\n};\n\nexport default PaymentReturn;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport PaymentContainer from '../atoms/PaymentContainer';\nimport PaymentTotal from './PaymentTotal';\nimport PaymentGiven from './PaymentGiven';\nimport PaymentReturn from './PaymentReturn';\n\nexport function PaymentSummary(props) {\n  return (\n    <PaymentContainer>\n      <PaymentTotal {...props} />\n      <PaymentGiven {...props} />\n      <PaymentReturn {...props} />\n    </PaymentContainer>\n  );\n}\n\nPaymentSummary.propTypes = {\n};\n\nexport default PaymentSummary;\n","/**\n*\n* BlogPost\n*\n*/\n\nimport React from 'react';\nimport { connect } from 'react-redux';\n// import { FormattedMessage } from 'react-intl';\nimport { createStructuredSelector } from 'reselect';\nimport { ticketTotalAmount, ticketProvidedAmount, ticketExchangeAmount } from 'selectors/tickets';\nimport {\n  makeSelectCurrency,\n  makeSelectMethod,\n  makeSelectCreationDate,\n  makeSelectState,\n} from './selectors';\nimport { setTicketGivenAmount, increaseGivenAmount, decreaseGivenAmount } from './actions';\nimport PaymentSummary from './molecules/PaymentSummary';\n\nfunction TicketTotal(props) {\n  console.log(props)\n  return (\n    <PaymentSummary {...props} />\n  );\n}\n\nTicketTotal.propTypes = {\n  totalAmount: React.PropTypes.string,\n  givenAmount: React.PropTypes.string,\n  returnAmount: React.PropTypes.string,\n  currency: React.PropTypes.string,\n  setTicketGivenAmount: React.PropTypes.func,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  method: makeSelectMethod(),\n  state: makeSelectState(),\n  created_at: makeSelectCreationDate(),\n  totalAmount: ticketTotalAmount,\n  givenAmount: ticketProvidedAmount,\n  returnAmount: ticketExchangeAmount,\n  currency: makeSelectCurrency(),\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    setTicketGivenAmount: (amount) => dispatch(setTicketGivenAmount(amount)),\n    increaseGivenAmount: (by) => dispatch(increaseGivenAmount(by)),\n    decreaseGivenAmount: (by) => dispatch(decreaseGivenAmount(by)),\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TicketTotal);\n","import { createSelector } from 'reselect';\n\n/**\n * Direct selector to the ticketPayments state domain\n */\nconst selectTicketPaymentsDomain = () => (state) => state.ticket;\n\n/**\n * Other specific selectors\n */\n\n/**\n * Default selector used by TicketPayments\n */\n\n// const makeSelectTicketPayments = () =>\n//   createSelector(selectTicketPaymentsDomain(), (substate) =>\n//     substate.payment')\n//   );\n\nconst makeSelectTotalAmount = () =>\n  createSelector(selectTicketPaymentsDomain(), (substate) =>\n    substate.totalAmount\n  );\n\nconst makeSelectGivenAmount = () =>\n  createSelector(selectTicketPaymentsDomain(), (substate) =>\n    substate.givenAmount\n  );\n\nconst makeSelectReturnAmount = () =>\n  createSelector(selectTicketPaymentsDomain(), (substate) =>\n    substate.returnAmount\n  );\n\nconst makeSelectCurrency = () =>\n  createSelector(selectTicketPaymentsDomain(), (substate) =>\n    substate.currency\n  );\n\nconst makeSelectMethod = () =>\n  createSelector(selectTicketPaymentsDomain(), (substate) =>\n    substate.method\n  );\n\nconst makeSelectState = () =>\n  createSelector(selectTicketPaymentsDomain(), (substate) =>\n    substate.state\n  );\n\nconst makeSelectCreationDate = () =>\n  createSelector(selectTicketPaymentsDomain(), (substate) =>\n    substate.created_at\n  );\n\nexport default selectTicketPaymentsDomain;\nexport {\n  selectTicketPaymentsDomain,\n  makeSelectTotalAmount,\n  makeSelectGivenAmount,\n  makeSelectReturnAmount,\n  makeSelectCurrency,\n  makeSelectMethod,\n  makeSelectCreationDate,\n  makeSelectState,\n};\n","/*\n *\n * WorkSpacePage actions\n *\n */\n\nimport { SET_TICKET_GIVEN_AMOUNT_ACTION, DECREASE_TICKET_GIVEN_AMOUNT_ACTION, INCREASE_TICKET_GIVEN_AMOUNT_ACTION } from './constants';\n\nexport function setTicketGivenAmount(amount) {\n  return {\n    type: SET_TICKET_GIVEN_AMOUNT_ACTION,\n    amount,\n  };\n}\n\nexport function decreaseGivenAmount(by) {\n  return {\n    type: DECREASE_TICKET_GIVEN_AMOUNT_ACTION,\n    by,\n  };\n}\n\nexport function increaseGivenAmount(by) {\n  return {\n    type: INCREASE_TICKET_GIVEN_AMOUNT_ACTION,\n    by,\n  };\n}\n","/*\n *\n * WorkSpacePage constants\n *\n */\n\nexport const SET_TICKET_GIVEN_AMOUNT_ACTION =\n  'ui/TicketTotal/SET_TICKET_GIVEN_AMOUNT_ACTION';\nexport const INCREASE_TICKET_GIVEN_AMOUNT_ACTION =\n  'ui/TicketTotal/INCREASE_TICKET_GIVEN_AMOUNT_ACTION';\nexport const DECREASE_TICKET_GIVEN_AMOUNT_ACTION =\n  'ui/TicketTotal/DECREASE_TICKET_GIVEN_AMOUNT_ACTION';\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const Pre = styled.pre`\nfont-family: monospace;\noverflow: auto;\npadding: 5px;\nmargin: 0;\nheight: calc(100% - 44px);\n`;\n\nexport default Pre;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport { compileTicket } from 'utils/receipt';\nimport Pre from '../atoms/Pre';\n\nexport function PaymentTicket({ settings, ticket }) {\n  const ticketTemplate = compileTicket(settings, ticket);\n  // const ticketTemplate = compileTicket(settings, { ...ticket, created_at: new Date().getTime() });\n  return <Pre style={{ fontFamily: 'monospace', overflowY: 'auto' }}>{ticketTemplate}</Pre>;\n}\n\nPaymentTicket.propTypes = {};\n\nexport default PaymentTicket;\n","/**\n *\n * BlogPost\n *\n */\n\nimport React from 'react';\nimport { connect } from 'react-redux';\n// import { FormattedMessage } from 'react-intl';\nimport { createStructuredSelector } from 'reselect';\nimport { selectSettingsData } from './selectors';\nimport {\n  ticket\n} from 'selectors/tickets';\nimport { setTicketGivenAmount, increaseGivenAmount, decreaseGivenAmount } from './actions';\nimport PaymentTicket from './molecules/PaymentTicket';\n\nfunction TicketTotal(props) {\n  return <PaymentTicket {...props} />;\n}\n\nTicketTotal.propTypes = {};\n\nconst mapStateToProps = createStructuredSelector({\n  ticket,\n  settings: selectSettingsData(),\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    setTicketGivenAmount: (amount) => dispatch(setTicketGivenAmount(amount)),\n    increaseGivenAmount: (by) => dispatch(increaseGivenAmount(by)),\n    decreaseGivenAmount: (by) => dispatch(decreaseGivenAmount(by)),\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(TicketTotal);\n","import { createSelector } from 'reselect';\n\nconst selectTicketDomain = () => (state) => state.ticket;\n\nconst selectSettingsData = () => (state) => state.settings;\n\nconst makeSelectTicketReadOnly = () =>\n  createSelector(\n    selectTicketDomain(),\n    (substate) =>\n      (substate.next &&\n        substate.created_at &&\n        Number(substate.next) !== Number(substate.created_at)) ||\n      substate.items.every(({ amount, amount_return_prev }) => amount === amount_return_prev)\n  );\n\nexport default selectTicketDomain;\nexport { selectSettingsData, selectTicketDomain, makeSelectTicketReadOnly };\n","/*\n *\n * WorkSpacePage actions\n *\n */\n\nimport { SET_TICKET_GIVEN_AMOUNT_ACTION, DECREASE_TICKET_GIVEN_AMOUNT_ACTION, INCREASE_TICKET_GIVEN_AMOUNT_ACTION } from './constants';\n\nexport function setTicketGivenAmount(amount) {\n  return {\n    type: SET_TICKET_GIVEN_AMOUNT_ACTION,\n    amount,\n  };\n}\n\nexport function decreaseGivenAmount(by) {\n  return {\n    type: DECREASE_TICKET_GIVEN_AMOUNT_ACTION,\n    by,\n  };\n}\n\nexport function increaseGivenAmount(by) {\n  return {\n    type: INCREASE_TICKET_GIVEN_AMOUNT_ACTION,\n    by,\n  };\n}\n","import { createSelector } from 'reselect';\n\n/**\n * Direct selector to the ticketTotal state domain\n */\nconst selectTicketTotalDomain = () => (state) => state.tmp.visibility.tickets;\nconst selectTicketItemsLen = () => (state) => !!state.ticket.items.length;\n\n/**\n * Other specific selectors\n */\n\n/**\n * Default selector used by TicketTotal\n */\n\nconst makeSelectTicketTotalVisibility = () =>\n  createSelector(\n    selectTicketTotalDomain(),\n    (substate) => substate.total\n  );\n\nconst makeSelectRawTicketTotalVisibility = () =>\n  createSelector(\n    selectTicketTotalDomain(),\n    (substate) => substate.raw\n  );\n\nexport default makeSelectTicketTotalVisibility;\nexport {\n  selectTicketTotalDomain,\n  selectTicketItemsLen,\n  makeSelectTicketTotalVisibility,\n  makeSelectRawTicketTotalVisibility,\n};\n","/*\n * TicketTotal Messages\n *\n * This contains all the text for the TicketTotal component.\n */\nimport { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  title: {\n    id: 'kz.containers.TicketTotalContainer.title',\n    defaultMessage: 'Payment Summary',\n  },\n});\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React from 'react';\nimport Octicon from 'react-octicon';\nimport styled from 'styled-components';\n\nexport const Container = styled.div`\n  position: relative;\n  box-sizing: border-box;\n  height: 100%;\n  z-index: 2;\n  min-width: 300px;\n  width: 300px;\n  max-width: 300px;\n  background-color: ${(props) =>\n    props.theme && props.theme.app.bgColor\n      ? props.theme.app.bgColor\n      : '#161719'};\n  color: ${(props) =>\n    props.theme && props.theme.app.color ? props.theme.app.color : ' #a3a8ae'};\n  padding: 0;\n  border-left: ${(props) =>\n    props.theme && props.theme.app.border\n      ? props.theme.app.border\n      : '1px solid #27292c'};\n  border-bottom: ${(props) =>\n    props.theme && props.theme.app.border\n      ? props.theme.app.border\n      : '1px solid #27292c'};\n`;\n\nexport const ContainerSwitcher = styled.span`\n  position: absolute;\n  display: inline-block;\n  top: 4px;\n  left: ${(props) => (props.expanded ? '6' : '3')}px;\n  cursor: pointer;\n  z-index: 99;\n  color: ${(props) =>\n    props.theme && props.theme.app.switchPanelIconColor ? props.theme.app.switchPanelIconColor : 'rgba(255, 255, 255, 0.4)'};\n  &:before {\n    transform: translate(8px, 8px);\n    content: ${(props) => (props.expanded ? '\"\\\\F078\"' : '\"\\\\F0A4\"')};\n    font-family: 'octicons';\n    font-weight: normal;\n    font-style: normal;\n    font-size: 16px;\n    display: inline-block;\n    -webkit-font-smoothing: antialiased;\n    position: relative;\n    top: 3px;\n  }\n`;\n// content: ${(props) => (props.expanded ? '\"\\\\F04E\"' : '\"\\\\F105\"')};\nexport const TicketTemplateViewerSwitcher = styled.span`\n  position: absolute;\n  display: inline-block;\n  top: 4px;\n  right: ${(props) => (props.expanded ? '6' : '3')}px;\n  cursor: pointer;\n  z-index: 99;\n  color: ${(props) =>\n    props.theme && props.theme.app.switchPanelIconColor ? props.theme.app.switchPanelIconColor : 'rgba(255, 255, 255, 0.4)'};\n  &:before {\n    transform: translate(8px, 8px);\n    content: ${(props) => (props.expanded ? '\"\\\\F011\"' : '\"\\\\F051\"')};\n    font-family: 'octicons';\n    font-weight: normal;\n    font-style: normal;\n    font-size: 16px;\n    display: inline-block;\n    -webkit-font-smoothing: antialiased;\n    position: relative;\n    top: 3px;\n    right: 20px;\n  }\n`;\n// export const ContainerSwitcher = styled.span`\n//   position: absolute;\n//   background: rgba(163, 168, 174, 0.1);\n//   display: inline-block;\n//   border-bottom-left-radius: 60px;\n//   border-top-left-radius: 60px;\n//   height: 44px;\n//   width: 20px;\n//   top: 50%;\n//   left: -20px;\n//   padding: 0;\n//   margin: 0;\n//   cursor: pointer;\n//   z-index: 99;\n//   &:before {\n//     transform: translate(8px, 8px);\n//     content: ${(props) => (props.expanded ? '\"\\\\F078\"' : '\"\\\\F0A4\"')};\n//     font-family: 'octicons';\n//     font-weight: normal;\n//     font-style: normal;\n//     font-size: 16px;\n//     display: inline-block;\n//     -webkit-font-smoothing: antialiased;\n//     position: relative;\n//     top: 3px;\n//   }\n// `;\n\nexport const SectionContainer = styled.div`\n  height: 100%;\n  padding: ${(props) =>\n    props.theme && props.theme.app.padding ? props.theme.app.padding : '0px'};\n`;\nexport const FirstSectionContainer = SectionContainer.extend``;\nexport const SectionTitle = styled.p`\n  width: 100%;\n  height: 44px;\n  background-color: rgba(163, 168, 174, 0.1);\n  color: rgba(163, 168, 174, 0.6);\n  margin: 0;\n  padding: 0;\n  line-height: 2.5em;\n  font-size: 1.5em;\n  text-align: center;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  font-weight: 400;\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n`;\nexport function FirstSection(props) {\n  return (\n    <FirstSectionContainer>\n      <SectionTitle>\n        {props.title}\n      </SectionTitle>\n      {props.children}\n    </FirstSectionContainer>\n  );\n}\nexport function Section(props) {\n  return (\n    <SectionContainer>\n      <SectionTitle>\n        {props.title}\n      </SectionTitle>\n      {props.children}\n    </SectionContainer>\n  );\n}\nSection.propTypes = {\n  title: React.PropTypes.string,\n  children: React.PropTypes.object,\n};\nconst PaymentMethodsSection = styled.div`\n  // height: calc(25% - 30px);\n  height: 25%;\n  width: 100%;\n  display: table;\n  // background-color: rgba(163, 168, 174, 0.05);\n  background-color: rgba(163, 168, 174, 0.1);\n  color: #6494ed;\n  margin: 0;\n  padding-left: 30px;\n  font-size: 1.8em;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  font-weight: 100;\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n  // margin: 25px 0;\n  &::selection {\n    color: rgba(163, 168, 174, 0.6);\n    background-color: rgba(163, 168, 174, 0.1);\n  }\n`;\nconst PaymentMethodsItem = styled.div`\n  margin: 0;\n  padding: 0;\n  display: table-cell;\n  vertical-align: middle;\n  cursor: pointer;\n  transition: color .5s ease-in-out;\n  &:hover {\n    color: #73c990;\n  }\n`;\nconst PaymentMethodsItemTitle = styled.span`margin-left: 10px;`;\nexport function PaymentMethods(props) {\n  return (\n    <PaymentSectionContainer>\n      <PaymentMethodsSection>\n        <PaymentMethodsItem>\n          <Octicon mega name=\"credit-card\" />{' '}\n          <PaymentMethodsItemTitle>Credit Card</PaymentMethodsItemTitle>\n        </PaymentMethodsItem>\n      </PaymentMethodsSection>\n      <PaymentMethodsSection>\n        <PaymentMethodsItem>\n          <Octicon mega name=\"gift\" />{' '}\n          <PaymentMethodsItemTitle>Cheque</PaymentMethodsItemTitle>\n        </PaymentMethodsItem>\n      </PaymentMethodsSection>\n      <PaymentMethodsSection>\n        <PaymentMethodsItem>\n          <Octicon mega name=\"credit-card\" />{' '}\n          <PaymentMethodsItemTitle>Efectivo</PaymentMethodsItemTitle>\n        </PaymentMethodsItem>\n      </PaymentMethodsSection>\n      <PaymentMethodsSection>\n        <PaymentMethodsItem>\n          <Octicon mega name=\"device-mobile\" />{' '}\n          <PaymentMethodsItemTitle>Phone</PaymentMethodsItemTitle>\n        </PaymentMethodsItem>\n      </PaymentMethodsSection>\n    </PaymentSectionContainer>\n  );\n}\nconst PaymentSectionContainer = styled.div`\n  height: calc(100% - 44px);\n  padding: 10px;\n`;\n","/*\n *\n * TicketTotal\n *\n */\n\nimport React, { PropTypes } from 'react';\nimport { connect } from 'react-redux';\nimport { FormattedMessage } from 'react-intl';\nimport { createStructuredSelector } from 'reselect';\nimport { isEmptyTicket } from 'selectors/tickets';\nimport TicketTotal from 'containers/TicketTotal';\nimport TicketRawTotal from 'containers/TicketRawTotal';\nimport {\n  makeSelectTicketTotalVisibility,\n  makeSelectRawTicketTotalVisibility,\n} from 'containers/TicketTotalContainer/selectors';\nimport { toggleTicketTotalVisibility, toggleRawTicketVisibility } from './actions';\nimport messages from './messages';\nimport {\n  Container,\n  ContainerSwitcher,\n  TicketTemplateViewerSwitcher,\n  FirstSection,\n} from './wrappers';\n\nexport function TicketTotalContainer(props) {\n  // eslint-disable-line react/prefer-stateless-function\n  return (\n    <Container>\n      <ContainerSwitcher\n        expanded={props.ticketTotalVisibility}\n        title=\"Expand/Collapse Ticket Total\"\n        onClick={() => props.toggleTicketTotalVisibility()}\n      />\n      {!props.isEmptyTicket && (\n        <TicketTemplateViewerSwitcher\n          expanded={!props.rawTicketTotalVisibility}\n          title=\"Show/Hide Ticket\"\n          onClick={() => props.toggleRawTicketVisibility()}\n        />\n      )}\n      <FirstSection title={<FormattedMessage {...messages.title} />}>\n        {props.rawTicketTotalVisibility ? <TicketRawTotal /> : <TicketTotal />}\n      </FirstSection>\n    </Container>\n  );\n}\n\nTicketTotalContainer.propTypes = {\n  toggleTicketTotalVisibility: PropTypes.func.isRequired,\n  ticketTotalVisibility: PropTypes.bool,\n  toggleRawTicketVisibility: PropTypes.func.isRequired,\n  rawTicketTotalVisibility: PropTypes.bool,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  ticketTotalVisibility: makeSelectTicketTotalVisibility(),\n  rawTicketTotalVisibility: makeSelectRawTicketTotalVisibility(),\n  isEmptyTicket,\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    toggleTicketTotalVisibility: () => dispatch(toggleTicketTotalVisibility()),\n    toggleRawTicketVisibility: () => dispatch(toggleRawTicketVisibility()),\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(TicketTotalContainer);\n","/*\n *\n * TicketTotal actions\n *\n */\n\nimport { TOGGLE_TICKET_TOTAL_VISIBILITY, TOGGLE_RAW_TICKET_VISIBILITY } from './constants';\n\nexport function toggleTicketTotalVisibility() {\n  return {\n    type: TOGGLE_TICKET_TOTAL_VISIBILITY,\n  };\n}\n\nexport function toggleRawTicketVisibility() {\n  return {\n    type: TOGGLE_RAW_TICKET_VISIBILITY,\n  };\n}\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const PaymentSectionContainer = styled.div`\n  height: calc(100% - 60px);\n  display: flex;\n  flex-direction: column;\n  color: rgb(100, 148, 237);\n  justify-content: space-evenly;\n  padding-left: 40px;\n  background-color: rgba(163, 168, 174, 0.1);\n  margin: 10px;\n  &::selection {\n    color: rgba(163, 168, 174, 0.6);\n    background-color: rgba(163, 168, 174, 0.1);\n  }\n`;\n\nexport default PaymentSectionContainer;\n","/*\n * TicketPayments Messages\n *\n * This contains all the text for the TicketPayments component.\n */\nimport { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  creditcard: {\n    id: 'kz.containers.TicketPayments.method.credit_card',\n    defaultMessage: 'Credit Card',\n  },\n  ticket: {\n    id: 'kz.containers.TicketPayments.method.ticket',\n    defaultMessage: 'Ticket',\n  },\n  cash: {\n    id: 'kz.containers.TicketPayments.method.cash',\n    defaultMessage: 'Cash',\n  },\n  phone: {\n    id: 'kz.containers.TicketPayments.method.phone',\n    defaultMessage: 'Phone',\n  },\n});\n","\nimport styled from 'styled-components';\n\nexport const Container = styled.div`\n    position:relative;  \n    display: ${(props) => (props.visible ? 'flex' : 'none')};\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n\n    & > span {\n        align-self: flex-end;\n    }\n`;\n\nexport const BaseInput = styled.input`\n  outline: none;\n  font-size: 1.3em;\n  margin-left: 5px;\n  width: 150px;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  font-weight: 100;\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n\n  &::-webkit-input-placeholder {\n    /* WebKit, Blink, Edge */\n    color: rgba(163, 168, 174, 0.9);\n  }\n  &:-moz-placeholder {\n    /* Mozilla Firefox 4 to 18 */\n    color: rgba(163, 168, 174, 0.9);\n    opacity: 1;\n  }\n  &::-moz-placeholder {\n    /* Mozilla Firefox 19+ */\n    color: rgba(163, 168, 174, 0.9);\n    opacity: 1;\n  }\n  &:-ms-input-placeholder {\n    /* Internet Explorer 10-11 */\n    color: rgba(163, 168, 174, 0.9);\n  }\n  &::-ms-input-placeholder {\n    /* Microsoft Edge */\n    color: rgba(163, 168, 174, 0.9);\n  }\n  &::placeholder {\n    /* WebKit, Blink, Edge */\n    color: rgba(163, 168, 174, 0.9);\n    opacity: 1;\n  }\n  \n`;\nexport const Input = BaseInput.extend`\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  margin-left: 10px;\n  padding-right: 10px;\n  font-size: 2rem;\n  color: rgb(115, 201, 144);\n  order: 2;\n  pointer-events: ${(props) => (props.readonly ? 'none' : 'auto')};\n\n  &:placeholder {\n    opacity: 1;\n    transition: all 0.2s;\n  }\n\n  &:placeholder-shown:not(:focus)::placeholder {\n    opacity: 0;\n  }\n\n  &:placeholder-shown:not(:focus) + * {\n    opacity: 1;\n    margin-left: 55px;\n    top: 8px;\n    font-size: 1.8em;\n    font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n      Cantarell, Arial, sans-serif;\n    font-weight: 100;\n    -webkit-font-smoothing: antialiased;\n    font-variant: all-petite-caps;\n    font-style: normal;\n    color: ${(props) => (props.disabled ? 'rgba(163, 168, 174, 0.6)' : 'rgb(100, 148, 237)')};\n  }\n\n  &:placeholder-shown:focus ~ * {\n    color: rgb(115, 201, 144);\n  }\n\n  &:focus {\n    outline: none;\n    border-color: rgba(0, 0, 0, 0.5);\n  }\n\n  &:not(:placeholder-shown) ~ * {\n    color: rgb(115, 201, 144);\n  }\n\n  &:disabled {\n      color: rgba(163, 168, 174, 0.6);\n  }\n\n  &:disabled ~ * {\n      color: rgba(163, 168, 174, 0.6);\n  }\n`;\n\n\nexport const Label = styled.label`\n  position: absolute;\n  pointer-events: none; // makes the input ot get focus having the label on top of it\n  left: -10px;\n  top: 35px;\n  color: rgb(115, 201, 144);\n  order: 3;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  font-weight: 100;\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n  opacity: ${(props) => (props.readonly ? '.5' : '1')};\n  transition: all 0.2s;\n  margin-left: 10px;\n  font-size: ${(props) => (props.readonly ? '1.7em' : '14px')};\n  user-select: none;\n  width: 90%;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n`;\n\n","import React from 'react';\nimport * as S from './styles';\n\nfunction isRealNumeric(input) {\n    return /^(?:[1-9]\\d{0,4}|0)(?:\\.\\d{1,3})?$/.test(input);\n}\n\nfunction isNumeric(input) {\n    return /^\\d{1,15}$/.test(input);\n}\n\nexport class Input extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            value: this.parseValue(props.value, props.pattern),\n            cursorStart: 0,\n            cursorEnd: 0,\n            loading: false\n        };\n        this.increaseShiftValues = [10, 0.1];\n        this.increaseNoShiftValues = [1, 0.01];\n    }\n\n    parseValue(value, pattern) {\n        try {\n\n            if (pattern === 'id') {\n                return this.parseValueId(value);\n            }\n\n            return this.parseValuePrice(value);\n        }\n        catch (e) {\n            return '';\n        }\n    }\n\n    parseValuePrice(value) {\n        if (typeof value !== 'number') {\n            return '';\n        }\n\n        if (value <= 0) {\n            return '0.00';\n        }\n\n        return `${value.toFixed(2)}`;\n    }\n\n    parseValueId(value) {\n        if (typeof value !== 'number' || value <= 0) {\n            return '';\n        }\n\n        return `${value}`;\n    }\n\n    componentWillReceiveProps({ value, pattern }) {\n        this.setState({ value: this.parseValue(value, pattern), loading: false });\n    }\n\n    componentDidUpdate() {\n        return this.updateCursor(this.state.cursorStart, this.state.cursorEnd);\n    }\n\n    updateCursor(start, end) {\n        if (!this.input) {\n            return;\n        }\n\n        this.input.setSelectionRange(start, end);\n    }\n\n    setValueId(value, { selectionStart, selectionEnd }) {\n        if (!value) {\n            this.setState(\n                { value: '', cursorStart: selectionStart, cursorEnd: selectionEnd }\n            );\n            return this.props.onChange(null)\n        }\n\n        if (!isNumeric(value)) {\n            return this.setState(\n                { value: this.state.value, cursorStart: selectionStart - 1, cursorEnd: selectionEnd - 1 }\n            );\n        }\n\n        this.setState(\n            { value, cursorStart: selectionStart, cursorEnd: selectionEnd }\n        );\n        this.props.onChange(Number(value))\n    }\n\n    setValue(value, { selectionStart, selectionEnd }) {\n\n        if (this.props.pattern === 'id') {\n            return this.setValueId(value, { selectionStart, selectionEnd })\n        }\n\n        if (!value || value.startsWith('.')) {\n            this.setState(\n                { value: '', cursorStart: selectionStart, cursorEnd: selectionEnd }\n            );\n            return this.props.onChange(null)\n        }\n\n        // console.log(value, this.state.value, selectionStart, selectionEnd)\n        // For next cases, | is the mouse cursor\n        // Case 1: 12|.45 -> 12.|45\n        if (value[selectionStart - 1] === '.' && value[selectionStart] === '.') {\n            return this.setState(\n                { cursorStart: selectionStart, cursorEnd: selectionEnd }\n            );\n        }\n\n        // Case 1: 12.|45 -> 12|.45\n        if (this.state.value.replace('.', '') === value) {\n            return this.setState(\n                { cursorStart: selectionStart, cursorEnd: selectionEnd }\n            );\n        }\n\n\n        if (!isRealNumeric(value)) {\n            return this.setState(\n                { value: this.state.value, cursorStart: selectionStart - 1, cursorEnd: selectionEnd - 1 }\n            );\n        }\n\n\n        if (value.includes('.') && selectionStart > value.indexOf('.')) {\n            const amount = value.substr(0, value.indexOf('.') + 3);\n            this.setState(\n                { value: amount, cursorStart: selectionStart, cursorEnd: selectionEnd }\n            );\n            return this.props.onChange(Number(amount))\n        }\n\n        this.setState(\n            { value, cursorStart: selectionStart, cursorEnd: selectionEnd }\n        );\n        this.props.onChange(Number(value))\n    }\n\n    onClick(event, onClick) {\n        if (this.props.readonly) {\n            return;\n        }\n\n        if (event.target.selectionStart >= this.state.value.length) {\n            return this.setState({\n                cursorStart: this.state.value.length,\n                cursorEnd: this.state.value.length,\n            });\n        }\n\n        this.setState({\n            cursorStart: event.target.selectionStart,\n            cursorEnd: event.target.selectionEnd,\n        });\n\n    }\n\n\n    onChange(event) {\n        if (this.props.readonly) {\n            return;\n        }\n        const value = event.target.value.trim();\n        return this.setValue(value, event.target);\n    }\n\n    onBlur(event) {\n        if (this.props.readonly || this.props.pattern !== 'price') {\n            return;\n        }\n        if (this.state.value) {\n            this.setState({ value: Number(this.state.value).toFixed(2) })\n        }\n    }\n\n    getAmountPosition(target, isShift, isDecreasing) {\n        if (this.props.readonly) {\n            return;\n        }\n        if (this.props.pattern !== 'price') { return; }\n        const increaseValues = isShift ? this.increaseShiftValues : this.increaseNoShiftValues;\n        const isDecimalIncrementation = this.state.value.indexOf('.') !== -1 && target.selectionStart > this.state.value.indexOf('.');\n        const absoluteIncrement = isDecimalIncrementation\n            ? increaseValues[1]\n            : increaseValues[0];\n        const increment = isDecreasing ? -absoluteIncrement : absoluteIncrement;\n        const amount = isDecimalIncrementation\n            ? (Number(this.state.value) + increment).toFixed(2)\n            : Number(this.state.value) + increment;\n        return this.setValue(`${amount}`, target)\n    }\n\n    stopPropagation(event) {\n        event.preventDefault();\n        event.stopPropagation();\n        return false;\n    }\n\n    render() {\n        const { onEnter, onClick, onBlur, onDoubleClick, onChange, ...rest } = this.props;\n        return (\n            <S.Input\n                {...rest}\n                type=\"text\"\n                innerRef={(input) => (this.input = input)}\n                onClick={(e) => this.onClick(e, onClick)}\n                onBlur={(e) => this.onBlur(e, onClick)}\n                onKeyDown={(event) => {\n                    const { target, key } = event;\n                    const isShift = !!event.shiftKey;\n                    switch (key) {\n                        case 'Enter':\n                            onEnter(Number(this.state.value));\n                            return this.stopPropagation(event);\n                        case 'ArrowUp':\n                            this.getAmountPosition(target, isShift, false)\n                            return this.stopPropagation(event);\n                        case 'ArrowDown':\n                            this.getAmountPosition(target, isShift, true)\n                            return this.stopPropagation(event);\n                        case 'ArrowRight':\n                            if (target.selectionStart >= this.state.value.length) {\n                                this.setValue(this.state.value, target);\n                                return this.stopPropagation(event);\n                            }\n                            break;\n                        case 'Escape':\n                            this.setValue(null, { selectionStart: 0, selectionEnd: 0 });\n                            return this.stopPropagation(event);\n                        default:\n                    }\n                    return true;\n                }}\n                onChange={(event) => this.onChange(event, onChange)}\n                value={this.state.value}\n\n            />\n        );\n    }\n}\n\nInput.propTypes = {};\n\nexport default Input;","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React from 'react';\nimport styled, { keyframes } from 'styled-components';\n\nconst rotateplane = keyframes`\n  0% { \n    -webkit-transform: scale(0);\n    transform: scale(0);\n  } 100% {\n    -webkit-transform: scale(1.0);\n    transform: scale(1.0);\n    opacity: 0;\n  }\n`;\n\nexport const Spinner = styled.div`\n  width: 35px;\n  height: 30px;\n  background-color: rgba(187, 183, 183, 0.5);\n  border-radius: 100%;  \n  animation: ${rotateplane} 1.0s infinite ease-in-out;\n`;\n\nexport default () => (\n  <Spinner />\n);\n","import React from 'react';\nimport Input from './Input';\nimport SpinnerLoader from '../SpinnerLoader';\nimport * as S from './styles';\n\nexport default function PaymentMethod({ icon, placeholder, loading, visible, disabled, pattern, ...rest }) {\n    return <S.Container visible={visible}>\n        <Input\n            type=\"text\"\n            placeholder={placeholder}\n            disabled={loading ? true : disabled}\n            pattern={pattern}\n            {...rest}\n        />\n        <S.Label title={placeholder}>\n            {placeholder}\n        </S.Label>\n        {loading ? <SpinnerLoader /> : icon}\n    </S.Container>\n}\n\nPaymentMethod.defaultProps = {\n    visible: true,\n    loading: false,\n    disabled: false,\n    pattern: 'price'\n}","\n\nimport React, { PropTypes, Fragment } from 'react';\nimport Octicon from 'react-octicon';\nimport {\n  PAYMENT_METHOD_VOUCHER,\n} from 'config';\nimport messages from '../messages';\nimport { tickets as ticketsSelectors } from '@kalzate/cy';\nimport PaymentMethod from '@kalzate/ui';\n\nexport class Voucher extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { loading: false };\n  }\n\n  componentWillReceiveProps({ voucherPaymentAmount, ticketVoucherPaymentError }) {\n    if (voucherPaymentAmount || ticketVoucherPaymentError) this.setState({ loading: false });\n  }\n\n  render() {\n\n    const {\n      voucherPaymentAmount,\n      voucherPaymentConcept,\n      updateTicketPayment,\n      addVoucherPaymentAmount,\n      removeVoucherPaymentAmount,\n      totalAmount,\n      isTicketReadOnly,\n      intl } = this.props;\n\n    const isPaymentMethodDisabled = totalAmount <= 0 || isTicketReadOnly;\n\n    return (\n      <div>\n        <PaymentMethod\n          data-cy={ticketsSelectors.PAYMENT_METHOD_VOUCHER}\n          pattern=\"id\"\n          visible={Boolean(voucherPaymentAmount) === false}\n          loading={this.state.loading}\n          onChange={(value) => updateTicketPayment({\n            method: PAYMENT_METHOD_VOUCHER,\n            concept: value\n          })}\n          onEnter={() => {\n            this.setState({ loading: true });\n            addVoucherPaymentAmount(voucherPaymentConcept);\n          }}\n          placeholder={intl.formatMessage(messages.ticket)}\n          disabled={isPaymentMethodDisabled}\n          value={voucherPaymentConcept}\n          icon={<Octicon mega name=\"gift\" verticalAlign='middle' />} />\n        <PaymentMethod\n          data-cy={ticketsSelectors.PAYMENT_METHOD_VOUCHER_AMOUNT}\n          visible={Boolean(voucherPaymentAmount) === true}\n          placeholder={intl.formatMessage(messages.ticket)}\n          readonly={true}\n          value={voucherPaymentAmount}\n          icon={<Octicon mega name=\"x\" verticalAlign='middle' style={{ cursor: 'pointer' }} onClick={() => {\n            this.setState({ loading: false });\n            removeVoucherPaymentAmount();\n          }} />} />\n      </div>\n    );\n  }\n}\n\nVoucher.propTypes = {\n  loading: PropTypes.bool\n};\n\nexport default Voucher;","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport Octicon from 'react-octicon';\nimport {\n  PAYMENT_METHOD_CREDIT_CARD,\n  PAYMENT_METHOD_CASH,\n} from 'config';\nimport PaymentSectionContainer from '../atoms/PaymentSectionContainer';\nimport Voucher from './Voucher';\nimport messages from '../messages';\nimport { tickets as ticketsSelectors } from '@kalzate/cy';\nimport PaymentMethod from '@kalzate/ui';\n\nexport function PaymentMethods(props) {\n\n  const {\n    creditCardPaymentAmount,\n    cashPaymentAmount,\n    updateTicketPayment,\n    totalAmount,\n    isTicketReadOnly,\n    remainingAmount,\n    intl } = props;\n\n  const isPaymentMethodDisabled = totalAmount <= 0 || isTicketReadOnly;\n  return (\n    <PaymentSectionContainer>\n      <PaymentMethod\n        data-cy={ticketsSelectors.PAYMENT_METHOD_CREDIT_CARD}\n        onChange={(value) => updateTicketPayment({\n          method: PAYMENT_METHOD_CREDIT_CARD,\n          amount: value\n        })}\n        onEnter={() => {\n          const amount = remainingAmount + creditCardPaymentAmount;\n\n          if (amount <= 0) {\n            return;\n          }\n\n          updateTicketPayment({\n            method: PAYMENT_METHOD_CREDIT_CARD,\n            amount\n          });\n\n        }}\n        placeholder={intl.formatMessage(messages.creditcard)}\n        disabled={isPaymentMethodDisabled}\n        value={creditCardPaymentAmount}\n        icon={<Octicon mega name=\"credit-card\" verticalAlign='middle' />} />\n      <PaymentMethod\n        data-cy={ticketsSelectors.PAYMENT_METHOD_CASH}\n        onChange={(value) => updateTicketPayment({\n          method: PAYMENT_METHOD_CASH,\n          amount: value\n        })}\n        onEnter={\n          () => {\n            const amount = remainingAmount + cashPaymentAmount;\n\n            if (amount <= 0) {\n              return;\n            }\n\n            updateTicketPayment({\n              method: PAYMENT_METHOD_CASH,\n              amount\n            });\n\n          }\n        }\n        placeholder={intl.formatMessage(messages.cash)}\n        disabled={isPaymentMethodDisabled}\n        value={cashPaymentAmount}\n        icon={<Octicon mega name=\"tag\" verticalAlign='middle' />} />\n      <Voucher {...props} />\n      <PaymentMethod\n        data-cy={ticketsSelectors.PAYMENT_METHOD_PHONE}\n        disabled={true}\n        placeholder={intl.formatMessage(messages.phone)}\n        icon={<Octicon mega name=\"device-mobile\" verticalAlign='middle' />} />\n    </PaymentSectionContainer>\n  );\n}\n\nPaymentMethods.propTypes = {\n  method: PropTypes.string,\n  setMethod: PropTypes.func.isRequired,\n};\n\nexport default PaymentMethods;\n","/*\n *\n * TicketPayments\n *\n */\n\nimport React, { PropTypes } from 'react';\nimport { connect } from 'react-redux';\nimport { injectIntl } from 'react-intl';\nimport { createStructuredSelector } from 'reselect';\nimport { PaymentMethods } from './molecules/PaymentMethods';\nimport { updateTicketPayment, addVoucherPaymentAmount, removeVoucherPaymentAmount } from 'actions/tickets';\nimport {\n  isTicketReadOnly,\n  ticketTotalAmount,\n  ticketRemainingAmount,\n  ticketCreditCardPaymentAmount,\n  ticketCashPaymentAmount,\n  ticketVoucherPaymentAmount,\n  ticketVoucherPaymentConcept\n} from 'selectors/tickets';\n\nimport {\n  ticketVoucherPaymentError\n} from 'selectors/tmp';\n\nexport class TicketPayments extends React.Component {\n  // eslint-disable-line react/prefer-stateless-function\n  render() {\n    return (\n      <PaymentMethods\n        {...this.props}\n      />\n    );\n  }\n}\n\nTicketPayments.propTypes = {\n  method: PropTypes.string,\n  updateTicketPayment: PropTypes.func.isRequired,\n};\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    updateTicketPayment: (payment) => dispatch(updateTicketPayment(payment)),\n    addVoucherPaymentAmount: (voucherId) => dispatch(addVoucherPaymentAmount(voucherId)),\n    removeVoucherPaymentAmount: () => dispatch(removeVoucherPaymentAmount()),\n  };\n}\n\nconst mapStateToProps = createStructuredSelector({\n  isTicketReadOnly,\n  ticketVoucherPaymentError,\n  totalAmount: ticketTotalAmount,\n  remainingAmount: ticketRemainingAmount,\n  creditCardPaymentAmount: ticketCreditCardPaymentAmount,\n  cashPaymentAmount: ticketCashPaymentAmount,\n  voucherPaymentAmount: ticketVoucherPaymentAmount,\n  voucherPaymentConcept: ticketVoucherPaymentConcept\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(injectIntl(TicketPayments));\n","/*\n * TicketTotal Messages\n *\n * This contains all the text for the TicketTotal component.\n */\nimport { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  title: {\n    id: 'kz.containers.TicketPaymentsContainer.title',\n    defaultMessage: 'Payment Method',\n  },\n});\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React from 'react';\nimport Octicon from 'react-octicon';\nimport styled from 'styled-components';\n\nexport const Container = styled.div`\n  position: relative;\n  box-sizing: border-box;\n  height: 100%;\n  z-index: 2;\n  min-width: 300px;\n  width: 300px;\n  max-width: 300px;\n  background-color: ${(props) =>\n    props.theme && props.theme.app.bgColor\n      ? props.theme.app.bgColor\n      : '#161719'};\n  color: ${(props) =>\n    props.theme && props.theme.app.color ? props.theme.app.color : ' #a3a8ae'};\n  padding: 0;\n  border-left: ${(props) =>\n    props.theme && props.theme.app.border\n      ? props.theme.app.border\n      : '1px solid #27292c'};\n`;\n\nexport const ContainerSwitcher = styled.span`\nposition: absolute;\ndisplay: inline-block;\ntop: 4px;\nleft: ${(props) => (props.expanded ? '6' : '3')}px;\ncursor: pointer;\nz-index: 99;\ncolor: ${(props) =>\n  props.theme && props.theme.app.switchPanelIconColor ? props.theme.app.switchPanelIconColor : 'rgba(255, 255, 255, 0.4)'};\n&:before {\n  transform: translate(8px, 8px);\n  content: ${(props) => (props.expanded ? '\"\\\\F078\"' : '\"\\\\F0A4\"')};\n  font-family: 'octicons';\n  font-weight: normal;\n  font-style: normal;\n  font-size: 16px;\n  display: inline-block;\n  -webkit-font-smoothing: antialiased;\n  position: relative;\n  top: 3px;\n}\n`;\n// export const ContainerSwitcher = styled.span`\n//   position: absolute;\n//   background: rgba(163, 168, 174, 0.1);\n//   display: inline-block;\n//   border-bottom-left-radius: 60px;\n//   border-top-left-radius: 60px;\n//   height: 44px;\n//   width: 20px;\n//   top: 50%;\n//   left: -20px;\n//   padding: 0;\n//   margin: 0;\n//   cursor: pointer;\n//   z-index: 99;\n//   &:before {\n//     transform: translate(8px, 8px);\n//     content: ${(props) => (props.expanded ? '\"\\\\F078\"' : '\"\\\\F0A4\"')};\n//     font-family: 'octicons';\n//     font-weight: normal;\n//     font-style: normal;\n//     font-size: 16px;\n//     display: inline-block;\n//     -webkit-font-smoothing: antialiased;\n//     position: relative;\n//     top: 3px;\n//   }\n// `;\n\nexport const SectionContainer = styled.div`\n  height: 100%;\n  padding: ${(props) =>\n    props.theme && props.theme.app.padding ? props.theme.app.padding : '0px'};\n`;\nexport const SectionTitle = styled.p`\n  width: 100%;\n  height: 44px;\n  background-color: rgba(163, 168, 174, 0.1);\n  color: rgba(163, 168, 174, 0.6);\n  margin: 0;\n  padding: 0;\n  line-height: 2.5em;\n  font-size: 1.5em;\n  text-align: center;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  font-weight: 400;\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n`;\nexport function Section(props) {\n  return (\n    <SectionContainer>\n      <SectionTitle>\n        {props.title}\n      </SectionTitle>\n      {props.children}\n    </SectionContainer>\n  );\n}\nSection.propTypes = {\n  title: React.PropTypes.string,\n  children: React.PropTypes.object,\n};\nconst PaymentMethodsSection = styled.div`\n  // height: calc(25% - 30px);\n  height: 25%;\n  width: 100%;\n  display: table;\n  // background-color: rgba(163, 168, 174, 0.05);\n  background-color: rgba(163, 168, 174, 0.1);\n  color: #6494ed;\n  margin: 0;\n  padding-left: 30px;\n  font-size: 1.8em;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  font-weight: 100;\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n  // margin: 25px 0;\n  &::selection {\n    color: rgba(163, 168, 174, 0.6);\n    background-color: rgba(163, 168, 174, 0.1);\n  }\n`;\nconst PaymentMethodsItem = styled.div`\n  margin: 0;\n  padding: 0;\n  display: table-cell;\n  vertical-align: middle;\n  cursor: pointer;\n  transition: color .5s ease-in-out;\n  &:hover {\n    color: #73c990;\n  }\n`;\nconst PaymentMethodsItemTitle = styled.span`margin-left: 10px;`;\nexport function PaymentMethods(props) {\n  return (\n    <PaymentSectionContainer>\n      <PaymentMethodsSection>\n        <PaymentMethodsItem>\n          <Octicon mega name=\"credit-card\" />{' '}\n          <PaymentMethodsItemTitle>Credit Card</PaymentMethodsItemTitle>\n        </PaymentMethodsItem>\n      </PaymentMethodsSection>\n      <PaymentMethodsSection>\n        <PaymentMethodsItem>\n          <Octicon mega name=\"gift\" />{' '}\n          <PaymentMethodsItemTitle>Cheque</PaymentMethodsItemTitle>\n        </PaymentMethodsItem>\n      </PaymentMethodsSection>\n      <PaymentMethodsSection>\n        <PaymentMethodsItem>\n          <Octicon mega name=\"credit-card\" />{' '}\n          <PaymentMethodsItemTitle>Efectivo</PaymentMethodsItemTitle>\n        </PaymentMethodsItem>\n      </PaymentMethodsSection>\n      <PaymentMethodsSection>\n        <PaymentMethodsItem>\n          <Octicon mega name=\"device-mobile\" />{' '}\n          <PaymentMethodsItemTitle>Phone</PaymentMethodsItemTitle>\n        </PaymentMethodsItem>\n      </PaymentMethodsSection>\n    </PaymentSectionContainer>\n  );\n}\nconst PaymentSectionContainer = styled.div`\n  height: calc(100% - 44px);\n  padding: 10px;\n`;\n","/*\n *\n * TicketTotal\n *\n */\n\nimport React, { PropTypes } from 'react';\nimport { connect } from 'react-redux';\nimport { FormattedMessage } from 'react-intl';\nimport { createStructuredSelector } from 'reselect';\nimport TicketPayments from 'containers/TicketPayments';\nimport { makeSelectTicketPaymentsVisibility } from 'containers/TicketPaymentsContainer/selectors';\nimport { toggleTicketPaymentsVisibility } from './actions';\nimport messages from './messages';\nimport { Container, ContainerSwitcher, Section } from './wrappers';\n\nexport function TicketPaymentsContainer(props) {\n  // eslint-disable-line react/prefer-stateless-function\n  return (\n    <Container>\n      <ContainerSwitcher\n        expanded={props.ticketPaymentsVisibility}\n        title=\"Expand/Collapse Ticket Payments\"\n        onClick={() => props.toggleTicketPaymentsVisibility()}\n      />\n      <Section title={<FormattedMessage {...messages.title} />}>\n        <TicketPayments />\n      </Section>\n    </Container>\n  );\n}\n\nTicketPaymentsContainer.propTypes = {\n  toggleTicketPaymentsVisibility: PropTypes.func.isRequired,\n  ticketPaymentsVisibility: PropTypes.bool,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  ticketPaymentsVisibility: makeSelectTicketPaymentsVisibility(),\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    toggleTicketPaymentsVisibility: () =>\n      dispatch(toggleTicketPaymentsVisibility()),\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(\n  TicketPaymentsContainer\n);\n","import { createSelector } from 'reselect';\n\n/**\n * Direct selector to the ticketTotal state domain\n */\nconst selectTicketPaymentsDomain = () => (state) => state.tmp.visibility.tickets;\n\n/**\n * Other specific selectors\n */\n\n/**\n * Default selector used by TicketTotal\n */\n\nconst makeSelectTicketPaymentsVisibility = () =>\n  createSelector(selectTicketPaymentsDomain(), (substate) =>\n    substate.payments\n  );\n\nexport { selectTicketPaymentsDomain, makeSelectTicketPaymentsVisibility };\n","/*\n *\n * TicketTotal actions\n *\n */\n\nimport { TOGGLE_TICKET_PAYMENTS_VISIBILITY } from './constants';\n\nexport function toggleTicketPaymentsVisibility() {\n  return {\n    type: TOGGLE_TICKET_PAYMENTS_VISIBILITY,\n  };\n}\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n// import Octicon from 'react-octicon';\n\nexport const Container = styled.section`\n  height: 100%;\n  padding: ${(props) =>\n    props.theme && props.theme.app.padding ? props.theme.app.padding : '0px'};\n`;\n\nexport default Container;\n","\nimport styled from 'styled-components';\n\nexport const Section10 = styled.div`\n  width: 12.5%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  border-right: 1px solid rgba(163, 168, 174, 0.1);\n`;\n\nexport default Section10;\n","\nimport styled from 'styled-components';\n\nexport const FloatLabel = styled.div`\n  display: block;\n  position: relative;\n  width: 100%;\n  height: 100%;\n`;\n\nexport default FloatLabel;\n","import SearchInput from './SearchInput';\n\nexport const StockInput = SearchInput.extend`\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  margin-left: 10px;\n  padding-top: 10px;\n  padding-right: 10px;\n  &::-webkit-input-placeholder {\n    opacity: 1;\n    -webkit-transition: all 0.2s;\n    transition: all 0.2s;\n  }\n  &::-moz-placeholder {\n    opacity: 1;\n    -webkit-transition: all 0.2s;\n    transition: all 0.2s;\n  }\n  &:-ms-input-placeholder {\n    opacity: 1;\n    -webkit-transition: all 0.2s;\n    transition: all 0.2s;\n  }\n  &::placeholder {\n    opacity: 1;\n    -webkit-transition: all 0.2s;\n    transition: all 0.2s;\n  }\n  &:placeholder-shown:not(:focus)::-webkit-input-placeholder {\n    opacity: 0;\n  }\n  &:placeholder-shown:not(:focus)::-moz-placeholder {\n    opacity: 0;\n  }\n  &:placeholder-shown:not(:focus):-ms-input-placeholder {\n    opacity: 0;\n  }\n  &:placeholder-shown:not(:focus)::placeholder {\n    opacity: 0;\n  }\n  &:placeholder-shown:not(:focus) + * {\n    font-size: 1.7em;\n    opacity: 0.5;\n    top: 0.35em;\n  }\n  &:focus {\n    outline: none;\n    border-color: rgba(0, 0, 0, 0.5);\n  }\n`;\n\nexport default StockInput;\n","\nimport styled from 'styled-components';\n\nexport const SearchInput = styled.input`\n  outline: none;\n  font-size: 1.3em;\n  margin-left: 5px;\n  width: 150px;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  font-weight: 100;\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n\n  &::-webkit-input-placeholder {\n    /* WebKit, Blink, Edge */\n    color: rgba(163, 168, 174, 0.9);\n  }\n  &:-moz-placeholder {\n    /* Mozilla Firefox 4 to 18 */\n    color: rgba(163, 168, 174, 0.9);\n    opacity: 1;\n  }\n  &::-moz-placeholder {\n    /* Mozilla Firefox 19+ */\n    color: rgba(163, 168, 174, 0.9);\n    opacity: 1;\n  }\n  &:-ms-input-placeholder {\n    /* Internet Explorer 10-11 */\n    color: rgba(163, 168, 174, 0.9);\n  }\n  &::-ms-input-placeholder {\n    /* Microsoft Edge */\n    color: rgba(163, 168, 174, 0.9);\n  }\n`;\n\nexport default SearchInput;\n","import styled from 'styled-components';\n\nexport const StockLabel = styled.label`\n  position: absolute;\n  pointer-events: none; // makes the input ot get focus having the label on top of it\n  left: 0;\n  top: ${(props) => (props.readonly ? '.35em' : '0')};\n  cursor: text;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  font-weight: 100;\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n  opacity: ${(props) => (props.readonly ? '.5' : '1')};\n  -webkit-transition: all 0.2s;\n  transition: all 0.2s;\n  margin-left: 10px;\n  font-size: ${(props) => (props.readonly ? '1.7em' : '14px')};\n  user-select: none;\n  width: 90%;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n`;\n\nexport default StockLabel;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport Section10 from '../atoms/Section10';\nimport FloatLabel from '../atoms/FloatLabel';\nimport StockInput from '../atoms/StockInput';\nimport StockLabel from '../atoms/StockLabel';\n\nexport class StockField extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { value: props.value || '' };\n  }\n  // @todo replace componentWillReceiveProps by getDerivedStateFromProps\n  // from React 17\n  componentWillReceiveProps(props) {\n    this.setState({ value: props.value });\n  }\n  render() {\n    return (\n      <Section10>\n        <FloatLabel>\n          {!this.props.readonly && (\n            <StockInput\n              type=\"text\"\n              placeholder={this.props.placeholder}\n              onChange={({ target }) =>\n                this.setState({ value: target.value }, () =>\n                  this.props.onChange(target.value)\n                )\n              }\n              value={this.state.value}\n            />\n          )}\n          <StockLabel readonly={this.props.readonly} title={this.props.placeholder}>\n            {this.props.placeholder}\n          </StockLabel>\n        </FloatLabel>\n      </Section10>\n    );\n  }\n}\n\nStockField.propTypes = {\n  placeholder: PropTypes.any, // @todo move to string\n  onChange: PropTypes.func,\n};\n\nexport default StockField;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport Section10 from '../atoms/Section10';\nimport FloatLabel from '../atoms/FloatLabel';\nimport StockInput from '../atoms/StockInput';\nimport StockLabel from '../atoms/StockLabel';\n\nexport class InteractiveStockField extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { value: props.value || '' };\n  }\n  // @todo replace componentWillReceiveProps by getDerivedStateFromProps\n  // from React 17\n  componentWillReceiveProps(props) {\n    this.setState({ value: props.value });\n  }\n\n  stopPropagation(event) {\n    event.preventDefault();\n    event.stopPropagation();\n    return false;\n  }\n\n  render() {\n    return (\n      <Section10>\n        <FloatLabel>\n          {!this.props.readonly && (\n            <StockInput\n              type=\"text\"\n              placeholder={this.props.placeholder}\n              onChange={({ target }) =>\n                this.setState({ value: target.value }, () => this.props.onChange(target.value))\n              }\n              onKeyDown={(event) => {\n                const { target, key } = event;\n                switch (key) {\n                  case 'Enter':\n                    this.props.onEnter && this.props.onEnter(target.value);\n                    return this.stopPropagation(event);\n                  case 'ArrowUp':\n                    this.props.onMoveUp && this.props.onMoveUp(target.value);\n                    return this.stopPropagation(event);\n                  case 'ArrowDown':\n                    this.props.onMoveDown && this.props.onMoveDown(target.value);\n                    return this.stopPropagation(event);\n                  case 'Escape':\n                    this.props.onEscape && this.props.onEscape(target.value);\n                    return this.stopPropagation(event);\n                  default:\n                }\n                return true;\n              }}\n              value={this.state.value}\n            />\n          )}\n          <StockLabel readonly={this.props.readonly}>{this.props.placeholder}</StockLabel>\n        </FloatLabel>\n      </Section10>\n    );\n  }\n}\n\nInteractiveStockField.propTypes = {\n  placeholder: PropTypes.any, // @todo move to string\n  onChange: PropTypes.func,\n};\n\nexport default InteractiveStockField;\n","\nimport styled from 'styled-components';\n\nexport const Section5 = styled.div`\nwidth: 6.25%;\nheight: 100%;\nmargin: 0;\npadding: 0;\nborder-right: 1px solid rgba(163, 168, 174, 0.1);\n`;\n\nexport default Section5;\n","\nimport styled from 'styled-components';\nimport Button from 'components/Button';\n\nexport const StyledButton = styled(Button) `\nwidth: 100%;\nheight: 100%;\nborder: none;\nmargin: 0;\n&:hover {\n  border: none\n}\n`;\n\nexport default StyledButton;\n","import React from 'react';\nimport Section5 from '../atoms/Section5';\nimport StyledButton from '../atoms/StyledButton';\n\nexport function StockButton(props) {\n  return (\n    <Section5>\n      <StyledButton {...props} />\n    </Section5>\n  );\n}\n\nexport default StockButton;\n","import styled from 'styled-components';\n\nexport const StockTableHeader = styled.div`\n  width: ${(props) => (props.content ? 'calc(100% - 5px)' : '100%')};\n  height: 44px;\n  display: flex;\n  flex: 0 1 auto;\n  flex-direction: row;\n  background-color: ${(props) =>\n    props.even ? props.theme.tables.bgColorEven : props.theme.tables.bgColor};\n  color: ${(props) => (props.even ? props.theme.tables.colorEven : props.theme.tables.color)};\n`;\n\nexport default StockTableHeader;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n// import Octicon from 'react-octicon';\n\nexport const MatchesListContainer = styled.div`\n  position: absolute;\n  margin-top: -155px;\n  background-color: rgba(100, 100, 100, 0.6);\n  color: white;\n  padding: 0;\n`;\n\nexport const MatchesList = styled.ul`\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  text-align: center;\n`;\n\nexport const MatchesListItem = styled.li`\n  width: 100%;\n  padding: 5px 10px;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  font-weight: ${({ selected }) => (selected ? '400' : '100')};\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n  font-size: 1.3em;\n  color: ${({ selected }) => (selected ? '#73c990' : 'inherit')};\n  background-color: ${({ selected }) =>\n    selected ? 'rgba(255, 255, 255, 0.1)' : 'transparent'};\n`;\n\nexport default MatchesListContainer;\n","import React from 'react';\nimport { isEmpty } from 'lodash';\nimport PubSub from 'utils/pubsub';\nimport StockField from './StockField';\nimport InteractiveStockField from './InteractiveStockField';\nimport StockButton from './StockButton';\nimport StockModal from './StockModal';\nimport StockTableHeaderContainer from '../atoms/StockTableHeaderContainer';\nimport messages from '../messages';\nimport {\n  MatchesListContainer,\n  MatchesList,\n  MatchesListItem,\n} from '../atoms/MatchesListContainer';\n\n\nconst isNumeric = (number) => /^[1-9][0-9]*$/.test(number);\nconst isRealNumeric = function (input) {\n  return /^[1-9][0-9]*\\.?[0-9]{0,2}$/.test(input);\n};\n\nexport class StockTableHeader extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      reference: '',\n      brand: '',\n      gender: '',\n      colors: [],\n      size: '',\n      price: '',\n      amount: '',\n      matchIndex: 0,\n      matchesVisible: false,\n    };\n  }\n  // @todo optimize by moving regex outside function to reuse\n  search() {\n    const $or = [\n      [\n        'reference',\n        this.state.reference,\n        (v) => ({ $regex: new RegExp(v, 'gi') }),\n      ],\n      ['brand', this.state.brand, (v) => ({ $eq: v })],\n      ['size', this.state.size, (v) => ({ $eq: v })],\n      [\n        'price',\n        this.state.price,\n        (v) => ({\n          $gte: parseFloat(v),\n          $lt: parseFloat(v) + 1,\n          // $and: [{ $gte: parseFloat(v) }, { $lt: parseFloat(v) + 1 }],\n        }),\n      ],\n      ['amount', this.state.amount, (v) => ({ $eq: v })],\n      ['gender', this.state.gender, (v) => ({ $eq: v })],\n      ['colors', this.state.colors, (v) => ({ $eq: v })],\n    ]\n      .filter((x) => !isEmpty(x[1]))\n      .map((x) => ({ [x[0]]: x[2](x[1]) }));\n\n    this.props.searchStock(\n      $or.length ? { $or } : {},\n      this.props.limit,\n      this.props.skip\n    );\n  }\n\n  openModal() {\n    PubSub.publish(PubSub.topics.MODAL_OPENED, StockModal);\n  }\n\n  getMatches(reference) {\n    if (!reference) return;\n    this.props.getMatches('reference', reference);\n  }\n\n  shouldDisplayMatches() {\n    return (\n      this.state.matchesVisible &&\n      this.state.reference &&\n      !!this.state.reference.length &&\n      this.props.matches &&\n      this.props.matches.length > 1 &&\n      this.props.matches.every(\n        (match) =>\n          match.startsWith(this.state.reference) &&\n          match !== this.state.reference\n      )\n    );\n  }\n\n  render() {\n    return (\n      <section>\n        {this.shouldDisplayMatches() && (\n          <MatchesListContainer>\n            <MatchesList>\n              {this.props.matches.map((match, i) => (\n                <MatchesListItem\n                  onClick={() =>\n                    this.setState({ reference: match, matchIndex: 0 })\n                  }\n                  selected={this.state.matchIndex === i}\n                >\n                  {match}\n                </MatchesListItem>\n              ))}\n            </MatchesList>\n          </MatchesListContainer>\n        )}\n        <StockTableHeaderContainer content>\n          <InteractiveStockField\n            placeholder={this.props.intl.formatMessage(messages.reference)}\n            value={this.state.reference}\n            onChange={(reference) =>\n              this.setState(\n                { reference, matchIndex: 0, matchesVisible: true },\n                () => this.getMatches(reference)\n              )\n            }\n            onMoveUp={() =>\n              this.setState({\n                matchIndex:\n                  (this.state.matchIndex > 0\n                    ? this.state.matchIndex - 1\n                    : this.props.matches.length - 1) %\n                  this.props.matches.length,\n              })\n            }\n            onMoveDown={() =>\n              this.setState({\n                matchIndex:\n                  (this.state.matchIndex + 1) % this.props.matches.length,\n              })\n            }\n            onEscape={() => this.setState({ matchesVisible: false })}\n            onEnter={() =>\n              this.setState({\n                reference: this.shouldDisplayMatches()\n                  ? this.props.matches[this.state.matchIndex]\n                  : this.state.reference,\n              })\n            }\n          />\n          <StockField\n            placeholder={this.props.intl.formatMessage(messages.brand)}\n            value={this.state.brand}\n            onChange={(brand) => this.setState({ brand })}\n          />\n          <StockField\n            placeholder={this.props.intl.formatMessage(messages.gender)}\n            value={this.state.gender}\n            onChange={(gender) => this.setState({ gender })}\n          />\n          <StockField\n            placeholder={this.props.intl.formatMessage(messages.color)}\n            value={this.state.colors.join()}\n            onChange={(color) =>\n              this.setState({ colors: color ? [color] : [] })\n            }\n          />\n          <StockField\n            placeholder={this.props.intl.formatMessage(messages.size)}\n            value={this.state.size}\n            onChange={(size) =>\n              this.setState({\n                size: isNumeric(size)\n                  ? parseInt(size, 10)\n                  : size ? this.state.size : '',\n              })\n            }\n          />\n          <StockField\n            placeholder={this.props.intl.formatMessage(messages.price)}\n            value={this.state.price}\n            onChange={(price) =>\n              this.setState({\n                price: isRealNumeric(price)\n                  ? price\n                  : price ? this.state.price : '',\n              })\n            }\n          />\n          <StockField\n            placeholder={this.props.intl.formatMessage(messages.amount)}\n            value={this.state.amount}\n            onChange={(amount) =>\n              this.setState({\n                amount: isNumeric(amount)\n                  ? parseInt(amount, 10)\n                  : amount ? this.state.amount : '',\n              })\n            }\n          />\n          <StockButton primary icon=\"search\" onClick={() => this.search()} />\n          <StockButton\n            primary\n            icon=\"plus\"\n            onClick={() =>\n              this.props.createStock({\n                reference: this.state.reference,\n                brand: this.state.brand,\n                size: this.state.size,\n                price: parseFloat(this.state.price),\n                amount: this.state.amount,\n                gender: this.state.gender,\n                colors: this.state.colors,\n              })\n            }\n          />\n          <StockButton\n            primary\n            icon=\"cloud-upload\"\n            onClick={() => this.openModal()}\n          />\n        </StockTableHeaderContainer>\n      </section>\n    );\n  }\n}\n\nexport default StockTableHeader;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n// import Octicon from 'react-octicon';\n\nexport const StockTableContainer = styled.div`\nwidth: 100%;\nheight: 100%;\noverflow: auto;\n`;\n\nexport default StockTableContainer;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport StockTableContainer from '../atoms/StockTableContainer';\nimport StockTableHeaderContainer from '../atoms/StockTableHeaderContainer';\nimport StockButton from './StockButton';\nimport StockField from './StockField';\nimport messages from '../messages';\n\nconst isRealNumeric = function (input) {\n  return /^[1-9][0-9]*\\.?[0-9]{0,2}$/.test(input);\n};\n\nexport function StockTableRows(props) {\n  console.log(props.items);\n  return (\n    <StockTableContainer>\n      {props.items.map(({ _data }, i) => (\n        <StockTableHeaderContainer key={i} even={(i + 1) % 2}>\n          <StockField placeholder={_data.reference || this.props.intl.formatMessage(messages.reference)} readonly />\n          <StockField\n            placeholder={_data.brand || this.props.intl.formatMessage(messages.brand)}\n            value={\n              props.tmp[_data.reference] && props.tmp[_data.reference].brand\n                ? props.tmp[_data.reference].brand\n                : ''\n            }\n            onChange={(brand) =>\n              props.updateTmpData(_data.reference, {\n                brand,\n              })\n            }\n          />\n          <StockField\n            placeholder={_data.gender || this.props.intl.formatMessage(messages.gender)}\n            value={\n              props.tmp[_data.reference] && props.tmp[_data.reference].gender\n                ? props.tmp[_data.reference].gender\n                : ''\n            }\n            onChange={(gender) =>\n              props.updateTmpData(_data.reference, {\n                gender,\n              })\n            }\n          />\n          <StockField\n            placeholder={_data.colors.join() || this.props.intl.formatMessage(messages.color)}\n            value={\n              props.tmp[_data.reference] && props.tmp[_data.reference].colors\n                ? props.tmp[_data.reference].colors.join(',')\n                : ''\n            }\n            onChange={(colors) =>\n              props.updateTmpData(_data.reference, {\n                colors: colors.split(',').map((c) => c.trim()),\n              })\n            }\n          />\n          <StockField\n            placeholder={_data.size || this.props.intl.formatMessage(messages.size)}\n            value={\n              props.tmp[_data.reference] && props.tmp[_data.reference].size\n                ? props.tmp[_data.reference].size\n                : ''\n            }\n            onChange={(size) =>\n              props.updateTmpData(_data.reference, {\n                size: parseInt(size, 10),\n              })\n            }\n          />\n          <StockField\n            placeholder={_data.price.toFixed(2)}\n            value={\n              props.tmp[_data.reference] && props.tmp[_data.reference].price\n                ? props.tmp[_data.reference].price\n                : ''\n            }\n            onChange={(price) =>\n              props.updateTmpData(_data.reference, {\n                price: isRealNumeric(price)\n                  ? price\n                  : price && props.tmp[_data.reference]\n                    ? props.tmp[_data.reference].price\n                    : '',\n              })\n            }\n          />\n          <StockField\n            placeholder={_data.amount || props.intl.formatMessage(messages.amount)}\n            value={\n              props.tmp[_data.reference] && props.tmp[_data.reference].amount\n                ? props.tmp[_data.reference].amount\n                : ''\n            }\n            onChange={(amount) =>\n              props.updateTmpData(_data.reference, {\n                amount: parseInt(amount, 10),\n              })\n            }\n          />\n          <StockButton\n            primary\n            icon=\"check\"\n            onClick={() => {\n              props.onUpdate({ ..._data, ...props.tmp[_data.reference] });\n            }}\n          />\n          <StockButton\n            primary\n            icon=\"remove-close\"\n            onClick={() => props.onRemove(_data)}\n          />\n          <StockButton primary icon=\"link-external\" onClick={() => props.addStockToTicket(_data)} />\n        </StockTableHeaderContainer>\n      ))}\n    </StockTableContainer>\n  );\n}\n\nStockTableRows.propTypes = {\n  tmp: PropTypes.object,\n  items: PropTypes.any, // @todo move to array type\n};\n\nexport default StockTableRows;\n","import styled from 'styled-components';\n\nexport const StockTableBody = styled.div`\n  /*width: ${(props) => (props.content ? 'calc(100% - 5px)' : '100%')};*/\n  width: 100%;\n  height: calc(100% - 88px);\n  display: flex;\n  flex: 0 1 auto;\n  flex-direction: row;\n`;\n\nexport default StockTableBody;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n// import Octicon from 'react-octicon';\n\nexport const Title = styled.p`\nfont-size: 1.1em;\nmargin-bottom: 0;\n`;\n\nexport default Title;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n// import Octicon from 'react-octicon';\n\nexport const Subtitle = styled.p`\nfont-size: .9em;\nfont-weight: 200;\nmargin-top: 5px;\n`;\n\nexport default Subtitle;\n","import React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport Center from 'components/Center';\nimport NotFound from 'components/NotFound';\nimport StockTableRows from './StockTableRows';\nimport StockTableBodyContainer from '../atoms/StockTableBodyContainer';\nimport Title from '../atoms/Title';\nimport Subtitle from '../atoms/Subtitle';\nimport messages from '../messages';\n\nexport function StockTableBody(props) {\n  return (\n    <StockTableBodyContainer content>\n      {!props.total && (\n        <Center>\n          <NotFound icon=\"thumbsdown\">\n            <Title>\n              <FormattedMessage {...messages.notFound} />\n            </Title>\n            <Subtitle>\n              <FormattedMessage {...messages.notFoundHelp} />\n            </Subtitle>\n          </NotFound>\n        </Center>\n      )}\n      {!!props.total && (\n        <StockTableRows\n          intl={props.intl}\n          items={props.items}\n          onRemove={({ reference }) =>\n            props.removeStock(reference, props.limit, props.skip, props.search)\n          }\n          onUpdate={(stock) => props.updateStock(stock)}\n          tmp={props.tmp}\n          updateTmpData={props.updateTmpData}\n          addStockToTicket={props.addStockToTicket}\n        />\n      )}\n    </StockTableBodyContainer>\n  );\n}\n\nexport default StockTableBody;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n// import Octicon from 'react-octicon';\n\nexport const StockPaginationContainer = styled.div`\nheight: 44px;\nbackground-color: ${(props) =>\n    props.count % 2 === 0 ? 'rgba(163,168,174,0.2)' : 'rgba(163, 168, 174, 0.1)'};\nwidth: ${(props) => (props.count ? 'calc(100% - 5px)' : '100%')};\ndisplay: table;\n`;\n\nexport default StockPaginationContainer;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n// import Octicon from 'react-octicon';\n\nexport const StockPaginationSection = styled.div`\nheight: 100%;\ntext-align: ${(props) =>\n    props.right ? 'right' : 'left'};\ndisplay: table-cell;\nvertical-align: middle;\n`;\n\nexport default StockPaginationSection;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n// import Octicon from 'react-octicon';\n\nexport const DownloadIcon = styled.span`\n  cursor: pointer;\n  z-index: 99;\n  color: rgba(255, 255, 255, 0.35);\n  &:before {\n    content: '\\\\F00B';\n    font-family: 'octicons';\n    font-weight: normal;\n    font-style: normal;\n    font-size: 16px;\n    display: inline-block;\n    -webkit-font-smoothing: antialiased;\n  }\n  margin: 0 10px;\n  transition: all 0.5s ease-in-out;\n  &:hover {\n    color: rgba(255, 255, 255, 0.55);\n  }\n`;\n\nexport const SyncIcon = styled.span`\n  cursor: pointer;\n  z-index: 99;\n  color: rgba(255, 255, 255, 0.35);\n  &:before {\n    content: '\\\\F087';\n    font-family: 'octicons';\n    font-weight: normal;\n    font-style: normal;\n    font-size: 16px;\n    display: inline-block;\n    -webkit-font-smoothing: antialiased;\n  }\n  margin: 0 5px;\n  transition: all 0.5s ease-in-out;\n  &:hover {\n    color: rgba(255, 255, 255, 0.55);\n  }\n`;\n\nexport const PageIteratorIcon = styled.span`\n  cursor: ${(props) => (props.enabled ? 'pointer' : 'default')};\n  z-index: 99;\n  color: ${(props) =>\n    props.enabled ? 'rgba(255, 255, 255, 0.5)' : 'rgba(255, 255, 255, 0.25)'};\n  &:before {\n    content: ${(props) => (props.next ? '\"\\\\F078\"' : '\"\\\\F0A4\"')};\n    font-family: 'octicons';\n    font-weight: normal;\n    font-style: normal;\n    font-size: 16px;\n    display: inline-block;\n    -webkit-font-smoothing: antialiased;\n  }\n  margin: 0 5px;\n  transition: all 0.5s ease-in-out;\n  &:hover {\n    color: ${(props) =>\n      props.enabled ? 'rgba(255, 255, 255, 0.8)' : 'rgba(255, 255, 255, 0.25)'};\n  }\n`;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n// import Octicon from 'react-octicon';\n\nexport const PageIteratorContainer = styled.span`\nmargin: 0 10px;\n`;\n\nexport default PageIteratorContainer;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport messages from '../messages';\nimport StockPaginationContainer from '../atoms/StockPaginationContainer';\nimport StockPaginationSection from '../atoms/StockPaginationSection';\nimport { DownloadIcon, SyncIcon, PageIteratorIcon } from '../atoms/StockIcons';\nimport PageIteratorContainer from '../atoms/PageIteratorContainer';\n\nexport function StockPagination({\n  total,\n  limit,\n  skip,\n  search,\n  refreshStock,\n  exportStock,\n}) {\n  const page = Math.floor(skip / limit);\n  const lastPage = Math.ceil(total / limit) - 1;\n  const enabledPrev = page > 0;\n  const enabledNext = page < lastPage;\n  return (\n    <StockPaginationContainer>\n      <StockPaginationSection>\n        {/* <Octicon name={'sync'} onClick={() => refreshStock(limit, 0)} />*/}\n        <DownloadIcon onClick={() => exportStock(false)} />\n        <SyncIcon onClick={() => refreshStock(limit, 0)} />\n      </StockPaginationSection>\n      <StockPaginationSection right>\n        <span>\n          {skip + 1} ... {skip + limit} <FormattedMessage {...messages.paginationOf} /> {total}\n        </span>\n        <PageIteratorContainer>\n          <PageIteratorIcon\n            onClick={() =>\n              enabledPrev ? refreshStock(limit, skip - limit, search) : null\n            }\n            enabled={enabledPrev}\n          />\n          <PageIteratorIcon\n            onClick={() =>\n              enabledNext ? refreshStock(limit, skip + limit, search) : null\n            }\n            enabled={enabledNext}\n            next\n          />\n        </PageIteratorContainer>\n      </StockPaginationSection>\n    </StockPaginationContainer>\n  );\n}\n\nexport default StockPagination;\n","/*\n *\n * StockItems\n *\n */\n\nimport React, { PropTypes } from 'react';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { injectIntl } from 'react-intl';\nimport { addStockToTicket } from 'containers/TicketSellingPage/actions';\nimport {\n  makeSelectStockItems,\n  makeSelectStockLimit,\n  makeSelectStockOffset,\n  makeSelectStockCount,\n  makeSelectStockSearch,\n  makeSelectStockTmpData,\n  makeSelectStockReferenceMatches,\n} from './selectors';\nimport {\n  createStock,\n  updateStock,\n  refreshStock,\n  removeStock,\n  exportStock,\n  searchStock,\n  getMatches,\n  updateTmpData,\n} from './actions';\nimport Container from './atoms/Container';\nimport StockTableHeader from './molecules/StockTableHeader';\nimport StockTableBody from './molecules/StockTableBody';\nimport StockPagination from './molecules/StockPagination';\n\nexport function StockItemsPage(props) {\n  return (\n    <Container>\n      <StockTableHeader {...props} />\n      <StockTableBody {...props} />\n      <StockPagination {...props} />\n    </Container>\n  );\n}\n\nStockItemsPage.propTypes = {\n  total: PropTypes.number,\n  items: PropTypes.any, // @todo move to array\n  skip: PropTypes.number,\n  limit: PropTypes.number,\n  match: PropTypes.object,\n  matches: PropTypes.array,\n  tmp: PropTypes.object,\n  createStock: PropTypes.func,\n  updateStock: PropTypes.func,\n  refreshStock: PropTypes.func,\n  removeStock: PropTypes.func,\n  exportStock: PropTypes.func,\n  updateTmpData: PropTypes.func,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  items: makeSelectStockItems(),\n  limit: makeSelectStockLimit(),\n  skip: makeSelectStockOffset(),\n  total: makeSelectStockCount(),\n  search: makeSelectStockSearch(),\n  matches: makeSelectStockReferenceMatches(),\n  tmp: makeSelectStockTmpData(),\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    createStock: (stock) => dispatch(createStock(stock)),\n    updateStock: (stock) => dispatch(updateStock(stock)),\n    refreshStock: (limit, skip) => dispatch(refreshStock(limit, skip)),\n    removeStock: (reference) => dispatch(removeStock(reference)),\n    exportStock: (decrypt) => dispatch(exportStock(decrypt)),\n    searchStock: (search, limit, skip) => dispatch(searchStock(search, limit, skip)),\n    getMatches: (field, value) => dispatch(getMatches(field, value)),\n    updateTmpData: (reference, data) => dispatch(updateTmpData(reference, data)),\n    addStockToTicket: (stockItem) => dispatch(addStockToTicket(stockItem)),\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(injectIntl(StockItemsPage));\n","/*\n *\n * StockItems constants\n *\n */\n\nexport const DEFAULT_ACTION = 'app/StockItems/DEFAULT_ACTION';\n\nexport const CREATE_STOCK_ACTION = 'ui/StockItems/CREATE_STOCK_ACTION';\nexport const CREATE_STOCK_ERROR_ACTION =\n  'ui/StockItems/CREATE_STOCK_ERROR_ACTION';\nexport const CREATE_STOCK_SUCCESS_ACTION =\n  'ui/StockItems/CREATE_STOCK_SUCCESS_ACTION';\n\nexport const UPDATE_STOCK_ACTION = 'ui/StockItems/UPDATE_STOCK_ACTION';\nexport const UPDATE_STOCK_ERROR_ACTION =\n  'ui/StockItems/UPDATE_STOCK_ERROR_ACTION';\nexport const UPDATE_STOCK_SUCCESS_ACTION =\n  'ui/StockItems/UPDATE_STOCK_SUCCESS_ACTION';\n\nexport const REFRESH_STOCK_ACTION = 'ui/StockItems/REFRESH_STOCK_ACTION';\nexport const REFRESH_STOCK_ERROR_ACTION =\n  'ui/StockItems/REFRESH_STOCK_ERROR_ACTION';\nexport const REFRESH_STOCK_SUCCESS_ACTION =\n  'ui/StockItems/REFRESH_STOCK_SUCCESS_ACTION';\n\nexport const REMOVE_STOCK_ACTION = 'ui/StockItems/REMOVE_STOCK_ACTION';\nexport const REMOVE_STOCK_ERROR_ACTION =\n  'ui/StockItems/REMOVE_STOCK_ERROR_ACTION';\nexport const REMOVE_STOCK_SUCCESS_ACTION =\n  'ui/StockItems/REMOVE_STOCK_SUCCESS_ACTION';\n\nexport const EXPORT_STOCK_ACTION = 'ui/StockItems/EXPORT_STOCK_ACTION';\nexport const EXPORT_STOCK_ERROR_ACTION =\n  'ui/StockItems/EXPORT_STOCK_ERROR_ACTION';\nexport const EXPORT_STOCK_SUCCESS_ACTION =\n  'ui/StockItems/EXPORT_STOCK_SUCCESS_ACTION';\n\nexport const SEARCH_STOCK_ACTION = 'ui/StockItems/SEARCH_STOCK_ACTION';\nexport const SEARCH_STOCK_ERROR_ACTION =\n  'ui/StockItems/SEARCH_STOCK_ERROR_ACTION';\nexport const SEARCH_STOCK_SUCCESS_ACTION =\n  'ui/StockItems/SEARCH_STOCK_SUCCESS_ACTION';\n\nexport const GET_MATCHES_STOCK_ACTION =\n  'ui/StockItems/GET_MATCHES_STOCK_ACTION';\nexport const GET_MATCHES_STOCK_ERROR_ACTION =\n  'ui/StockItems/GET_MATCHES_STOCK_ERROR_ACTION';\nexport const GET_MATCHES_STOCK_SUCCESS_ACTION =\n  'ui/StockItems/GET_MATCHES_STOCK_SUCCESS_ACTION';\n\nexport const UPDATE_TMP_STOCK_DATA_ACTION =\n  'ui/StockItems/UPDATE_TMP_STOCK_DATA_ACTION';\n\nexport const UPDATE_STOCK_MODAL_OPTION_ACTION =\n  'ui/StockItems/UPDATE_STOCK_MODAL_OPTION_ACTION';\n\nexport const FILE_EXTENSIONS_ALLOWED = ['json', 'yaml', 'csv'];\n\n","/*\n *\n * StockItems actions\n *\n */\n\nimport {\n  CREATE_STOCK_ACTION,\n  UPDATE_STOCK_ACTION,\n  REFRESH_STOCK_ACTION,\n  REMOVE_STOCK_ACTION,\n  EXPORT_STOCK_ACTION,\n  SEARCH_STOCK_ACTION,\n  GET_MATCHES_STOCK_ACTION,\n  UPDATE_TMP_STOCK_DATA_ACTION,\n  UPDATE_STOCK_MODAL_OPTION_ACTION,\n} from './constants';\n\nexport function createStock(stock, options = {}) {\n  return {\n    type: CREATE_STOCK_ACTION,\n    stock,\n    options,\n  };\n}\n\nexport function updateStock(stock) {\n  return {\n    type: UPDATE_STOCK_ACTION,\n    stock,\n  };\n}\n\nexport function refreshStock(limit, skip, search) {\n  return {\n    type: REFRESH_STOCK_ACTION,\n    limit,\n    skip,\n    search,\n  };\n}\n\nexport function removeStock(reference, limit, skip, search) {\n  return {\n    type: REMOVE_STOCK_ACTION,\n    reference,\n    limit,\n    skip,\n    search,\n  };\n}\n\nexport function exportStock(decrypt) {\n  return {\n    type: EXPORT_STOCK_ACTION,\n    decrypt,\n  };\n}\n\nexport function searchStock(search, limit, skip) {\n  return {\n    type: SEARCH_STOCK_ACTION,\n    limit,\n    skip,\n    search,\n  };\n}\n\nexport function getMatches(field, value) {\n  return {\n    type: GET_MATCHES_STOCK_ACTION,\n    field,\n    value,\n  };\n}\n\nexport function updateTmpData(reference, data) {\n  return {\n    type: UPDATE_TMP_STOCK_DATA_ACTION,\n    reference,\n    data,\n  };\n}\n\nexport function updateModalOption(option, value) {\n  return {\n    type: UPDATE_STOCK_MODAL_OPTION_ACTION,\n    option,\n    value,\n  };\n}\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n// import Octicon from 'react-octicon';\n\nexport const Container = styled.section`\n  height: 100%;\n  padding: ${(props) =>\n    props.theme && props.theme.app.padding ? props.theme.app.padding : '0px'};\n  input:required { ${/* This is to prevent Firefox native style */''}\n    box-shadow:none;\n  }\n`;\n\nexport default Container;\n","\nimport styled from 'styled-components';\n\nexport const Section10 = styled.div`\n  width: 12.5%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  border-right: 1px solid rgba(163, 168, 174, 0.1);\n`;\n\nexport default Section10;\n","\nimport styled from 'styled-components';\n\nexport const Section10 = styled.div`\n  width: 37.5%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  border-right: 1px solid rgba(163, 168, 174, 0.1);\n`;\n\nexport default Section10;\n","\nimport styled from 'styled-components';\n\nexport const FloatLabel = styled.div`\n  display: block;\n  position: relative;\n  width: 100%;\n  height: 100%;\n`;\n\nexport default FloatLabel;\n","import SearchInput from './SearchInput';\n\nexport const StockInput = SearchInput.extend`\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  margin-left: 10px;\n  padding-top: 10px;\n  padding-right: 10px;\n  &::-webkit-input-placeholder {\n    opacity: 1;\n    -webkit-transition: all 0.2s;\n    transition: all 0.2s;\n  }\n  &::-moz-placeholder {\n    opacity: 1;\n    -webkit-transition: all 0.2s;\n    transition: all 0.2s;\n  }\n  &:-ms-input-placeholder {\n    opacity: 1;\n    -webkit-transition: all 0.2s;\n    transition: all 0.2s;\n  }\n  &::placeholder {\n    opacity: 1;\n    -webkit-transition: all 0.2s;\n    transition: all 0.2s;\n  }\n  &:placeholder-shown:not(:focus)::-webkit-input-placeholder {\n    opacity: 0;\n  }\n  &:placeholder-shown:not(:focus)::-moz-placeholder {\n    opacity: 0;\n  }\n  &:placeholder-shown:not(:focus):-ms-input-placeholder {\n    opacity: 0;\n  }\n  &:placeholder-shown:not(:focus)::placeholder {\n    opacity: 0;\n  }\n  &:placeholder-shown:not(:focus) + * {\n    font-size: 1.7em;\n    opacity: 0.5;\n    top: 0.35em;\n  }\n  &:focus {\n    outline: none;\n    border-color: rgba(0, 0, 0, 0.5);\n  }\n`;\n\nexport default StockInput;\n","\nimport styled from 'styled-components';\n\nexport const SearchInput = styled.input`\n  outline: none;\n  font-size: 1.3em;\n  margin-left: 5px;\n  width: 150px;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  font-weight: 100;\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n\n  &::-webkit-input-placeholder {\n    /* WebKit, Blink, Edge */\n    color: rgba(163, 168, 174, 0.9);\n  }\n  &:-moz-placeholder {\n    /* Mozilla Firefox 4 to 18 */\n    color: rgba(163, 168, 174, 0.9);\n    opacity: 1;\n  }\n  &::-moz-placeholder {\n    /* Mozilla Firefox 19+ */\n    color: rgba(163, 168, 174, 0.9);\n    opacity: 1;\n  }\n  &:-ms-input-placeholder {\n    /* Internet Explorer 10-11 */\n    color: rgba(163, 168, 174, 0.9);\n  }\n  &::-ms-input-placeholder {\n    /* Microsoft Edge */\n    color: rgba(163, 168, 174, 0.9);\n  }\n`;\n\nexport default SearchInput;\n","import styled from 'styled-components';\n\nexport const StockLabel = styled.label`\n  position: absolute;\n  pointer-events: none; // makes the input ot get focus having the label on top of it\n  left: 0;\n  top: ${(props) => (props.readonly ? '.35em' : '0')};\n  cursor: text;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  font-weight: 100;\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n  opacity: ${(props) => (props.readonly ? '.5' : '1')};\n  -webkit-transition: all 0.2s;\n  transition: all 0.2s;\n  margin-left: 10px;\n  font-size: ${(props) => (props.readonly ? '1.7em' : '14px')};\n  user-select: none;\n  width: 90%;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n`;\n\nexport default StockLabel;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport Section10 from '../atoms/Section10';\nimport Section30 from '../atoms/Section30';\nimport FloatLabel from '../atoms/FloatLabel';\nimport StockInput from '../atoms/StockInput';\nimport StockLabel from '../atoms/StockLabel';\n\nexport class StockField extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { value: props.value || '' };\n  }\n  // @todo replace componentWillReceiveProps by getDerivedStateFromProps\n  // from React 17\n  componentWillReceiveProps(props) {\n    this.setState({ value: props.value });\n  }\n  render() {\n    const Section = this.props.size ? Section30 : Section10;\n    return (\n      <Section>\n        <FloatLabel>\n          {!this.props.readonly && (\n            <StockInput\n              required={this.props.required}\n              type=\"text\"\n              placeholder={this.props.placeholder}\n              onChange={({ target }) =>\n                this.setState({ value: target.value }, () => this.props.onChange(target.value))\n              }\n              value={this.state.value}\n              data-cy={this.props['data-cy']}\n            />\n          )}\n          <StockLabel\n            readonly={this.props.readonly}\n            data-cy={this.props.readonly && this.props['data-cy']}\n            title={this.props.placeholder} >\n            {this.props.placeholder}\n          </StockLabel>\n        </FloatLabel>\n      </Section>\n    );\n  }\n}\n\nStockField.propTypes = {\n  placeholder: PropTypes.any, // @todo move to string\n  onChange: PropTypes.func,\n};\n\nexport default StockField;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport Section10 from '../atoms/Section10';\nimport FloatLabel from '../atoms/FloatLabel';\nimport StockInput from '../atoms/StockInput';\nimport StockLabel from '../atoms/StockLabel';\n\nexport class InteractiveStockField extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { value: props.value || '' };\n  }\n  // @todo replace componentWillReceiveProps by getDerivedStateFromProps\n  // from React 17\n  componentWillReceiveProps(props) {\n    this.setState({ value: props.value });\n  }\n\n  stopPropagation(event) {\n    event.preventDefault();\n    event.stopPropagation();\n    return false;\n  }\n\n  render() {\n    return (\n      <Section10>\n        <FloatLabel>\n          {!this.props.readonly && (\n            <StockInput\n              required={this.props.required}\n              type=\"text\"\n              placeholder={this.props.placeholder}\n              onChange={({ target }) =>\n                this.setState({ value: target.value }, () => this.props.onChange(target.value))\n              }\n              onKeyDown={(event) => {\n                const { target, key } = event;\n                switch (key) {\n                  case 'Enter':\n                    this.props.onEnter && this.props.onEnter(target.value);\n                    return this.stopPropagation(event);\n                  case 'ArrowUp':\n                    this.props.onMoveUp && this.props.onMoveUp(target.value);\n                    return this.stopPropagation(event);\n                  case 'ArrowDown':\n                    this.props.onMoveDown && this.props.onMoveDown(target.value);\n                    return this.stopPropagation(event);\n                  case 'Escape':\n                    this.props.onEscape && this.props.onEscape(target.value);\n                    return this.stopPropagation(event);\n                  default:\n                }\n                return true;\n              }}\n              value={this.state.value}\n              data-cy={this.props['data-cy']}\n            />\n          )}\n          <StockLabel readonly={this.props.readonly}>{this.props.placeholder}</StockLabel>\n        </FloatLabel>\n      </Section10>\n    );\n  }\n}\n\nInteractiveStockField.propTypes = {\n  placeholder: PropTypes.any, // @todo move to string\n  onChange: PropTypes.func,\n};\n\nexport default InteractiveStockField;\n","\nimport styled from 'styled-components';\n\nexport const Section5 = styled.div`\nwidth: 6.25%;\nheight: 100%;\nmargin: 0;\npadding: 0;\nborder-right: 1px solid rgba(163, 168, 174, 0.1);\n`;\n\nexport default Section5;\n","\nimport styled from 'styled-components';\nimport Button from 'components/Button';\n\nexport const StyledButton = styled(Button) `\nwidth: 100%;\nheight: 100%;\nborder: none;\nmargin: 0;\n&:hover {\n  border: none\n}\n`;\n\nexport default StyledButton;\n","import React from 'react';\nimport Section5 from '../atoms/Section5';\nimport StyledButton from '../atoms/StyledButton';\n\nexport function StockButton(props) {\n  return (\n    <Section5>\n      <StyledButton {...props} />\n    </Section5>\n  );\n}\n\nexport default StockButton;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n// import Octicon from 'react-octicon';\n\nexport const ModalContainer = styled.section`\n  width: 600px;\n  color: rgba(163, 168, 174, 0.6);\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-size: 1.5em;\n  font-style: normal;\n  font-weight: 300;\n`;\n\nexport const DottedContainer = styled.div`\n  width: 550px;\n  margin: auto;\n  border: 2px dotted rgba(163, 168, 174, 0.6);\n  height: 250px;\n  letter-spacing: 0.15em;\n  text-align: center;\n  font-size: 1.7em;\n  display: table;\n  cursor: pointer;\n`;\n\nexport const OptionsContainer = styled.div`\n  width: 550px;\n  margin: 10px auto;\n`;\n\nexport default ModalContainer;\n","/*\n * StockItems Messages\n *\n * This contains all the text for the StockItems component.\n */\nimport { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  notFound: {\n    id: 'kz.containers.StockItems.notFound',\n    defaultMessage: \"Hey, Looks as there's no Items!\",\n  },\n  notFoundHelp: {\n    id: 'kz.containers.StockItems.notFoundHelp',\n    defaultMessage: 'Try adding a new one or changing the searching criterias.',\n  },\n  modalTitle: {\n    id: 'kz.containers.StockItems.modal.title',\n    defaultMessage: 'Drop stock file here',\n  },\n  modalDesc: {\n    id: 'kz.containers.StockItems.modal.desc',\n    defaultMessage: 'Use a csv, json or yaml file extension',\n  },\n  modalHelp: {\n    id: 'kz.containers.StockItems.modal.help',\n    defaultMessage: 'Need Help ? Download a stock file sample here',\n  },\n  modalLoading: {\n    id: 'kz.containers.StockItems.modal.loading',\n    defaultMessage: 'Please wait, I\\'m on it',\n  },\n  modalOptionRemove: {\n    id: 'kz.containers.StockItems.modal.option.remove',\n    defaultMessage: 'Remove Current Stock',\n  },\n  modalOptionArchive: {\n    id: 'kz.containers.StockItems.modal.option.archive',\n    defaultMessage: 'Archive Current Stock',\n  },\n  paginationOf: {\n    id: 'kz.containers.StockItems.pagination.of',\n    defaultMessage: 'of',\n  },\n  reference: {\n    id: 'kz.containers.StockItems.table.reference',\n    defaultMessage: 'Reference',\n  },\n  brand: {\n    id: 'kz.containers.StockItems.table.brand',\n    defaultMessage: 'Brand',\n  },\n  desc: {\n    id: 'kz.containers.StockItemsBasic.table.desc',\n    defaultMessage: 'Description',\n  },\n  price: {\n    id: 'kz.containers.StockItems.table.price',\n    defaultMessage: 'Price',\n  },\n  amount: {\n    id: 'kz.containers.StockItems.table.amount',\n    defaultMessage: 'Amount',\n  },\n});\n","import styled from 'styled-components';\n\nexport const ImportStockInfoTooltip = styled.div`\n  cursor: default;\n  padding: 14px;\n  font-size: 11px;\n  font-weight: 400;\n  letter-spacing: 3px;\n  transition: all 0.5s ease-in-out;\n`;\n\nexport default ImportStockInfoTooltip;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { safeLoad as fromYAML } from 'js-yaml';\nimport fromCSV from 'csvtojson';\nimport Tooltip from 'components/Tooltip';\nimport messages from '../messages';\nimport { DottedContainer } from '../atoms/ModalContainer';\nimport { ImportStockInfoTooltip } from '../atoms/ImportStockInfoTooltip';\nimport { FILE_EXTENSIONS_ALLOWED } from '../constants';\nexport class ModalDropZone extends React.Component {\n\n  static SAMPLE_FILE = `reference, brand, desc, price, amount\n  400, SanDisk, 256GB USB 3.0, 64.95, 10\n  401, Toshiba, 1TB Canvio Basics 2.5, 69.99, 15\n  402, Kingston, DT100G3, 44, 5\n  403, HUIJON,New 1060 Plus Graphic Tablet, 86.99, 5\n  404, Faith, SSD NvMe m.2 1TB, 77.77, 7\n  410, Xiaomi, Redmi note 5 Case, 5.90, 15\n  411, Ryzen, 1600x 3.6GHz, 135.95, 5`;\n\n  constructor(props) {\n    super(props);\n    this.state = { loading: false, items: null, filename: '' };\n  }\n\n  componentDidMount() {\n    this.props.onApproved(() => this.saveData());\n  }\n\n  saveData() {\n    if (!this.state.items.length) return true;\n    // Emit action to save items taking into account options (remove current stock & run in background)\n    this.props.createStock(this.state.items, {\n      batch: true,\n      remove: this.props.removeStockOption,\n      // remove: this.props.removeOption,\n      archive: this.props.archiveStockOption,\n      filename: this.state.filename,\n      // background: this.props.backgroundOption,\n    });\n\n    return true;\n  }\n\n  // @todo move to a saga ?\n  toJS(str, extension, cb) {\n    try {\n      switch (extension) {\n        case FILE_EXTENSIONS_ALLOWED[0]:\n          return cb(null, JSON.parse(str));\n        case FILE_EXTENSIONS_ALLOWED[1]:\n          return cb(null, fromYAML(str));\n        case FILE_EXTENSIONS_ALLOWED[2]:\n          return fromCSV({\n            colParser: {\n              price: 'number',\n              amount: 'number',\n            },\n          })\n            .fromString(str)\n            .on('end_parsed', (data) => cb(null, data))\n            .on('error', (error) => cb(error));\n        default:\n          return str;\n      }\n    } catch (error) {\n      return cb(error);\n    }\n  }\n\n  // @todo move to a saga ?\n  processFile(file) {\n    const [, fileExtension] = file.name.split('.');\n    if (!FILE_EXTENSIONS_ALLOWED.includes(fileExtension.toLowerCase())) return;\n\n    const fileAPISupport =\n      window.File && window.FileReader && window.FileList && window.Blob;\n    // @todo display no file api support notification\n    if (!fileAPISupport) return;\n\n    const fileReader = new FileReader();\n    fileReader.onerror = ({ target }) => {\n      this.setState({ loading: false, items: [] });\n      console.error('could not read file, error code', target.error);\n    };\n    fileReader.onloadstart = () => {\n      this.setState({ loading: true });\n    };\n\n    fileReader.onload = () => {\n      // Conver to JSON here from YAML or CSV\n      this.toJS(\n        fileReader.result,\n        fileExtension.toLowerCase(),\n        (error, jsContent) =>\n          this.setState(\n            { loading: false, items: jsContent, filename: file.name },\n            () => this.props.enable()\n          )\n      );\n    };\n\n    // fileReader.readAsArrayBuffer(file);\n    fileReader.readAsText(file, 'UTF-8');\n  }\n\n  openFileContext(target) {\n    if (this.fileInput) {\n      this.fileInput.click();\n    }\n  }\n\n  dropHandler(event) {\n    // Prevent default behavior (Prevent file from being opened)\n    event.preventDefault();\n\n    if (event.dataTransfer.items) {\n      // Use DataTransferItemList interface to access the file(s)\n      for (let i = 0; i < event.dataTransfer.items.length; i += 1) {\n        const item = event.dataTransfer.items[i];\n        // If dropped items aren't files, reject them\n        if (item.kind === 'file') {\n          this.processFile(item.getAsFile());\n        }\n      }\n    }\n\n    // Pass event to removeDragData for cleanup\n    this.removeDragData(event);\n  }\n\n  dragOverHandler(event) {\n    // Prevent default behavior (Prevent file from being opened)\n    event.preventDefault();\n  }\n\n  removeDragData(event) {\n    if (event.dataTransfer.items) {\n      // Use DataTransferItemList interface to remove the drag data\n      event.dataTransfer.items.clear();\n    } else {\n      // Use DataTransfer interface to remove the drag data\n      event.dataTransfer.clearData();\n    }\n  }\n\n  downloadSample(event) {\n    event.stopPropagation();\n    event.preventDefault();\n    this.props.downloadFile(ModalDropZone.SAMPLE_FILE, 'sample_stock_file.csv', 'text/csv');\n  }\n\n  render() {\n    return (\n      <DottedContainer\n        draggable=\"true\"\n        onClick={({ target }) => this.openFileContext(target)}\n        onDrop={(event) => this.dropHandler(event)}\n        onDragOver={(event) => this.dragOverHandler(event)}\n      >\n        <input\n          ref={(element) => (this.fileInput = element)}\n          type=\"file\"\n          multiple=\"false\"\n          accept=\".csv,.json,.yaml,text/csv, application/json, application/x-yaml, application/vnd.ms-excel, text/*\"\n          onChange={({ target }) =>\n            target.files[0] ? this.processFile(target.files[0]) : null\n          }\n          style={{ display: 'none' }}\n        />\n        <div style={{ display: 'table-cell', verticalAlign: 'middle' }}>\n          <p style={{ margin: '2px' }}><FormattedMessage {...messages.modalTitle} /></p>\n          <div style={{ fontSize: '0.6em', margin: '2px' }}>\n            <FormattedMessage {...messages.modalDesc} />\n            {/* <Tooltip animated color=\"inherit\" right=\"62\" top=\"135\" direction=\"down\" onClick={(event) => this.downloadSample(event)}>*/}\n            {/* <Tooltip animated color=\"inherit\" right=\"100\" top=\"100\" direction=\"down\" onClick={(event) => this.downloadSample(event)}>*/}\n            <Tooltip animated color=\"inherit\" right=\"40\" top=\"5\" direction=\"down\" onClick={(event) => this.downloadSample(event)}>\n              <ImportStockInfoTooltip onClick={(event) => this.downloadSample(event)}>\n                <FormattedMessage {...messages.modalHelp} />\n              </ImportStockInfoTooltip>\n            </Tooltip>\n          </div>\n          {this.state.items && (\n            <p\n              style={{\n                marginTop: '20px',\n                fontSize: '0.6em',\n              }}\n            >\n              {this.state.items.length\n                ? `${this.state.items.length} items found`\n                : 'No items found'}\n            </p>\n          )}\n          {this.state.loading && (\n            <p\n              style={{\n                marginTop: '20px',\n                fontSize: '0.6em',\n              }}\n            >\n              <FormattedMessage {...messages.modalLoading} />\n            </p>\n          )}\n        </div>\n        {/* <p\n          style={{\n            position: 'absolute',\n            width: '200px',\n            top: '170px',\n            left: '210px',\n            fontSize: '0.6em',\n          }}\n        >\n          300 items found\n        </p>*/}\n      </DottedContainer>\n    );\n  }\n}\n\nModalDropZone.propTypes = {};\n\nexport default ModalDropZone;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React from 'react';\nimport styled from 'styled-components';\n// import Octicon from 'react-octicon';\n\nexport const InnerContainer = styled.div`\n  padding: 10px;\n  position: relative;\n  top: 5px;\n  display: inline-block;\n`;\n\nexport const SwitchLabel = styled.label`\n  align-items: center;\n  display: flex;\n`;\n\nexport const SwitchInput = styled.input`\n  display: none;\n  &:checked + div {\n    background-color: rgba(163, 168, 174, 0.5);\n    box-shadow: inset 0 0 18px rgba(0, 0, 0, 0.21);\n  }\n  &:checked + div::before {\n    transform: scale(0);\n  }\n  &:checked + div::after {\n    left: 22px;\n  }\n`;\n\nexport const SwitchCheckbox = styled.div`\n  background-color: rgba(163, 168, 174, 0.3);\n  border-radius: 22px;\n  cursor: pointer;\n  height: 22px;\n  position: relative;\n  transition: all 300ms ease;\n  width: 45px;\n\n  &::before {\n    content: '';\n    bottom: 0;\n    position: absolute;\n    left: 0;\n    top: 0;\n    transition: all 300ms ease;\n    background-color: rgba(163, 168, 174, 0.2);\n    box-shadow: none;\n    border-radius: inherit;\n    right: 0;\n    transform: scale(0);\n    margin: 2px;\n  }\n\n  &::after {\n    content: '';\n    bottom: 0;\n    position: absolute;\n    left: 0;\n    top: 0;\n    transition: all 300ms ease;\n    background-color: rgba(163, 168, 174, 0.3);\n    border: 0 solid #dedede;\n    border-radius: 22px;\n    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.45);\n    height: 22px;\n    margin-bottom: auto;\n    margin-top: auto;\n    position: absolute;\n    margin: auto 0;\n    width: 22px;\n  }\n`;\n\nexport const Checkbox = ({ type, defaultChecked, onChange }) => (\n  <InnerContainer>\n    <SwitchLabel>\n      <SwitchInput\n        type={type}\n        defaultChecked={defaultChecked}\n        onChange={({ target }) => onChange(target.checked)}\n      />\n      <SwitchCheckbox />\n    </SwitchLabel>\n  </InnerContainer>\n);\n\nexport default Checkbox;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport messages from '../messages';\nimport { OptionsContainer } from '../atoms/ModalContainer';\nimport { Checkbox } from '../atoms/Checkbox';\n\nexport class ModalOptions extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  // @todo archive is useful for historical research, it does archive the stock so it can still be used for researching\n  render() {\n    return (\n      <OptionsContainer>\n        <div style={{ display: 'inline-block', width: '50%' }}>\n          <Checkbox\n            defaultChecked={this.props.removeStockOption}\n            type=\"checkbox\"\n            style={{ marginRight: '5px' }}\n            onChange={(value) =>\n              this.props.updateModalOption('removeStock', value)\n            }\n          />\n          <label><FormattedMessage {...messages.modalOptionRemove} /></label>\n        </div>\n        <div\n          style={{ display: 'inline-block', width: '50%', paddingLeft: '20px' }}\n        >\n          <Checkbox\n            type=\"checkbox\"\n            defaultChecked={this.props.archiveStockOption}\n            style={{ marginRight: '5px' }}\n            onChange={(value) =>\n              this.props.updateModalOption('archiveStock', value)\n            }\n          />\n          <label><FormattedMessage {...messages.modalOptionArchive} /></label>\n          {/* <label>Validate Stock File</label>*/}\n        </div>\n      </OptionsContainer>\n    );\n  }\n}\n\nModalOptions.propTypes = {};\n\nexport default ModalOptions;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport {\n  downloadFile,\n} from 'containers/App/actions';\nimport ModalContainer from '../atoms/ModalContainer';\nimport DropZone from './ModalDropZone';\nimport Options from './ModalOptions';\nimport { createStock, updateModalOption } from '../actions';\nimport {\n  makeSelectStockModalRemoveOption,\n  makeSelectStockModalArchiveOption,\n} from '../selectors';\n\nexport class StockModal extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    return (\n      <ModalContainer>\n        <DropZone\n          enable={() => this.props.disableNext(false)}\n          disable={() => this.props.disableNext()}\n          onApproved={(...args) => this.props.onApproved(...args)}\n          {...this.props}\n          downloadFile={(...args) => this.props.downloadFile(...args)}\n        />\n        <Options {...this.props} />\n      </ModalContainer>\n    );\n  }\n}\n\nStockModal.propTypes = {};\n\nconst mapStateToProps = createStructuredSelector({\n  removeStockOption: makeSelectStockModalRemoveOption(),\n  archiveStockOption: makeSelectStockModalArchiveOption(),\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    createStock: (...args) => dispatch(createStock(...args)),\n    updateModalOption: (...args) => dispatch(updateModalOption(...args)),\n    downloadFile: (content, fileName, mime) =>\n      dispatch(downloadFile({ content, fileName, mime })),\n\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(StockModal);\n","import { createSelector } from 'reselect';\n\n/**\n * Direct selector to the stockItems state domain\n */\nconst selectStockItemsDomain = () => (state) => state.stock;\nconst selectTmpData = () => (state) => state.tmp;\n\n/**\n * Other specific selectors\n */\n\n/**\n * Default selector used by StockItems\n */\n\nconst makeSelectStockItems = () =>\n  createSelector(selectStockItemsDomain(), (substate) => substate.items);\n\nconst makeSelectStockLimit = () =>\n  createSelector(selectStockItemsDomain(), (substate) => substate.limit);\n\nconst makeSelectStockOffset = () =>\n  createSelector(selectStockItemsDomain(), (substate) => substate.skip);\n\nconst makeSelectStockCount = () =>\n  createSelector(selectStockItemsDomain(), (substate) => substate.total);\n\nconst makeSelectStockLoading = () =>\n  createSelector(selectStockItemsDomain(), (substate) => substate.loading);\n\nconst makeSelectSearch = () =>\n  createSelector(selectTmpData(), (substate) => substate.search);\n\nconst makeSelectMatches = () =>\n  createSelector(selectTmpData(), (substate) => substate.matches);\n\nconst makeSelectStockReferenceMatches = () =>\n  createSelector(makeSelectMatches(), (substate) =>\n    substate.stock.reference\n  );\n\nconst makeSelectStockSearch = () =>\n  createSelector(makeSelectSearch(), (substate) => substate.stock);\n\nconst makeSelectStockTmpData = () =>\n  createSelector(selectTmpData(), (substate) => substate.stock);\n\nconst makeSelectStockModalOptions = () =>\n  createSelector(selectTmpData(), (substate) => substate.modal);\n\nconst makeSelectStockModalRemoveOption = () =>\n  createSelector(selectTmpData(), (substate) =>\n    substate.modal.removeStock\n  );\n\nconst makeSelectStockModalArchiveOption = () =>\n  createSelector(selectTmpData(), (substate) =>\n    substate.modal.archiveStock\n  );\n\nexport default selectStockItemsDomain;\nexport {\n  selectStockItemsDomain,\n  makeSelectStockItems,\n  makeSelectStockLimit,\n  makeSelectStockOffset,\n  makeSelectStockCount,\n  makeSelectStockLoading,\n  makeSelectStockSearch,\n  makeSelectStockTmpData,\n  makeSelectStockModalOptions,\n  makeSelectStockModalRemoveOption,\n  makeSelectStockModalArchiveOption,\n  makeSelectStockReferenceMatches,\n};\n","import styled from 'styled-components';\n\nexport const StockTableHeader = styled.div`\n  width: ${(props) => (props.content ? 'calc(100% - 5px)' : '100%')};\n  height: 44px;\n  display: flex;\n  flex: 0 1 auto;\n  flex-direction: row;\n  background-color: ${(props) =>\n    props.even ? props.theme.tables.bgColorEven : props.theme.tables.bgColor};\n  color: ${(props) => (props.even ? props.theme.tables.colorEven : props.theme.tables.color)};\n  ${(props) => (props.unValid ? '& input:required { &:placeholder-shown:not(:focus) + * { color: rgb(226, 192, 141); opacity:1}}' :'')}\n`;\n\nexport default StockTableHeader;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n// import Octicon from 'react-octicon';\n\nexport const MatchesListContainer = styled.div`\n  position: absolute;\n  margin-top: -155px;\n  background-color: rgba(100, 100, 100, 0.6);\n  color: white;\n  padding: 0;\n`;\n\nexport const MatchesList = styled.ul`\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  text-align: center;\n`;\n\nexport const MatchesListItem = styled.li`\n  width: 100%;\n  padding: 5px 10px;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  font-weight: ${({ selected }) => (selected ? '400' : '100')};\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n  font-size: 1.3em;\n  color: ${({ selected }) => (selected ? '#73c990' : 'inherit')};\n  background-color: ${({ selected }) =>\n    selected ? 'rgba(255, 255, 255, 0.1)' : 'transparent'};\n`;\n\nexport default MatchesListContainer;\n","import React from 'react';\nimport { isEmpty } from 'lodash';\nimport PubSub from 'utils/pubsub';\nimport StockField from './StockField';\nimport InteractiveStockField from './InteractiveStockField';\nimport StockButton from './StockButton';\nimport StockModal from './StockModal';\nimport StockTableHeaderContainer from '../atoms/StockTableHeaderContainer';\nimport messages from '../messages';\nimport { MatchesListContainer, MatchesList, MatchesListItem } from '../atoms/MatchesListContainer';\nimport { stock } from '@kalzate/cy';\n\nconst isNumeric = (number) => /^[1-9][0-9]*$/.test(number);\nconst isRealNumeric = function(input) {\n  return /^[1-9][0-9]*\\.?[0-9]{0,2}$/.test(input);\n};\n\nconst requiredFields = ['reference', 'price', 'amount'];\n\nexport class StockTableHeader extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      unValid: false,\n      reference: '',\n      brand: '',\n      desc: '',\n      price: '',\n      amount: '',\n      matchIndex: 0,\n      matchesVisible: false,\n    };\n    this.validateStockForm = this.validateStockForm.bind(this);\n    this.requiredFields = this.requiredFields.bind(this);\n  }\n  // @todo optimize by moving regex outside function to reuse\n  search() {\n    const $or = [\n      ['reference', this.state.reference, (v) => ({ $regex: new RegExp(v, 'gi') })],\n      ['brand', this.state.brand, (v) => ({ $eq: v })],\n      [\n        'price',\n        this.state.price,\n        (v) => ({\n          $gte: parseFloat(v),\n          $lt: parseFloat(v) + 1,\n          // $and: [{ $gte: parseFloat(v) }, { $lt: parseFloat(v) + 1 }],\n        }),\n      ],\n      ['amount', this.state.amount, (v) => ({ $eq: v })],\n      ['desc', this.state.desc, (v) => ({ $eq: v })],\n    ]\n      .filter((x) => !isEmpty(x[1]))\n      .map((x) => ({ [x[0]]: x[2](x[1]) }));\n\n    this.props.searchStock($or.length ? { $or } : {}, this.props.limit, this.props.skip);\n  }\n\n  openModal() {\n    PubSub.publish(PubSub.topics.MODAL_OPENED, StockModal);\n  }\n\n  getMatches(reference) {\n    if (!reference) return;\n    this.props.getMatches('reference', reference);\n  }\n\n  shouldDisplayMatches() {\n    return (\n      this.state.matchesVisible &&\n      this.state.reference &&\n      !!this.state.reference.length &&\n      this.props.matches &&\n      this.props.matches.length > 1 &&\n      this.props.matches.every(\n        (match) => match.startsWith(this.state.reference) && match !== this.state.reference\n      )\n    );\n  }\n  validateStockForm(fieldsValue) {\n    const unValid = !this.requiredFields(fieldsValue);\n    this.setState({ unValid });\n    return !unValid;\n  }\n  requiredFields(fieldsValue) {\n    return requiredFields.every((field) => fieldsValue[field]);\n  }\n\n  render() {\n    const fieldsValue = {\n      reference: this.state.reference,\n      brand: this.state.brand,\n      price: parseFloat(this.state.price),\n      amount: this.state.amount,\n      desc: this.state.desc,\n    };\n    return (\n      <section>\n        {this.shouldDisplayMatches() && (\n          <MatchesListContainer>\n            <MatchesList>\n              {this.props.matches.map((match, i) => (\n                <MatchesListItem\n                  onClick={() => this.setState({ reference: match, matchIndex: 0 })}\n                  selected={this.state.matchIndex === i}\n                >\n                  {match}\n                </MatchesListItem>\n              ))}\n            </MatchesList>\n          </MatchesListContainer>\n        )}\n        <StockTableHeaderContainer data-cy={stock.CONTAINER} content unValid={this.state.unValid}>\n          <InteractiveStockField\n            required={requiredFields.indexOf('reference') !== -1}\n            placeholder={this.props.intl.formatMessage(messages.reference)}\n            value={this.state.reference}\n            onChange={(reference) =>\n              this.setState({ reference, matchIndex: 0, matchesVisible: true }, () =>\n                this.getMatches(reference)\n              )\n            }\n            onMoveUp={() =>\n              this.setState({\n                matchIndex:\n                  (this.state.matchIndex > 0\n                    ? this.state.matchIndex - 1\n                    : this.props.matches.length - 1) % this.props.matches.length,\n              })\n            }\n            onMoveDown={() =>\n              this.setState({\n                matchIndex: (this.state.matchIndex + 1) % this.props.matches.length,\n              })\n            }\n            onEscape={() => this.setState({ matchesVisible: false })}\n            onEnter={() =>\n              this.setState({\n                reference: this.shouldDisplayMatches()\n                  ? this.props.matches[this.state.matchIndex]\n                  : this.state.reference,\n              })\n            }\n            data-cy={stock.FIELD_REFERENCE}\n          />\n          <StockField\n            placeholder={this.props.intl.formatMessage(messages.brand)}\n            value={this.state.brand}\n            onChange={(brand) => this.setState({ brand })}\n            data-cy={stock.FIELD_BRAND}\n          />\n          <StockField\n            placeholder={this.props.intl.formatMessage(messages.desc)}\n            value={this.state.desc}\n            onChange={(desc) => this.setState({ desc })}\n            size=\"30\"\n            data-cy={stock.FIELD_DESCRIPTION}\n          />\n          <StockField\n            required={requiredFields.indexOf('price') !== -1}\n            placeholder={this.props.intl.formatMessage(messages.price)}\n            value={this.state.price}\n            onChange={(price) =>\n              this.setState({\n                price: isRealNumeric(price) ? price : price ? this.state.price : '',\n              })\n            }\n            data-cy={stock.FIELD_PRICE}\n          />\n          <StockField\n            required={requiredFields.indexOf('amount') !== -1}\n            placeholder={this.props.intl.formatMessage(messages.amount)}\n            value={this.state.amount}\n            onChange={(amount) =>\n              this.setState({\n                amount: isNumeric(amount) ? parseInt(amount, 10) : amount ? this.state.amount : '',\n              })\n            }\n            data-cy={stock.FIELD_AMOUNT}\n          />\n          <StockButton primary icon=\"search\" onClick={() => this.search()} />\n          <StockButton\n            primary\n            icon=\"plus\"\n            data-cy={stock.ADD_ITEM}\n            onClick={() =>\n              this.validateStockForm(fieldsValue) && this.props.createStock(fieldsValue)\n            }\n          />\n          <StockButton primary icon=\"cloud-upload\" onClick={() => this.openModal()} />\n        </StockTableHeaderContainer>\n      </section>\n    );\n  }\n}\n\nexport default StockTableHeader;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n// import Octicon from 'react-octicon';\n\nexport const StockTableContainer = styled.div`\nwidth: 100%;\nheight: 100%;\noverflow: auto;\n`;\n\nexport default StockTableContainer;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport StockTableContainer from '../atoms/StockTableContainer';\nimport StockTableHeaderContainer from '../atoms/StockTableHeaderContainer';\nimport StockButton from './StockButton';\nimport StockField from './StockField';\nimport messages from '../messages';\nimport { stock as stockSelectors } from '@kalzate/cy';\nimport { isTicketReadOnly } from 'selectors/tickets';\n\nconst isRealNumeric = function (input) {\n  return /^[1-9][0-9]*\\.?[0-9]{0,2}$/.test(input);\n};\n\nexport function StockTableRows(props) {\n  // console.log(props.items);\n  return (\n    <StockTableContainer>\n      {props.items.map(({ _data }, i) => (\n        <StockTableHeaderContainer key={i} even={(i + 1) % 2} data-cy={props['data-cy']}>\n          <StockField\n            placeholder={_data.reference || props.intl.formatMessage(messages.reference)}\n            data-cy={stockSelectors.FIELD_REFERENCE}\n            readonly\n          />\n          <StockField\n            placeholder={_data.brand || props.intl.formatMessage(messages.brand)}\n            value={\n              props.tmp[_data.reference] && props.tmp[_data.reference].brand\n                ? props.tmp[_data.reference].brand\n                : ''\n            }\n            onChange={(brand) =>\n              props.updateTmpData(_data.reference, {\n                brand,\n              })\n            }\n          />\n          <StockField\n            placeholder={_data.desc || props.intl.formatMessage(messages.desc)}\n            value={\n              props.tmp[_data.reference] && props.tmp[_data.reference].desc\n                ? props.tmp[_data.reference].desc\n                : ''\n            }\n            onChange={(desc) =>\n              props.updateTmpData(_data.reference, {\n                desc,\n              })\n            }\n            size=\"30\"\n          />\n          <StockField\n            placeholder={_data.price.toFixed(2)}\n            value={\n              props.tmp[_data.reference] && props.tmp[_data.reference].price\n                ? props.tmp[_data.reference].price\n                : ''\n            }\n            onChange={(price) =>\n              props.updateTmpData(_data.reference, {\n                price: isRealNumeric(price)\n                  ? price\n                  : price && props.tmp[_data.reference]\n                    ? props.tmp[_data.reference].price\n                    : '',\n              })\n            }\n          />\n          <StockField\n            placeholder={_data.amount || props.intl.formatMessage(messages.amount)}\n            value={\n              props.tmp[_data.reference] && props.tmp[_data.reference].amount\n                ? props.tmp[_data.reference].amount\n                : ''\n            }\n            onChange={(amount) =>\n              props.updateTmpData(_data.reference, {\n                amount: parseInt(amount, 10),\n              })\n            }\n          />\n          <StockButton\n            primary\n            icon=\"check\"\n            onClick={() => {\n              props.onUpdate({ ..._data, ...props.tmp[_data.reference] });\n            }}\n          />\n          <StockButton\n            primary\n            icon=\"remove-close\"\n            data-cy={stockSelectors.REMOVE_ITEM}\n            onClick={() => props.onRemove(_data)}\n          />\n          <StockButton\n            primary\n            icon=\"link-external\"\n            disabled={props.isTicketReadOnly}\n            data-cy={stockSelectors.ADD_ITEM_TO_TICKET}\n            onClick={() => props.createAddOperation(_data)}\n          />\n        </StockTableHeaderContainer>\n      ))}\n    </StockTableContainer>\n  );\n}\n\nStockTableRows.propTypes = {\n  tmp: PropTypes.object,\n  items: PropTypes.any, // @todo move to array type\n};\n\nexport default StockTableRows;\n","import styled from 'styled-components';\n\nexport const StockTableBody = styled.div`\n  /*width: ${(props) => (props.content ? 'calc(100% - 5px)' : '100%')};*/\n  width: 100%;\n  height: calc(50vh - 115px);\n  display: flex;\n  flex: 0 1 auto;\n  flex-direction: row;\n`;\n\nexport default StockTableBody;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n// import Octicon from 'react-octicon';\n\nexport const Title = styled.p`\nfont-size: 1.1em;\nmargin-bottom: 0;\n`;\n\nexport default Title;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n// import Octicon from 'react-octicon';\n\nexport const Subtitle = styled.p`\nfont-size: .9em;\nfont-weight: 200;\nmargin-top: 5px;\n`;\n\nexport default Subtitle;\n","import React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport Center from 'components/Center';\nimport NotFound from 'components/NotFound';\nimport StockTableRows from './StockTableRows';\nimport StockTableBodyContainer from '../atoms/StockTableBodyContainer';\nimport Title from '../atoms/Title';\nimport Subtitle from '../atoms/Subtitle';\nimport messages from '../messages';\nimport { stock } from '@kalzate/cy';\n\nexport function StockTableBody(props) {\n  return (\n    <StockTableBodyContainer data-cy={stock.ITEMS_LIST} content>\n      {!props.total && (\n        <Center>\n          <NotFound icon=\"thumbsdown\">\n            <Title>\n              <FormattedMessage {...messages.notFound} />\n            </Title>\n            <Subtitle>\n              <FormattedMessage {...messages.notFoundHelp} />\n            </Subtitle>\n          </NotFound>\n        </Center>\n      )}\n      {!!props.total && (\n        <StockTableRows\n          intl={props.intl}\n          items={props.items}\n          onRemove={({ reference }) =>\n            props.removeStock(reference, props.limit, props.skip, props.search)\n          }\n          onUpdate={(stock) => props.updateStock(stock)}\n          tmp={props.tmp}\n          updateTmpData={props.updateTmpData}\n          createAddOperation={props.createAddOperation}\n          isTicketReadOnly={props.isTicketReadOnly}\n          data-cy={stock.ITEM}\n        />\n      )}\n    </StockTableBodyContainer>\n  );\n}\n\nexport default StockTableBody;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n// import Octicon from 'react-octicon';\n\nexport const StockPaginationContainer = styled.div`\nheight: 44px;\nbackground-color: ${(props) =>\n    props.count % 2 === 0 ? 'rgba(163,168,174,0.2)' : 'rgba(163, 168, 174, 0.1)'};\nwidth: ${(props) => (props.count ? 'calc(100% - 5px)' : '100%')};\ndisplay: table;\n`;\n\nexport default StockPaginationContainer;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n// import Octicon from 'react-octicon';\n\nexport const StockPaginationSection = styled.div`\nheight: 100%;\ntext-align: ${(props) =>\n    props.right ? 'right' : 'left'};\ndisplay: table-cell;\nvertical-align: middle;\n`;\n\nexport default StockPaginationSection;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n// import Octicon from 'react-octicon';\n\nexport const DownloadIcon = styled.span`\n  cursor: pointer;\n  z-index: 99;\n  color: rgba(255, 255, 255, 0.35);\n  &:before {\n    content: '\\\\F00B';\n    font-family: 'octicons';\n    font-weight: normal;\n    font-style: normal;\n    font-size: 16px;\n    display: inline-block;\n    -webkit-font-smoothing: antialiased;\n  }\n  margin: 0 10px;\n  transition: all 0.5s ease-in-out;\n  &:hover {\n    color: rgba(255, 255, 255, 0.55);\n  }\n`;\n\nexport const SyncIcon = styled.span`\n  cursor: pointer;\n  z-index: 99;\n  color: rgba(255, 255, 255, 0.35);\n  &:before {\n    content: '\\\\F087';\n    font-family: 'octicons';\n    font-weight: normal;\n    font-style: normal;\n    font-size: 16px;\n    display: inline-block;\n    -webkit-font-smoothing: antialiased;\n  }\n  margin: 0 5px;\n  transition: all 0.5s ease-in-out;\n  &:hover {\n    color: rgba(255, 255, 255, 0.55);\n  }\n`;\n\nexport const PageIteratorIcon = styled.span`\n  cursor: ${(props) => (props.enabled ? 'pointer' : 'default')};\n  z-index: 99;\n  color: ${(props) =>\n    props.enabled ? 'rgba(255, 255, 255, 0.5)' : 'rgba(255, 255, 255, 0.25)'};\n  &:before {\n    content: ${(props) => (props.next ? '\"\\\\F078\"' : '\"\\\\F0A4\"')};\n    font-family: 'octicons';\n    font-weight: normal;\n    font-style: normal;\n    font-size: 16px;\n    display: inline-block;\n    -webkit-font-smoothing: antialiased;\n  }\n  margin: 0 5px;\n  transition: all 0.5s ease-in-out;\n  &:hover {\n    color: ${(props) =>\n      props.enabled ? 'rgba(255, 255, 255, 0.8)' : 'rgba(255, 255, 255, 0.25)'};\n  }\n`;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n// import Octicon from 'react-octicon';\n\nexport const PageIteratorContainer = styled.span`\nmargin: 0 10px;\n`;\n\nexport default PageIteratorContainer;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport messages from '../messages';\nimport StockPaginationContainer from '../atoms/StockPaginationContainer';\nimport StockPaginationSection from '../atoms/StockPaginationSection';\nimport { DownloadIcon, SyncIcon, PageIteratorIcon } from '../atoms/StockIcons';\nimport PageIteratorContainer from '../atoms/PageIteratorContainer';\n\nexport function StockPagination({\n  total,\n  limit,\n  skip,\n  search,\n  refreshStock,\n  exportStock,\n}) {\n  const page = Math.floor(skip / limit);\n  const lastPage = Math.ceil(total / limit) - 1;\n  const enabledPrev = page > 0;\n  const enabledNext = page < lastPage;\n  return (\n    <StockPaginationContainer>\n      <StockPaginationSection>\n        {/* <Octicon name={'sync'} onClick={() => refreshStock(limit, 0)} />*/}\n        <DownloadIcon onClick={() => exportStock(false)} />\n        <SyncIcon onClick={() => refreshStock(limit, 0)} />\n      </StockPaginationSection>\n      <StockPaginationSection right>\n        <span>\n          {skip + 1} ... {skip + limit} <FormattedMessage {...messages.paginationOf} /> {total}\n        </span>\n        <PageIteratorContainer>\n          <PageIteratorIcon\n            onClick={() =>\n              enabledPrev ? refreshStock(limit, skip - limit, search) : null\n            }\n            enabled={enabledPrev}\n          />\n          <PageIteratorIcon\n            onClick={() =>\n              enabledNext ? refreshStock(limit, skip + limit, search) : null\n            }\n            enabled={enabledNext}\n            next\n          />\n        </PageIteratorContainer>\n      </StockPaginationSection>\n    </StockPaginationContainer>\n  );\n}\n\nexport default StockPagination;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React from 'react';\nimport styled, { keyframes } from 'styled-components';\n\nconst rotateplane = keyframes`\n  0% { \n    -webkit-transform: scale(0);\n    transform: scale(0);\n  } 100% {\n    -webkit-transform: scale(1.0);\n    transform: scale(1.0);\n    opacity: 0;\n  }\n`;\n\nexport const Spinner = styled.div`\n  width: 40px;\n  height: 40px;\n  margin: 100px auto;\n  background-color: rgba(187, 183, 183, 0.5);\n  border-radius: 100%;  \n  animation: ${rotateplane} 1.0s infinite ease-in-out;\n`;\n\nexport const SpinnerContainer = () => (\n  <Spinner />\n);\n","/*\n *\n * StockItems\n *\n */\n\nimport React, { PropTypes } from 'react';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { injectIntl } from 'react-intl';\nimport { createAddOperation } from 'actions/tickets';\nimport { isTicketReadOnly } from 'selectors/tickets';\nimport {\n  makeSelectStockItems,\n  makeSelectStockLimit,\n  makeSelectStockOffset,\n  makeSelectStockCount,\n  makeSelectStockLoading,\n  makeSelectStockSearch,\n  makeSelectStockTmpData,\n  makeSelectStockReferenceMatches,\n} from './selectors';\nimport {\n  createStock,\n  updateStock,\n  refreshStock,\n  removeStock,\n  exportStock,\n  searchStock,\n  getMatches,\n  updateTmpData,\n} from './actions';\nimport Container from './atoms/Container';\nimport StockTableHeader from './molecules/StockTableHeader';\nimport StockTableBody from './molecules/StockTableBody';\nimport StockPagination from './molecules/StockPagination';\nimport { SpinnerContainer } from './atoms/SpinnerContainer';\n\nexport function StockItemsPage({ loading, ...props }) {\n  // @odo: use Fragment to group !loading options\n  return (\n    <Container>\n      {loading && <SpinnerContainer />}\n      {!loading && <StockTableHeader {...props} />}\n      {!loading && <StockTableBody {...props} />}\n      {!loading && <StockPagination {...props} />}\n    </Container>\n  );\n}\n\nStockItemsPage.propTypes = {\n  total: PropTypes.number,\n  items: PropTypes.any, // @todo move to array\n  skip: PropTypes.number,\n  limit: PropTypes.number,\n  match: PropTypes.object,\n  matches: PropTypes.array,\n  tmp: PropTypes.object,\n  createStock: PropTypes.func,\n  updateStock: PropTypes.func,\n  refreshStock: PropTypes.func,\n  removeStock: PropTypes.func,\n  exportStock: PropTypes.func,\n  updateTmpData: PropTypes.func,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  isTicketReadOnly,\n  items: makeSelectStockItems(),\n  limit: makeSelectStockLimit(),\n  skip: makeSelectStockOffset(),\n  total: makeSelectStockCount(),\n  loading: makeSelectStockLoading(),\n  search: makeSelectStockSearch(),\n  matches: makeSelectStockReferenceMatches(),\n  tmp: makeSelectStockTmpData(),\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    createStock: (stock) => dispatch(createStock(stock)),\n    updateStock: (stock) => dispatch(updateStock(stock)),\n    refreshStock: (limit, skip) => dispatch(refreshStock(limit, skip)),\n    removeStock: (reference) => dispatch(removeStock(reference)),\n    exportStock: (decrypt) => dispatch(exportStock(decrypt)),\n    searchStock: (search, limit, skip) => dispatch(searchStock(search, limit, skip)),\n    getMatches: (field, value) => dispatch(getMatches(field, value)),\n    updateTmpData: (reference, data) => dispatch(updateTmpData(reference, data)),\n    createAddOperation: (stockItem) => dispatch(createAddOperation(stockItem)),\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(injectIntl(StockItemsPage));\n","/*\n *\n * WorkSpacePage\n *\n */\n\nimport React, { PropTypes } from 'react';\nimport { connect } from 'react-redux';\nimport Helmet from 'react-helmet';\n// import { FormattedMessage } from 'react-intl';\nimport { createStructuredSelector } from 'reselect';\n\nimport { isTicketReadOnly, isNewTicket } from 'selectors/tickets';\n\nimport TicketBasePage from 'containers/TicketSellingPage';\nimport TicketReturningPage from 'containers/TicketReturningPage';\nimport TicketReadOnlyPage from 'containers/TicketReadOnlyPage';\nimport TicketTotal from 'containers/TicketTotalContainer';\nimport TicketPayments from 'containers/TicketPaymentsContainer';\nimport StockItems from 'containers/StockItems';\nimport StockItemsBasic from 'containers/StockItemsBasic';\nimport { Grid, Row2, Column } from 'components/Grid';\nimport {\n  makeSelectTicketTotalVisibility,\n  makeSelectTicketReadOnly,\n  makeSelectTicketPaymentsVisibility,\n  makeSelectTicketState,\n} from 'containers/TicketsPage/selectors';\nimport { DEFAULT_SCHEMA_TYPE } from 'config';\n\nexport class TicketsPage extends React.Component {\n\n  getItemsComponent() {\n\n    if (this.props.isNewTicket) {\n      return <TicketBasePage />;\n    }\n\n    if (this.props.isTicketReadOnly) {\n      return <TicketReadOnlyPage />;\n    }\n\n    return <TicketReturningPage />;\n  }\n  getStockItemsComponent() {\n    if (DEFAULT_SCHEMA_TYPE === 'SCHEMA_SHOES') return <StockItems />;\n    if (DEFAULT_SCHEMA_TYPE === 'SCHEMA_BASIC') return <StockItemsBasic />;\n\n    return <StockItems />;\n  }\n\n  render() {\n    return (\n      <Grid>\n        <Helmet title=\"Kalzate Ticket\" meta={[{ name: 'description', content: 'Ticket' }]} />\n        <Row2>\n          <Column>{this.getItemsComponent()}</Column>\n          <Column w={this.props.ticketTotalVisibility ? '300px' : '25px'}>\n            <TicketTotal />\n          </Column>\n        </Row2>\n        <Row2>\n          <Column>{this.getStockItemsComponent()}</Column>\n          <Column w={this.props.ticketPaymentsVisibility ? '300px' : '25px'}>\n            <TicketPayments />\n          </Column>\n        </Row2>\n      </Grid>\n    );\n  }\n}\n\nTicketsPage.propTypes = {\n  ticketTotalVisibility: PropTypes.bool,\n  isTicketReadOnly: PropTypes.bool,\n  ticketPaymentsVisibility: PropTypes.bool,\n  isNewTicket: PropTypes.bool,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  ticketTotalVisibility: makeSelectTicketTotalVisibility(),\n  isTicketReadOnly,\n  ticketPaymentsVisibility: makeSelectTicketPaymentsVisibility(),\n  isNewTicket,\n});\n\nexport default connect(mapStateToProps)(TicketsPage);\n","import { createSelector } from 'reselect';\n\n/**\n * Direct selector to the ticketTotal state domain\n */\nconst selectTicket = () => (state) => state.ticket;\nconst selectTicketVisibility = () => (state) => state.tmp.visibility.tickets;\n\n/**\n * Other specific selectors\n */\n\n/**\n * Default selector used by TicketTotal\n */\n\nconst makeSelectTicketTotalVisibility = () =>\n  createSelector(\n    selectTicketVisibility(),\n    (substate) => substate.total\n  );\nconst makeSelectTicketReadOnly = () =>\n  createSelector(\n    selectTicket(),\n    (substate) =>\n      (substate.next &&\n        substate.created_at &&\n        Number(substate.next) !== Number(substate.created_at)) ||\n      substate.items.every(({ amount, amount_return_prev }) => amount === amount_return_prev)\n  );\n\nconst makeSelectTicketPaymentsVisibility = () =>\n  createSelector(\n    selectTicketVisibility(),\n    (substate) => substate.payments\n  );\nconst makeSelectTicketState = () =>\n  createSelector(\n    selectTicket(),\n    (substate) => substate.state\n  );\n\nexport {\n  selectTicket,\n  makeSelectTicketTotalVisibility,\n  makeSelectTicketPaymentsVisibility,\n  makeSelectTicketState,\n  makeSelectTicketReadOnly,\n};\n"],"sourceRoot":""}