(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{877:function(e,t,n){"use strict";var r=n(9),a=n(0),o=n.n(a),c=n(8);function i(){var e=Object(r.a)(["\n  display: table-cell;\n  vertical-align: middle;\n"]);return i=function(){return e},e}function u(){var e=Object(r.a)(["\n  width: 100%;\n  height: 100%;\n  text-align: center;\n  display: table;\n"]);return u=function(){return e},e}var l=c.c.div(u()),s=c.c.div(i());t.a=function(e){return o.a.createElement(l,null,o.a.createElement(s,null,e.children))}},878:function(e,t,n){"use strict";var r=n(9),a=n(0),o=n.n(a),c=n(44),i=n.n(c),u=n(8);function l(){var e=Object(r.a)(["\n  font-size: 3em;\n  display: block;\n  margin-bottom: 20px;\n  color: rgba(187, 183, 183, 0.5);\n"]);return l=function(){return e},e}function s(){var e=Object(r.a)(["\n  font-size: 1.6em;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  font-weight: 400;\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n  color: rgba(187, 183, 183, 0.8);\n"]);return s=function(){return e},e}var p=u.c.div(s()),f=Object(u.c)(i.a)(l());t.a=function(e){return o.a.createElement(p,null,e.icon&&o.a.createElement(f,{name:e.icon}),e.children)}},879:function(e,t,n){"use strict";n.d(t,"b",function(){return p}),n.d(t,"c",function(){return f}),n.d(t,"a",function(){return d});var r=n(9),a=n(8);function o(){var e=Object(r.a)(["\n  width: 25%;\n  max-width: 25%;\n  min-width: 25%;\n"]);return o=function(){return e},e}function c(){var e=Object(r.a)(["\n  width: 33.33%;\n  max-width: 33.33%;\n  min-width: 33.33%;\n"]);return c=function(){return e},e}function i(){var e=Object(r.a)(["\n  width: 50%;\n  max-width: 50%;\n  min-width: 50%;\n"]);return i=function(){return e},e}function u(){var e=Object(r.a)(["\n  width: 100%;\n  ",";\n"]);return u=function(){return e},e}function l(){var e=Object(r.a)(["\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: row;\n  min-width: 100%;\n  ",";\n  ",";\n  ",";\n"]);return l=function(){return e},e}function s(){var e=Object(r.a)(["\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: column;\n"]);return s=function(){return e},e}var p=a.c.section(s()),f=a.c.section(l(),function(e){return e.flat?"height: auto":"height: calc(50vh - 16px)"},function(e){return e.flat?"max-height: auto":"max-height: calc(50vh - 16px)"},function(e){return e.flat?"min-height: auto":"min-height: calc(50vh - 16px)"}),d=a.c.section(u(),function(e){return e.w?(t=e.w,"width: ".concat(t,"; min-width: ").concat(t,"; max-width: ").concat(t,";")):"";var t});a.c.section(i()),a.c.section(c()),a.c.section(o())},892:function(e,t,n){"use strict";n.r(t);var r=n(19),a=n(26),o=n(27),c=n(32),i=n(17),u=n(0),l=n.n(u),s=n(59),p=n(284),f=n.n(p),d=n(12),h=n(90),m=n(15),v=function(e){return e.tmp},b=Object(d.createSelector)(v,function(e){return e.errors}),g=Object(d.createSelector)(b,function(e){return e.voucher}),y=Object(d.createSelector)(v,function(e){return e.matches.tickets}),k=n(29);var O=n(54),E=n(9),j=n(8);function x(){var e=Object(E.a)(["\n  height: 100%;\n  border-bottom: 1px solid rgba(163, 168, 174, 0.1);\n  padding: ",";\n"]);return x=function(){return e},e}var w=j.c.div(x(),function(e){return e.theme&&e.theme.app.padding?e.theme.app.padding:"0px"}),T=n(2),S=n(31),R=n(204),C=n(7);function I(){var e=Object(E.a)(["\n  width: 100%;\n  height: 44px;\n  display: flex;\n  flex: 0 1 auto;\n  flex-direction: row;\n"]);return I=function(){return e},e}var M=j.c.div(I());function A(){var e=Object(E.a)(["\n  width: 50%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  display: table;\n  ",";\n"]);return A=function(){return e},e}var D=j.c.div(A(),function(e){return e.includeStyles?e.includeStyles:""});D.propTypes={includeStyles:u.PropTypes.string};var z=D;function P(){var e=Object(E.a)(["\n  display: table-cell;\n  vertical-align: middle;\n"]);return P=function(){return e},e}var F=j.c.div(P());function _(){var e=Object(E.a)(["\n  display: table-cell;\n  text-align: right;\n  vertical-align: middle;\n"]);return _=function(){return e},e}var U=j.c.div(_()),V=n(44),N=n.n(V);function B(){var e=Object(E.a)(["\ncolor: ",";\nmargin-left: 10px;\n"]);return B=function(){return e},e}var L=j.c.div(B(),function(e){return e.theme&&e.theme.tickets.searchColor?e.theme.tickets.searchColor:"rgba(163, 168, 174, 0.5)"});function K(){var e=Object(E.a)(["\n  width: 100%;\n  padding: 5px 10px;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  font-weight: ",";\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n  font-size: 1.3em;\n  color: ",";\n  background-color: ",";\n"]);return K=function(){return e},e}function G(){var e=Object(E.a)(["\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  text-align: center;\n"]);return G=function(){return e},e}function H(){var e=Object(E.a)(["\n  position: absolute;\n  margin-top: 25px;\n  background-color: ",";\n  color: ",";\n  padding: 0;\n"]);return H=function(){return e},e}var W=j.c.div(H(),function(e){return e.theme&&e.theme.tickets.searchMastchesListBgColor?e.theme.tickets.searchMastchesListBgColor:"rgba(100, 100, 100, 1)"},function(e){return e.theme&&e.theme.tickets.searchMastchesListColor?e.theme.tickets.searchMastchesListColor:"white"}),$=j.c.ul(G()),q=j.c.li(K(),function(e){return e.selected?"400":"100"},function(e){return e.selected?"#73c990":"inherit"},function(e){return e.selected?"rgba(255, 255, 255, 0.1)":"translate"});function J(){var e=Object(E.a)(["\n  outline: none;\n  font-size: 1.2em;\n  margin-left: 5px;\n  width: 100%;\n  max-width: 150px;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  font-weight: 100;\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n\n  &::-webkit-input-placeholder {\n    /* WebKit, Blink, Edge */\n    color: ",";\n  }\n  &:-moz-placeholder {\n    /* Mozilla Firefox 4 to 18 */\n    color: ",";\n    opacity: 1;\n  }\n  &::-moz-placeholder {\n    /* Mozilla Firefox 19+ */\n    color: ",";\n    opacity: 1;\n  }\n  &:-ms-input-placeholder {\n    /* Internet Explorer 10-11 */\n    color: ",";\n  }\n  &::-ms-input-placeholder {\n    /* Microsoft Edge */\n    color: ",";\n  }\n"]);return J=function(){return e},e}var Y=j.c.input(J(),function(e){return e.theme&&e.theme.tickets.placeholderColor?e.theme.tickets.placeholderColor:"rgba(163, 168, 174, 0.3)"},function(e){return e.theme&&e.theme.tickets.placeholderColor?e.theme.tickets.placeholderColor:"rgba(163, 168, 174, 0.3)"},function(e){return e.theme&&e.theme.tickets.placeholderColor?e.theme.tickets.placeholderColor:"rgba(163, 168, 174, 0.3)"},function(e){return e.theme&&e.theme.tickets.placeholderColor?e.theme.tickets.placeholderColor:"rgba(163, 168, 174, 0.3)"},function(e){return e.theme&&e.theme.tickets.placeholderColor?e.theme.tickets.placeholderColor:"rgba(163, 168, 174, 0.3)"});function X(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var Q=function(e){Object(o.a)(n,e);var t=X(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={value:e.value||""},a}return Object(a.a)(n,[{key:"componentWillReceiveProps",value:function(e){this.setState({value:e.value})}},{key:"stopPropagation",value:function(e){return e.preventDefault(),e.stopPropagation(),!1}},{key:"render",value:function(){var e=this;return!this.props.readonly&&l.a.createElement(Y,{type:"text",placeholder:this.props.placeholder,onChange:function(t){var n=t.target;return e.setState({value:n.value},function(){return e.props.onChange(n.value)})},onKeyDown:function(t){var n=t.target;switch(t.key){case"Enter":return e.props.onEnter&&e.props.onEnter(n.value),e.stopPropagation(t);case"ArrowUp":return e.props.onMoveUp&&e.props.onMoveUp(n.value),e.stopPropagation(t);case"ArrowDown":return e.props.onMoveDown&&e.props.onMoveDown(n.value),e.stopPropagation(t);case"Escape":return e.props.onEscape&&e.props.onEscape(n.value),e.stopPropagation(t)}return!0},value:this.state.value})}}]),n}(l.a.Component),Z=Object(m.d)({notFound:{id:"kz.containers.TicketItems.notFound",defaultMessage:"Ticket empty"},notFoundHelp:{id:"kz.containers.TicketItems.notFoundHelp",defaultMessage:"Add some items to this ticket"},discount:{id:"kz.containers.TicketItems.discount",defaultMessage:"Discount"},vat:{id:"kz.containers.TicketItems.vat",defaultMessage:"VAT"},saveTicket:{id:"kz.containers.TicketItems.save",defaultMessage:"Save Ticket"},newTicket:{id:"kz.containers.TicketItems.new",defaultMessage:"New Ticket"},giftTicket:{id:"kz.containers.TicketItems.gift",defaultMessage:"Is a Gift"},checkoutTicket:{id:"kz.containers.TicketItems.checkout",defaultMessage:"Checkout"},search:{id:"kz.containers.TicketItems.search",defaultMessage:"Ticket ID"},reference:{id:"kz.containers.TicketItems.table.reference",defaultMessage:"Reference"},description:{id:"kz.containers.TicketItems.table.description",defaultMessage:"Description"},subtotal:{id:"kz.containers.TicketItems.table.subtotal",defaultMessage:"Subtotal"},price:{id:"kz.containers.TicketItems.table.price",defaultMessage:"Price"},amount:{id:"kz.containers.TicketItems.table.amount",defaultMessage:"Amount"}});function ee(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var te=function(e){Object(o.a)(n,e);var t=ee(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={value:e.ticket.created_at,matchIndex:0,matchesVisible:!0},a}return Object(a.a)(n,[{key:"componentWillReceiveProps",value:function(e){this.props.ticket.created_at!=e.ticket.created_at&&this.setState({value:e.ticket.created_at})}},{key:"getMatches",value:function(e){e&&this.props.getMatches("created_at",e)}},{key:"shouldDisplayMatches",value:function(){var e=this;return this.state.matchesVisible&&!!this.state.value&&!!this.state.value.length&&this.props.matches&&this.props.matches.length>1&&this.props.matches.every(function(t){return String(t).startsWith(e.state.value)&&String(t)!==e.state.value})}},{key:"render",value:function(){var e=this;return l.a.createElement(L,null,this.shouldDisplayMatches()&&l.a.createElement(W,null,l.a.createElement($,null,this.props.matches.map(function(t,n){return l.a.createElement(q,{key:n,onClick:function(){return e.setState({value:t,matchIndex:0})},selected:e.state.matchIndex===n},t)}))),l.a.createElement(N.a,{name:"search"}),l.a.createElement(Q,{placeholder:this.props.intl.formatMessage(Z.search),readonly:!1,value:this.state.value,onChange:function(t){return e.setState({value:t,matchIndex:0,matchesVisible:!0},function(){return e.getMatches(t)})},onMoveUp:function(){return e.setState({matchIndex:(e.state.matchIndex>0?e.state.matchIndex-1:e.props.matches.length-1)%e.props.matches.length})},onMoveDown:function(){return e.setState({matchIndex:(e.state.matchIndex+1)%e.props.matches.length})},onEscape:function(){return e.setState({matchesVisible:!1})},onEnter:function(){e.setState({value:e.shouldDisplayMatches()?e.props.matches[e.state.matchIndex]:e.state.value}),e.props.matches[e.state.matchIndex]&&e.props.loadTicket(e.props.matches[e.state.matchIndex],"createdAt")}}))}}]),n}(l.a.Component),ne=n(283);function re(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var ae=function(e){Object(o.a)(n,e);var t=re(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this;return l.a.createElement(M,null,l.a.createElement(z,null,l.a.createElement(F,null,l.a.createElement(te,{intl:this.props.intl,ticket:this.props.ticket,matches:this.props.ticketMatches,getMatches:function(){var t;return(t=e.props).getTicketMatches.apply(t,arguments)},loadTicket:function(){var t;return(t=e.props).loadTicket.apply(t,arguments)}}))),l.a.createElement(z,null,l.a.createElement(U,null,l.a.createElement(R.a,{inactive:this.props.isTicketCheckoutDisabled,disabled:this.props.isTicketCheckoutDisabled,primary:!0,icon:"gift",title:l.a.createElement(m.a,Z.giftTicket),onClick:function(){return e.props.createTicket(Object(T.a)({},e.props.ticket,{isGift:!0}),e.props.settings)}}),l.a.createElement(R.a,{"data-cy":ne.b.CHECKOUT_BUTTON,inactive:this.props.isTicketCheckoutDisabled,disabled:this.props.isTicketCheckoutDisabled,primary:!0,icon:"check",title:l.a.createElement(m.a,Z.checkoutTicket),onClick:function(){return e.props.createTicket(Object(T.a)({},e.props.ticket),e.props.settings)}}))))}}]),n}(l.a.Component),oe=n(877),ce=n(878);function ie(){var e=Object(E.a)(["\nwidth: 100%;\nheight: calc(100% - 88px);\ndisplay: flex;\nflex: 0 1 auto;\nflex-direction: row;\n"]);return ie=function(){return e},e}var ue=j.c.div(ie());function le(){var e=Object(E.a)(["\n  font-size: 1.1em;\n  margin-bottom: 0;\n"]);return le=function(){return e},e}var se=j.c.p(le());function pe(){var e=Object(E.a)(["\n  font-size: 0.9em;\n  font-weight: 200;\n  margin-top: 5px;\n"]);return pe=function(){return e},e}var fe=j.c.p(pe());function de(){var e=Object(E.a)(["\nwidth: 100%;\nmargin: 2px 0;\n"]);return de=function(){return e},e}var he=j.c.div(de());function me(){var e=Object(E.a)(["\n// width: ",";\nwidth: '100%';\nheight: 44px;\ndisplay: flex;\nflex: 0 1 auto;\nflex-direction: row;\nbackground-color: ",";\ncolor: ",";\n"]);return me=function(){return e},e}var ve=j.c.div(me(),function(e){return e.content?"calc(100% - 5px)":"100%"},function(e){return e.even?e.theme.tables.bgColorEven:e.theme.tables.bgColor},function(e){return e.even?e.theme.tables.colorEven:e.theme.tables.color});function be(){var e=Object(E.a)(["\nwidth: ","%;\nheight: 100%;\nmargin: 0;\npadding: 0;\nborder-right: 1px solid rgba(163, 168, 174, 0.1);\n"]);return be=function(){return e},e}var ge=j.c.div(be(),function(e){return e.bigger?"30":"16"});function ye(){var e=Object(E.a)(["\n  display: block;\n  position: relative;\n  width: 100%;\n  height: 100%;\n"]);return ye=function(){return e},e}var ke=j.c.div(ye());function Oe(){var e=Object(E.a)(["\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  margin-left: 10px;\n  padding-top: 10px;\n  padding-right: 10px;\n  &::-webkit-input-placeholder {\n    opacity: 1;\n    -webkit-transition: all 0.2s;\n    transition: all 0.2s;\n  }\n  &::-moz-placeholder {\n    opacity: 1;\n    -webkit-transition: all 0.2s;\n    transition: all 0.2s;\n  }\n  &:-ms-input-placeholder {\n    opacity: 1;\n    -webkit-transition: all 0.2s;\n    transition: all 0.2s;\n  }\n  &::placeholder {\n    opacity: 1;\n    -webkit-transition: all 0.2s;\n    transition: all 0.2s;\n  }\n  &:placeholder-shown:not(:focus)::-webkit-input-placeholder {\n    opacity: 0;\n  }\n  &:placeholder-shown:not(:focus)::-moz-placeholder {\n    opacity: 0;\n  }\n  &:placeholder-shown:not(:focus):-ms-input-placeholder {\n    opacity: 0;\n  }\n  &:placeholder-shown:not(:focus)::placeholder {\n    opacity: 0;\n  }\n  &:placeholder-shown:not(:focus) + * {\n    font-size: 1.7em;\n    opacity: 0.5;\n    top: 0.35em;\n  }\n  &:focus {\n    outline: none;\n    border-color: rgba(0, 0, 0, 0.5);\n  }\n"]);return Oe=function(){return e},e}var Ee=Y.extend(Oe());function je(){var e=Object(E.a)(["\nposition: absolute;\npointer-events: none; // makes the input ot get focus having the label on top of it\nleft: 0;\ntop: ",";\ncursor: text;\nfont-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n  Cantarell, Arial, sans-serif;\nfont-weight: 100;\n-webkit-font-smoothing: antialiased;\nfont-variant: all-petite-caps;\nfont-style: normal;\nopacity: ",";\n-webkit-transition: all 0.2s;\ntransition: all 0.2s;\nmargin-left: 10px;\nfont-size: ",";\nuser-select: none;\n"]);return je=function(){return e},e}var xe=j.c.label(je(),function(e){return e.readonly?".35em":"0"},function(e){return e.readonly?".5":"1"},function(e){return e.readonly?"1.7em":"14px"});function we(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var Te=function(e){Object(o.a)(n,e);var t=we(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return l.a.createElement(ge,{bigger:this.props.bigger},l.a.createElement(ke,null,!this.props.readonly&&l.a.createElement(Ee,{type:"text",placeholder:this.props.placeholder}),l.a.createElement(xe,{readonly:this.props.readonly},this.props.placeholder)))}}]),n}(l.a.Component);function Se(){var e=Object(E.a)(["\nwidth: 6%;\nheight: 100%;\nmargin: 0;\npadding: 0;\nborder-right: 1px solid rgba(163, 168, 174, 0.1);\n//\n"]);return Se=function(){return e},e}var Re=j.c.div(Se());function Ce(){var e=Object(E.a)(["\nwidth: 100%;\nheight: 100%;\nborder: none;\nmargin: 0;\n&:hover {\n  border: none;\n}\n"]);return Ce=function(){return e},e}var Ie=Object(j.c)(R.a)(Ce());function Me(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var Ae=function(e){Object(o.a)(n,e);var t=Me(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return l.a.createElement(Re,null,l.a.createElement(Ie,this.props))}}]),n}(l.a.Component);function De(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var ze=function(e){Object(o.a)(n,e);var t=De(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this;return l.a.createElement(ve,{content:!0},l.a.createElement(Te,{placeholder:this.props.intl.formatMessage(Z.reference),readonly:!0}),l.a.createElement(Te,{placeholder:this.props.intl.formatMessage(Z.description),readonly:!0,bigger:!0}),l.a.createElement(Te,{placeholder:this.props.intl.formatMessage(Z.price),readonly:!0}),l.a.createElement(Te,{placeholder:this.props.intl.formatMessage(Z.amount),readonly:!0}),l.a.createElement(Te,{placeholder:this.props.intl.formatMessage(Z.discount),readonly:!0}),l.a.createElement(Te,{placeholder:this.props.intl.formatMessage(Z.subtotal),readonly:!0}),l.a.createElement(Ae,{primary:!0,icon:"remove-close",onClick:function(){return e.props.removeTicket()}}))}}]),n}(l.a.Component),Pe=n(165),Fe=n(57);function _e(){var e=Object(E.a)(["\nwidth: 100%;\nheight: 100%;\noverflow: auto;\n"]);return _e=function(){return e},e}var Ue=j.c.div(_e());function Ve(){var e=Object(E.a)(["\n  width: 100%;\n  height: calc(100% - 44px);\n  display: flex;\n  flex: 0 1 auto;\n  flex-direction: row;\n"]);return Ve=function(){return e},e}var Ne=j.c.div(Ve());function Be(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var Le=function(e){Object(o.a)(n,e);var t=Be(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={value:e.value||""},a}return Object(a.a)(n,[{key:"componentWillReceiveProps",value:function(e){this.setState({value:e.value})}},{key:"render",value:function(){var e=this;return l.a.createElement(ge,{bigger:this.props.bigger,onBlur:function(t){return e.props.onBlur(t)}},l.a.createElement(ke,null,!this.props.readonly&&l.a.createElement(Ee,{type:"text",placeholder:this.props.placeholder,onChange:function(t){var n=t.target;return e.setState({value:n.value},function(){return e.props.onChange(n.value)})},value:this.state.value}),l.a.createElement(xe,{readonly:this.props.readonly},this.props.placeholder)))}}]),n}(l.a.Component);Le.defaultProps={onChange:function(){return null},onBlur:function(){return null}};var Ke=Le;function Ge(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var He=function(e){Object(o.a)(n,e);var t=Ge(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this;return l.a.createElement(Ne,null,l.a.createElement(Ue,null,this.props.ticketOperations.map(function(t,n){var r=t.stock,a=Object(Pe.a)(t,["stock"]);return l.a.createElement(ve,{key:n,even:(n+1)%2},l.a.createElement(Te,{placeholder:r.reference,readonly:!0}),l.a.createElement(Te,{placeholder:Object(Fe.b)(r),readonly:!0,bigger:!0}),l.a.createElement(Te,{placeholder:Object(Fe.a)(r.price),readonly:!0}),l.a.createElement(Ke,{placeholder:a.amount,value:e.props.tmp[r.reference]&&e.props.tmp[r.reference].amount?e.props.tmp[r.reference].amount:"",onChange:function(t){return e.props.updateTmpData(r.reference,{amount:parseInt(t,10)})},onBlur:function(){e.props.tmp[r.reference]&&e.props.tmp[r.reference].amount&&e.props.createAddOperation(r,{amount:e.props.tmp[r.reference].amount})}}),l.a.createElement(Ke,{placeholder:a.discountValue||"0",value:e.props.tmp[r.reference]&&Number.isFinite(e.props.tmp[r.reference].discountValue)?e.props.tmp[r.reference].discountValue:"",onChange:function(t){return e.props.updateTmpData(r.reference,{discountValue:parseInt(t,10)})},onBlur:function(){e.props.tmp[r.reference]&&Number.isFinite(e.props.tmp[r.reference].discountValue)&&e.props.createAddOperation(r,{amount:a.amount,discountValue:e.props.tmp[r.reference].discountValue,discountType:"fixed"})}}),l.a.createElement(Te,{placeholder:Object(Fe.a)(Object(Fe.g)(Object(T.a)({stock:r},a))),readonly:!0}),l.a.createElement(Ae,{primary:!0,icon:"remove-close",onClick:function(){return e.props.createAddOperation(r,{amount:0})}}))})))}}]),n}(l.a.Component);function We(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var $e=function(e){Object(o.a)(n,e);var t=We(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return l.a.createElement(he,null,l.a.createElement(ze,this.props),l.a.createElement(He,this.props))}}]),n}(l.a.Component);function qe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var Je=function(e){Object(o.a)(n,e);var t=qe(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return l.a.createElement(ue,null,this.props.isEmptyTicket&&l.a.createElement(oe.a,null,l.a.createElement(ce.a,{icon:"thumbsdown"},l.a.createElement(se,null,l.a.createElement(m.a,Z.notFound)),l.a.createElement(fe,null,l.a.createElement(m.a,Z.notFoundHelp)))),!this.props.isEmptyTicket&&l.a.createElement($e,this.props))}}]),n}(l.a.Component);function Ye(){var e=Object(E.a)(["\n  outline: none;\n  font-size: 1.3em;\n  margin-left: 5px;\n  width: 150px;\n  font-family: 'BlinkMacSystemFont','Lucida Grande','Segoe UI',Ubuntu, Cantarell,Arial,sans-serif;\n  font-weight: 100;\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n"]);return Ye=function(){return e},e}var Xe=j.c.span(Ye());function Qe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}l.a.Component;function Ze(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}l.a.Component;function et(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var tt=function(e){Object(o.a)(n,e);var t=et(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this;return l.a.createElement(M,null,l.a.createElement(z,{includeStyles:"\n@media (max-width: 1080px) {\n  width: 35%;\n}"},l.a.createElement(F,null),l.a.createElement(F,null)),l.a.createElement(z,{includeStyles:"\n@media (max-width: 1080px) {\n  width: 65%;\n}"},l.a.createElement(U,null,l.a.createElement(R.a,{"data-cy":ne.b.NEW_TICKET_BUTTON,inactive:this.props.isEmptyTicket,icon:"trashcan",title:l.a.createElement(m.a,Z.newTicket),onClick:function(){return e.props.removeTicket()}}))))}}]),n}(l.a.Component);function nt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var rt=function(e){Object(o.a)(n,e);var t=nt(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return l.a.createElement(w,null,l.a.createElement(ae,this.props),l.a.createElement(Je,this.props),l.a.createElement(tt,this.props))}}]),n}(l.a.Component),at=Object(d.createStructuredSelector)({ticket:h.f,ticketMatches:y,tmp:Object(d.createSelector)(function(e){return e.tmp},function(e){return e.ticket}),settings:function(e){return e.settings},ticketOperations:h.l,ticketBalance:h.g,isEmptyTicket:h.a,isTicketCheckoutDisabled:h.c});var ot=Object(s.connect)(at,function(e){return{updateTmpData:function(t,n){return e(function(e,t){return{type:k.u,reference:e,data:t}}(t,n))},updateTicketData:function(t,n){return e(function(e,t){return{type:k.p,put:k.o,item:e,data:t}}(t,n))},updateTicketTax:function(t){return e((n=t,{type:k.p,put:k.t,tax:n}));var n},updateTicketDiscount:function(t){return e(function(e){return{type:k.p,put:k.q,discount:e}}(t))},removeTicket:function(){return e({type:k.k})},getTicketMatches:function(t,n){return e(Object(O.h)(t,n))},loadTicket:function(){return e(O.k.apply(void 0,arguments))},createTicket:function(t,n){return e(Object(O.f)(t,n))},createAddOperation:function(t,n){return e(Object(O.d)(t,n))}}})(Object(m.e)(rt)),ct=n(201);function it(){var e=Object(E.a)(["\n  height: 100%;\n  border-bottom: 1px solid rgba(163, 168, 174, 0.1);\n  padding: ",";\n"]);return it=function(){return e},e}var ut=j.c.div(it(),function(e){return e.theme&&e.theme.app.padding?e.theme.app.padding:"0px"});function lt(){var e=Object(E.a)(["\n  width: 100%;\n  height: 44px;\n  display: flex;\n  flex: 0 1 auto;\n  flex-direction: row;\n"]);return lt=function(){return e},e}var st=j.c.div(lt());function pt(){var e=Object(E.a)(["\n  width: 50%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  display: table;\n"]);return pt=function(){return e},e}var ft=j.c.div(pt());function dt(){var e=Object(E.a)(["\n  display: table-cell;\n  vertical-align: middle;\n"]);return dt=function(){return e},e}var ht=j.c.div(dt());function mt(){var e=Object(E.a)(["\n  display: table-cell;\n  text-align: right;\n  vertical-align: middle;\n"]);return mt=function(){return e},e}var vt=j.c.div(mt());function bt(){var e=Object(E.a)(["\ncolor: rgba(163, 168, 174, 0.5);\nmargin-left: 10px;\n"]);return bt=function(){return e},e}var gt=j.c.div(bt());function yt(){var e=Object(E.a)(["\n  width: 100%;\n  padding: 5px 10px;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  font-weight: ",";\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n  font-size: 1.3em;\n  color: ",";\n  background-color: ",";\n"]);return yt=function(){return e},e}function kt(){var e=Object(E.a)(["\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  text-align: center;\n"]);return kt=function(){return e},e}function Ot(){var e=Object(E.a)(["\n  position: absolute;\n  margin-top: 25px;\n  background-color: rgba(100, 100, 100, 1);\n  color: white;\n  padding: 0;\n"]);return Ot=function(){return e},e}var Et=j.c.div(Ot()),jt=j.c.ul(kt()),xt=j.c.li(yt(),function(e){return e.selected?"400":"100"},function(e){return e.selected?"#73c990":"inherit"},function(e){return e.selected?"rgba(255, 255, 255, 0.1)":"translate"});function wt(){var e=Object(E.a)(["\n  outline: none;\n  font-size: 1.2em;\n  margin-left: 5px;\n  width: 150px;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  font-weight: 100;\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n\n  &::-webkit-input-placeholder {\n    /* WebKit, Blink, Edge */\n    color: rgba(163, 168, 174, 0.9);\n  }\n  &:-moz-placeholder {\n    /* Mozilla Firefox 4 to 18 */\n    color: rgba(163, 168, 174, 0.9);\n    opacity: 1;\n  }\n  &::-moz-placeholder {\n    /* Mozilla Firefox 19+ */\n    color: rgba(163, 168, 174, 0.9);\n    opacity: 1;\n  }\n  &:-ms-input-placeholder {\n    /* Internet Explorer 10-11 */\n    color: rgba(163, 168, 174, 0.9);\n  }\n  &::-ms-input-placeholder {\n    /* Microsoft Edge */\n    color: rgba(163, 168, 174, 0.9);\n  }\n"]);return wt=function(){return e},e}var Tt=j.c.input(wt());function St(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var Rt=function(e){Object(o.a)(n,e);var t=St(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={value:e.value||""},a}return Object(a.a)(n,[{key:"componentWillReceiveProps",value:function(e){this.setState({value:e.value})}},{key:"stopPropagation",value:function(e){return e.preventDefault(),e.stopPropagation(),!1}},{key:"render",value:function(){var e=this;return!this.props.readonly&&l.a.createElement(Tt,{type:"text",placeholder:this.props.placeholder,onChange:function(t){var n=t.target;return e.setState({value:n.value},function(){return e.props.onChange(n.value)})},onKeyDown:function(t){var n=t.target;switch(t.key){case"Enter":return e.props.onEnter&&e.props.onEnter(n.value),e.stopPropagation(t);case"ArrowUp":return e.props.onMoveUp&&e.props.onMoveUp(n.value),e.stopPropagation(t);case"ArrowDown":return e.props.onMoveDown&&e.props.onMoveDown(n.value),e.stopPropagation(t);case"Escape":return e.props.onEscape&&e.props.onEscape(n.value),e.stopPropagation(t)}return!0},value:this.state.value})}}]),n}(l.a.Component),Ct=Object(m.d)({amountInfoTooltip:{id:"kz.containers.TicketSoldItems.amountInfoTooltip",defaultMessage:"Ticket return amount"},removedAmountInfoTooltip:{id:"kz.containers.TicketSoldItems.removedAmountInfoTooltip",defaultMessage:"Ticket return amount"},notFound:{id:"kz.containers.TicketSoldItems.notFound",defaultMessage:"Ticket empty"},notFoundHelp:{id:"kz.containers.TicketSoldItems.notFoundHelp",defaultMessage:"This ticket has been removed from the system"},discount:{id:"kz.containers.TicketSoldItems.discount",defaultMessage:"Discount"},vat:{id:"kz.containers.TicketSoldItems.vat",defaultMessage:"VAT"},printTicket:{id:"kz.containers.TicketSoldItems.print",defaultMessage:"Print Ticket"},newTicket:{id:"kz.containers.TicketSoldItems.new",defaultMessage:"New Ticket"},giftTicket:{id:"kz.containers.TicketSoldItems.gift",defaultMessage:"Voucher"},checkoutTicket:{id:"kz.containers.TicketSoldItems.checkout",defaultMessage:"Return"},search:{id:"kz.containers.TicketSoldItems.search",defaultMessage:"Ticket ID"},reference:{id:"kz.containers.TicketSoldItems.table.reference",defaultMessage:"Reference"},description:{id:"kz.containers.TicketSoldItems.table.description",defaultMessage:"Description"},subtotal:{id:"kz.containers.TicketSoldItems.table.subtotal",defaultMessage:"Subtotal"},price:{id:"kz.containers.TicketSoldItems.table.price",defaultMessage:"Price"},amount:{id:"kz.containers.TicketSoldItems.table.amount",defaultMessage:"Amount"},return:{id:"kz.containers.TicketSoldItems.table.return",defaultMessage:"Return"}});function It(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var Mt=function(e){Object(o.a)(n,e);var t=It(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={value:e.ticket.created_at,matchIndex:0,matchesVisible:!0},a}return Object(a.a)(n,[{key:"componentWillReceiveProps",value:function(e){this.props.ticket.created_at!=e.ticket.created_at&&this.setState({value:e.ticket.created_at})}},{key:"getMatches",value:function(e){e&&this.props.getMatches("created_at",e)}},{key:"shouldDisplayMatches",value:function(){var e=this;return this.state.matchesVisible&&!!this.state.value&&!!this.state.value.length&&this.props.matches&&this.props.matches.length>1&&this.props.matches.every(function(t){return String(t).startsWith(e.state.value)&&String(t)!==e.state.value})}},{key:"render",value:function(){var e=this;return l.a.createElement(gt,null,this.shouldDisplayMatches()&&l.a.createElement(Et,null,l.a.createElement(jt,null,this.props.matches.map(function(t,n){return l.a.createElement(xt,{key:n,onClick:function(){return e.setState({value:t,matchIndex:0})},selected:e.state.matchIndex===n},t)}))),l.a.createElement(N.a,{name:"search"}),l.a.createElement(Rt,{placeholder:this.props.intl.formatMessage(Ct.search),readonly:!1,value:this.state.value,onChange:function(t){return e.setState({value:t,matchIndex:0,matchesVisible:!0},function(){return e.getMatches(t)})},onMoveUp:function(){return e.setState({matchIndex:(e.state.matchIndex>0?e.state.matchIndex-1:e.props.matches.length-1)%e.props.matches.length})},onMoveDown:function(){return e.setState({matchIndex:(e.state.matchIndex+1)%e.props.matches.length})},onEscape:function(){return e.setState({matchesVisible:!1})},onEnter:function(){e.setState({value:e.shouldDisplayMatches()?e.props.matches[e.state.matchIndex]:e.state.value}),e.props.matches[e.state.matchIndex]&&e.props.loadTicket(e.props.matches[e.state.matchIndex],"createdAt")}}))}}]),n}(l.a.Component);function At(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var Dt=function(e){Object(o.a)(n,e);var t=At(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this;return l.a.createElement(st,null,l.a.createElement(ft,null,l.a.createElement(ht,null,l.a.createElement(Mt,{intl:this.props.intl,ticket:this.props.ticket,matches:this.props.ticketMatches,getMatches:function(){var t;return(t=e.props).getTicketMatches.apply(t,arguments)},loadTicket:function(){var t;return(t=e.props).loadTicket.apply(t,arguments)}}))),l.a.createElement(ft,null,l.a.createElement(vt,null,l.a.createElement(R.a,{"data-cy":ne.b.CHECKOUT_BUTTON,inactive:this.props.isTicketCheckoutDisabled,disabled:this.props.isTicketCheckoutDisabled,icon:"check",title:l.a.createElement(m.a,Ct.checkoutTicket),onClick:function(){return e.props.createTicket(Object(T.a)({},e.props.ticket,{prevNode:e.props.ticket.id},e.props.ticketOperations.every(function(e){var t=e.addedAmount,n=e.previousAddedAmount,r=e.removedAmount;return n+t===e.previousRemovedAmount+r})&&{nextNode:e.props.ticket.id}),e.props.settings)}}),l.a.createElement(R.a,{"data-cy":ne.b.VOUCHER_BUTTON,inactive:this.props.isTicketVoucherCheckoutDisabled,disabled:this.props.isTicketCheckoutDisabled,primary:!0,icon:"gift",title:l.a.createElement(m.a,Ct.giftTicket),onClick:function(){return e.props.createTicket(Object(T.a)({},e.props.ticket,{prevNode:e.props.ticket.id},e.props.ticketOperations.every(function(e){var t=e.addedAmount,n=e.previousAddedAmount,r=e.removedAmount;return n+t===e.previousRemovedAmount+r})&&{nextNode:e.props.ticket.id},{isVoucher:!0}),e.props.settings)}}))))}}]),n}(l.a.Component);function zt(){var e=Object(E.a)(["\nwidth: 100%;\nheight: calc(100% - 88px);\ndisplay: flex;\nflex: 0 1 auto;\nflex-direction: row;\n"]);return zt=function(){return e},e}var Pt=j.c.div(zt());function Ft(){var e=Object(E.a)(["\n  font-size: 1.1em;\n  margin-bottom: 0;\n"]);return Ft=function(){return e},e}var _t=j.c.p(Ft());function Ut(){var e=Object(E.a)(["\n  font-size: 0.9em;\n  font-weight: 200;\n  margin-top: 5px;\n"]);return Ut=function(){return e},e}var Vt=j.c.p(Ut());function Nt(){var e=Object(E.a)(["\nwidth: 100%;\nmargin: 2px 0;\n"]);return Nt=function(){return e},e}var Bt=j.c.div(Nt());function Lt(){var e=Object(E.a)(["\n// width: ",";\nwidth: '100%';\nheight: 44px;\ndisplay: flex;\nflex: 0 1 auto;\nflex-direction: row;\nbackground-color: ",";\ncolor: ",";\n"]);return Lt=function(){return e},e}var Kt=j.c.div(Lt(),function(e){return e.content?"calc(100% - 5px)":"100%"},function(e){return e.highlight?e.theme.tables.highlightBgColor:function(e){return e.even?e.theme.tables.bgColorEven:e.theme.tables.bgColor}(e)},function(e){return e.even?e.theme.tables.colorEven:e.theme.tables.color});function Gt(){var e=Object(E.a)(["\n  width: ","%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  border-right: 1px solid rgba(163, 168, 174, 0.1);\n"]);return Gt=function(){return e},e}var Ht=j.c.div(Gt(),function(e){return e.bigger?"29":"13"});function Wt(){var e=Object(E.a)(["\n  display: block;\n  position: relative;\n  width: 100%;\n  height: 100%;\n"]);return Wt=function(){return e},e}var $t=j.c.div(Wt());function qt(){var e=Object(E.a)(["\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  margin-left: 10px;\n  padding-top: 10px;\n  padding-right: 10px;\n  &::-webkit-input-placeholder {\n    opacity: 1;\n    -webkit-transition: all 0.2s;\n    transition: all 0.2s;\n  }\n  &::-moz-placeholder {\n    opacity: 1;\n    -webkit-transition: all 0.2s;\n    transition: all 0.2s;\n  }\n  &:-ms-input-placeholder {\n    opacity: 1;\n    -webkit-transition: all 0.2s;\n    transition: all 0.2s;\n  }\n  &::placeholder {\n    opacity: 1;\n    -webkit-transition: all 0.2s;\n    transition: all 0.2s;\n  }\n  &:placeholder-shown:not(:focus)::-webkit-input-placeholder {\n    opacity: 0;\n  }\n  &:placeholder-shown:not(:focus)::-moz-placeholder {\n    opacity: 0;\n  }\n  &:placeholder-shown:not(:focus):-ms-input-placeholder {\n    opacity: 0;\n  }\n  &:placeholder-shown:not(:focus)::placeholder {\n    opacity: 0;\n  }\n  &:placeholder-shown:not(:focus) + * {\n    font-size: 1.7em;\n    opacity: 0.5;\n    top: 0.35em;\n  }\n  &:focus {\n    outline: none;\n    border-color: rgba(0, 0, 0, 0.5);\n  }\n"]);return qt=function(){return e},e}var Jt=Tt.extend(qt());function Yt(){var e=Object(E.a)(["\nposition: absolute;\npointer-events: none; // makes the input ot get focus having the label on top of it\nleft: 0;\ntop: ",";\ncursor: text;\nfont-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n  Cantarell, Arial, sans-serif;\nfont-weight: 100;\n-webkit-font-smoothing: antialiased;\nfont-variant: all-petite-caps;\nfont-style: normal;\nopacity: ",";\n-webkit-transition: all 0.2s;\ntransition: all 0.2s;\nmargin-left: 10px;\nfont-size: ",";\nuser-select: none;\n"]);return Yt=function(){return e},e}var Xt=j.c.label(Yt(),function(e){return e.readonly?".35em":"0"},function(e){return e.readonly?".5":"1"},function(e){return e.readonly?"1.7em":"14px"});function Qt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var Zt=function(e){Object(o.a)(n,e);var t=Qt(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return l.a.createElement(Ht,{bigger:this.props.bigger},l.a.createElement($t,null,!this.props.readonly&&l.a.createElement(Jt,{type:"text",placeholder:this.props.placeholder}),l.a.createElement(Xt,{readonly:this.props.readonly},this.props.placeholder)))}}]),n}(l.a.Component);function en(){var e=Object(E.a)(["\n  width: 6%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  border-right: 1px solid rgba(163, 168, 174, 0.1);\n"]);return en=function(){return e},e}var tn=j.c.div(en());function nn(){var e=Object(E.a)(["\n  width: ","%;\n  height: 100%;\n  border: none;\n  margin: 0;\n  &:hover {\n    border: none;\n  }\n"]);return nn=function(){return e},e}var rn=Object(j.c)(R.a)(nn(),function(e){return e.width?e.width:"100"});function an(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var on=function(e){Object(o.a)(n,e);var t=an(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return l.a.createElement(tn,null,l.a.createElement(rn,this.props))}}]),n}(l.a.Component);function cn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var un=function(e){Object(o.a)(n,e);var t=cn(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this;return l.a.createElement(Kt,{content:!0},l.a.createElement(Zt,{placeholder:this.props.intl.formatMessage(Ct.reference),readonly:!0}),l.a.createElement(Zt,{placeholder:this.props.intl.formatMessage(Ct.description),readonly:!0,bigger:!0}),l.a.createElement(Zt,{placeholder:this.props.intl.formatMessage(Ct.price),readonly:!0}),l.a.createElement(Zt,{placeholder:this.props.intl.formatMessage(Ct.amount),readonly:!0}),l.a.createElement(Zt,{placeholder:this.props.intl.formatMessage(Ct.return),readonly:!0}),l.a.createElement(Zt,{placeholder:this.props.intl.formatMessage(Ct.discount),readonly:!0}),l.a.createElement(Zt,{placeholder:this.props.intl.formatMessage(Ct.subtotal),readonly:!0}),l.a.createElement(on,{primary:!0,icon:"remove-close",onClick:function(){return e.props.removeTicket()}}))}}]),n}(l.a.Component);function ln(){var e=Object(E.a)(["\nwidth: 100%;\nheight: 100%;\noverflow: auto;\n"]);return ln=function(){return e},e}var sn=j.c.div(ln());function pn(){var e=Object(E.a)(["\n  width: 100%;\n  height: calc(100% - 44px);\n  display: flex;\n  flex: 0 1 auto;\n  flex-direction: row;\n"]);return pn=function(){return e},e}var fn=j.c.div(pn()),dn=n(285);function hn(){var e=Object(E.a)(["\n  position: relative;\n  background: rgba(39,41,44,0.9);\n  padding: 10px;\n  font-size: 11px;\n  font-weight: 400;\n  letter-spacing: 2px;\n  transition: all 0.5s ease-in-out;\n"]);return hn=function(){return e},e}function mn(){var e=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  height: 100%;\n"]);return mn=function(){return e},e}var vn=j.c.div(mn()),bn=j.c.div(hn());function gn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var yn=function(e){Object(o.a)(n,e);var t=gn(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={value:e.value||""},a}return Object(a.a)(n,[{key:"componentWillReceiveProps",value:function(e){this.setState({value:e.value})}},{key:"render",value:function(){var e=this;return l.a.createElement(Ht,{bigger:this.props.bigger,onBlur:function(t){return e.props.onBlur(t)}},l.a.createElement($t,null,!this.props.readonly&&l.a.createElement(Jt,{type:"text",placeholder:this.props.placeholder,onChange:function(t){var n=t.target;return e.setState({value:n.value},function(){return e.props.onChange(n.value)})},value:this.state.value}),l.a.createElement(Xt,{readonly:this.props.readonly},this.props.placeholder),this.props.info&&l.a.createElement(vn,{readonly:this.props.readonly},l.a.createElement(dn.a,{color:"inherit",right:"10",direction:"up"},l.a.createElement(bn,null,this.props.info)))))}}]),n}(l.a.Component);yn.defaultProps={onChange:function(){return null},onBlur:function(){return null}};var kn=yn;function On(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var En=function(e){Object(o.a)(n,e);var t=On(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"getTicketItemAddedAmount",value:function(e,t){var n=this;return t.removedAmount>0?l.a.createElement(Zt,{placeholder:"0",readonly:!0}):t.isNewEntry?l.a.createElement(kn,{placeholder:t.addedAmount||"0",value:this.props.tmp[e.reference]&&this.props.tmp[e.reference].amount?this.props.tmp[e.reference].amount:"",onChange:function(t){return n.props.updateTmpData(e.reference,{amount:parseInt(t,10)})},onBlur:function(t){n.props.tmp[e.reference]&&n.props.tmp[e.reference].amount&&n.props.createAddOperation(e,{amount:n.props.tmp[e.reference].amount})}}):l.a.createElement(kn,{placeholder:"".concat(t.addedAmount)||"0",value:this.props.tmp[e.reference]&&Number.isFinite(this.props.tmp[e.reference].amount)?this.props.tmp[e.reference].amount:"",onChange:function(t){return n.props.updateTmpData(e.reference,{amount:parseInt(t,10)})},onBlur:function(t){n.props.tmp[e.reference]&&Number.isFinite(n.props.tmp[e.reference].amount)&&n.props.createAddOperation(e,{amount:n.props.tmp[e.reference].amount})}})}},{key:"getTicketItemRemovedAmount",value:function(e,t){return t.addedAmount>0||t.isNewEntry||t.previousAddedAmount-t.previousRemovedAmount===0?l.a.createElement(Zt,{placeholder:"0",readonly:!0}):t.previousRemovedAmount>0?l.a.createElement(kn,{placeholder:t.removedAmount,info:l.a.createElement(m.a,Object.assign({},Ct.removedAmountInfoTooltip,{values:{returnAmount:t.previousAddedAmount-t.previousRemovedAmount,previousAddedAmount:t.previousAddedAmount,previousRemovedAmount:t.previousRemovedAmount}})),readonly:!0}):l.a.createElement(kn,{placeholder:t.removedAmount,readonly:!0,info:l.a.createElement(m.a,Object.assign({},Ct.amountInfoTooltip,{values:{returnAmount:t.previousAddedAmount-t.previousRemovedAmount}}))})}},{key:"getTicketItemSubtotalAmount",value:function(e,t){return t.addedAmount>0?l.a.createElement(Zt,{placeholder:Object(Fe.a)(Object(Fe.g)(Object(T.a)({stock:e},t,{amount:t.addedAmount}))),readonly:!0}):l.a.createElement(Zt,{placeholder:Object(Fe.a)(Object(Fe.g)(Object(T.a)({stock:e},t,{amount:t.removedAmount}))),readonly:!0})}},{key:"getTicketItemAction",value:function(e,t){var n=this;return t.isNewEntry||t.addedAmount?l.a.createElement(on,{primary:!0,icon:"remove-close",onClick:function(){return n.props.createAddOperation(e,{amount:0})}}):l.a.createElement(tn,null,l.a.createElement(rn,{"data-cy":ne.b.INCREASE_RETURN_ITEM_BUTTON,primary:!0,disabled:t.addedAmount>0||t.removedAmount===t.previousAddedAmount-t.previousRemovedAmount,width:50,icon:"arrow-up",onClick:function(){return n.props.createRemoveOperation(e,{amount:t.removedAmount+1})}}),l.a.createElement(rn,{primary:!0,disabled:t.addedAmount>0||0===t.removedAmount,width:50,icon:"arrow-down",onClick:function(){return n.props.createRemoveOperation(e,{amount:t.removedAmount-1})}}))}},{key:"getTicketItemDiscount",value:function(e,t){var n=this;return t.isNewEntry||t.addedAmount>0?l.a.createElement(kn,{placeholder:t.discountValue||"0",value:this.props.tmp[e.reference]&&Number.isFinite(this.props.tmp[e.reference].discountValue)?this.props.tmp[e.reference].discountValue:"",onChange:function(t){return n.props.updateTmpData(e.reference,{discountValue:parseInt(t,10)})},onBlur:function(){n.props.tmp[e.reference]&&Number.isFinite(n.props.tmp[e.reference].discountValue)&&n.props.createAddOperation(e,{amount:t.addedAmount,discountValue:n.props.tmp[e.reference].discountValue,discountType:"fixed"})}}):l.a.createElement(Zt,{placeholder:t.discountValue||"0",readonly:!0})}},{key:"render",value:function(){var e=this;return console.log("1111....",this.props.ticketOperations),l.a.createElement(fn,null,l.a.createElement(sn,{"data-cy":ne.b.RETURN_ITEMS_LIST},this.props.ticketOperations.map(function(t,n){var r=t.stock,a=Object(Pe.a)(t,["stock"]);return l.a.createElement(Kt,{"data-cy":ne.b.RETURN_ITEM_ROW,key:n,even:(n+1)%2,highlight:a.removedAmount>0||a.addedAmount>0},l.a.createElement(Zt,{placeholder:r.reference,readonly:!0}),l.a.createElement(Zt,{placeholder:Object(Fe.b)(r),readonly:!0,bigger:!0}),l.a.createElement(Zt,{placeholder:Object(Fe.a)(r.price),readonly:!0}),e.getTicketItemAddedAmount(r,a),e.getTicketItemRemovedAmount(r,a),e.getTicketItemDiscount(r,a),e.getTicketItemSubtotalAmount(r,a),e.getTicketItemAction(r,a))})))}}]),n}(l.a.Component);function jn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var xn=function(e){Object(o.a)(n,e);var t=jn(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return l.a.createElement(Bt,null,l.a.createElement(un,this.props),l.a.createElement(En,this.props))}}]),n}(l.a.Component);function wn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var Tn=function(e){Object(o.a)(n,e);var t=wn(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return l.a.createElement(Pt,null,this.props.isEmptyTicket&&l.a.createElement(oe.a,null,l.a.createElement(ce.a,{icon:"thumbsdown"},l.a.createElement(_t,null,l.a.createElement(m.a,Ct.notFound)),l.a.createElement(Vt,null,l.a.createElement(m.a,Ct.notFoundHelp)))),!this.props.isEmptyTicket&&l.a.createElement(xn,this.props))}}]),n}(l.a.Component);function Sn(){var e=Object(E.a)(["\n  outline: none;\n  font-size: 1.3em;\n  margin-left: 5px;\n  width: 150px;\n  font-family: 'BlinkMacSystemFont','Lucida Grande','Segoe UI',Ubuntu, Cantarell,Arial,sans-serif;\n  font-weight: 100;\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n"]);return Sn=function(){return e},e}var Rn=j.c.span(Sn());function Cn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}l.a.Component;function In(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}l.a.Component;function Mn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var An=function(e){Object(o.a)(n,e);var t=Mn(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this;return l.a.createElement(st,null,l.a.createElement(ft,null,l.a.createElement(ht,null),l.a.createElement(ht,null)),l.a.createElement(ft,null,l.a.createElement(vt,null,l.a.createElement(R.a,{inactive:this.props.isEmptyTicket,primary:!0,icon:"trashcan",title:l.a.createElement(m.a,Ct.newTicket),onClick:function(){return e.props.removeTicket()}}))))}}]),n}(l.a.Component);function Dn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var zn=function(e){Object(o.a)(n,e);var t=Dn(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return l.a.createElement(ut,null,l.a.createElement(Dt,this.props),l.a.createElement(Tn,this.props),l.a.createElement(An,this.props))}}]),n}(l.a.Component),Pn=Object(d.createStructuredSelector)({ticket:h.f,ticketOperations:h.l,ticketBalance:h.g,ticketMatches:y,isEmptyTicket:h.a,isTicketCheckoutDisabled:h.c,isTicketVoucherCheckoutDisabled:h.e,tmp:Object(d.createSelector)(function(e){return e.tmp},function(e){return e.ticket}),matches:Object(d.createSelector)(Object(d.createSelector)(function(e){return e.tmp},function(e){return e.matches}),function(e){return e.tickets.created_at}),settings:function(e){return e.settings}});var Fn=Object(s.connect)(Pn,function(e){return{updateTmpData:function(t,n){return e(function(e,t){return{type:ct.n,reference:e,data:t}}(t,n))},updateTicketData:function(t,n){return e(function(e,t){return{type:ct.k,put:ct.j,item:e,data:t}}(t,n))},updateTicketTax:function(t){return e((n=t,{type:ct.k,put:ct.m,tax:n}));var n},updateTicketDiscount:function(t){return e(function(e){return{type:ct.k,put:ct.l,discount:e}}(t))},undoReturnStockFromTicket:function(t,n){return e(function(e,t){return{type:ct.k,put:ct.i,item:e,positionInList:t}}(t,n))},returnAllStockFromTicket:function(){return e({type:ct.k,put:ct.g})},removeTicket:function(){return e({type:ct.f})},getTicketMatches:function(t,n){return e(Object(O.h)(t,n))},loadTicket:function(){return e(O.k.apply(void 0,arguments))},createAddOperation:function(t,n){return e(Object(O.d)(t,n))},createRemoveOperation:function(t,n){return e(Object(O.e)(t,n))},createTicket:function(t,n){return e(Object(O.f)(t,n))}}})(Object(m.e)(zn)),_n="ui/TicketItems/UPDATE_TMP_TICKET_DATA_ACTION",Un="ui/TicketItems/UPDATE_STOCK_TICKET_DATA_ACTION",Vn="ui/TicketItems/REMOVE_STOCK_FROM_TICKET_ACTION",Nn="ui/TicketItems/UNDO_RETURN_STOCK_FROM_TICKET_ACTION",Bn="ui/TicketItems/RETURN_STOCK_FROM_TICKET_ACTION",Ln="ui/TicketItems/REMOVE_TICKET_ACTION",Kn="ui/TicketItems/UPDATE_TICKET_ACTION",Gn="ui/TicketItems/CLOSE_TICKET_ACTION",Hn="ui/TicketItems/UPDATE_TICKET_TAX_ACTION",Wn="ui/TicketItems/UPDATE_TICKET_DISCOUNT_ACTION";function $n(){var e=Object(E.a)(["\n  height: 100%;\n  border-bottom: 1px solid rgba(163, 168, 174, 0.1);\n  padding: ",";\n"]);return $n=function(){return e},e}var qn=j.c.div($n(),function(e){return e.theme&&e.theme.app.padding?e.theme.app.padding:"0px"});function Jn(){var e=Object(E.a)(["\n  width: 100%;\n  height: 44px;\n  display: flex;\n  flex: 0 1 auto;\n  flex-direction: row;\n"]);return Jn=function(){return e},e}var Yn=j.c.div(Jn());function Xn(){var e=Object(E.a)(["\n  width: 50%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  display: table;\n"]);return Xn=function(){return e},e}var Qn=j.c.div(Xn());function Zn(){var e=Object(E.a)(["\n  display: table-cell;\n  vertical-align: middle;\n"]);return Zn=function(){return e},e}var er=j.c.div(Zn());function tr(){var e=Object(E.a)(["\n  display: table-cell;\n  text-align: right;\n  vertical-align: middle;\n"]);return tr=function(){return e},e}var nr=j.c.div(tr());function rr(){var e=Object(E.a)(["\ncolor: rgba(163, 168, 174, 0.5);\nmargin-left: 10px;\n"]);return rr=function(){return e},e}var ar=j.c.div(rr());function or(){var e=Object(E.a)(["\n  width: 100%;\n  padding: 5px 10px;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  font-weight: ",";\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n  font-size: 1.3em;\n  color: ",";\n  background-color: ",";\n"]);return or=function(){return e},e}function cr(){var e=Object(E.a)(["\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  text-align: center;\n"]);return cr=function(){return e},e}function ir(){var e=Object(E.a)(["\n  position: absolute;\n  margin-top: 25px;\n  background-color: rgba(100, 100, 100, 1);\n  color: white;\n  padding: 0;\n"]);return ir=function(){return e},e}var ur=j.c.div(ir()),lr=j.c.ul(cr()),sr=j.c.li(or(),function(e){return e.selected?"400":"100"},function(e){return e.selected?"#73c990":"inherit"},function(e){return e.selected?"rgba(255, 255, 255, 0.1)":"translate"});function pr(){var e=Object(E.a)(["\n  outline: none;\n  font-size: 1.2em;\n  margin-left: 5px;\n  width: 150px;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  font-weight: 100;\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n\n  &::-webkit-input-placeholder {\n    /* WebKit, Blink, Edge */\n    color: rgba(163, 168, 174, 0.9);\n  }\n  &:-moz-placeholder {\n    /* Mozilla Firefox 4 to 18 */\n    color: rgba(163, 168, 174, 0.9);\n    opacity: 1;\n  }\n  &::-moz-placeholder {\n    /* Mozilla Firefox 19+ */\n    color: rgba(163, 168, 174, 0.9);\n    opacity: 1;\n  }\n  &:-ms-input-placeholder {\n    /* Internet Explorer 10-11 */\n    color: rgba(163, 168, 174, 0.9);\n  }\n  &::-ms-input-placeholder {\n    /* Microsoft Edge */\n    color: rgba(163, 168, 174, 0.9);\n  }\n"]);return pr=function(){return e},e}var fr=j.c.input(pr());function dr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var hr=function(e){Object(o.a)(n,e);var t=dr(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={value:e.value||""},a}return Object(a.a)(n,[{key:"componentWillReceiveProps",value:function(e){this.setState({value:e.value})}},{key:"stopPropagation",value:function(e){return e.preventDefault(),e.stopPropagation(),!1}},{key:"render",value:function(){var e=this;return!this.props.readonly&&l.a.createElement(fr,{type:"text",placeholder:this.props.placeholder,onChange:function(t){var n=t.target;return e.setState({value:n.value},function(){return e.props.onChange(n.value)})},onKeyDown:function(t){var n=t.target;switch(t.key){case"Enter":return e.props.onEnter&&e.props.onEnter(n.value),e.stopPropagation(t);case"ArrowUp":return e.props.onMoveUp&&e.props.onMoveUp(n.value),e.stopPropagation(t);case"ArrowDown":return e.props.onMoveDown&&e.props.onMoveDown(n.value),e.stopPropagation(t);case"Escape":return e.props.onEscape&&e.props.onEscape(n.value),e.stopPropagation(t)}return!0},value:this.state.value})}}]),n}(l.a.Component),mr=Object(m.d)({addedAmountInfoTooltip:{id:"kz.containers.TicketReadOnly.addedAmountInfoTooltip",defaultMessage:"Ticket has previous added units"},removedAmountInfoTooltip:{id:"kz.containers.TicketReadOnly.removedAmountInfoTooltip",defaultMessage:"Ticket has previous removed units"},notFound:{id:"kz.containers.TicketReturnItems.notFound",defaultMessage:"Ticket empty"},notFoundHelp:{id:"kz.containers.TicketReturnItems.notFoundHelp",defaultMessage:"Add some items to this ticket"},discount:{id:"kz.containers.TicketReturnItems.discount",defaultMessage:"Discount"},vat:{id:"kz.containers.TicketReturnItems.vat",defaultMessage:"VAT"},newTicket:{id:"kz.containers.TicketReturnItems.new",defaultMessage:"New Ticket"},printTicket:{id:"kz.containers.TicketReturnItems.print",defaultMessage:"Print Ticket"},search:{id:"kz.containers.TicketReturnItems.search",defaultMessage:"Ticket ID"},reference:{id:"kz.containers.TicketReturnItems.table.reference",defaultMessage:"Reference"},description:{id:"kz.containers.TicketReturnItems.table.description",defaultMessage:"Description"},subtotal:{id:"kz.containers.TicketReturnItems.table.subtotal",defaultMessage:"Subtotal"},price:{id:"kz.containers.TicketReturnItems.table.price",defaultMessage:"Price"},amount:{id:"kz.containers.TicketReturnItems.table.amount",defaultMessage:"Amount"},return:{id:"kz.containers.TicketSoldItems.table.return",defaultMessage:"Return"}});function vr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var br=function(e){Object(o.a)(n,e);var t=vr(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={value:e.ticket.created_at,matchIndex:0,matchesVisible:!0},a}return Object(a.a)(n,[{key:"componentWillReceiveProps",value:function(e){this.props.ticket.created_at!=e.ticket.created_at&&this.setState({value:e.ticket.created_at})}},{key:"getMatches",value:function(e){e&&this.props.getMatches("created_at",e)}},{key:"shouldDisplayMatches",value:function(){var e=this;return this.state.matchesVisible&&!!this.state.value&&!!this.state.value.length&&this.props.matches&&this.props.matches.length>1&&this.props.matches.every(function(t){return String(t).startsWith(e.state.value)&&String(t)!==e.state.value})}},{key:"render",value:function(){var e=this;return l.a.createElement(ar,null,this.shouldDisplayMatches()&&l.a.createElement(ur,null,l.a.createElement(lr,null,this.props.matches.map(function(t,n){return l.a.createElement(sr,{key:n,onClick:function(){return e.setState({value:t,matchIndex:0})},selected:e.state.matchIndex===n},t)}))),l.a.createElement(N.a,{name:"search"}),l.a.createElement(hr,{placeholder:this.props.intl.formatMessage(mr.search),readonly:!1,value:this.state.value,onChange:function(t){return e.setState({value:t,matchIndex:0,matchesVisible:!0},function(){return e.getMatches(t)})},onMoveUp:function(){return e.setState({matchIndex:(e.state.matchIndex>0?e.state.matchIndex-1:e.props.matches.length-1)%e.props.matches.length})},onMoveDown:function(){return e.setState({matchIndex:(e.state.matchIndex+1)%e.props.matches.length})},onEscape:function(){return e.setState({matchesVisible:!1})},onEnter:function(){e.setState({value:e.shouldDisplayMatches()?e.props.matches[e.state.matchIndex]:e.state.value}),e.props.matches[e.state.matchIndex]&&e.props.loadTicket(e.props.matches[e.state.matchIndex],"createdAt")}}))}}]),n}(l.a.Component);function gr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var yr=function(e){Object(o.a)(n,e);var t=gr(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this;return console.log("ticket matches",this.props.ticketMatches),l.a.createElement(Yn,null,l.a.createElement(Qn,null,l.a.createElement(er,null,l.a.createElement(br,{intl:this.props.intl,ticket:this.props.ticket,matches:this.props.ticketMatches,getMatches:function(){var t;return(t=e.props).getTicketMatches.apply(t,arguments)},loadTicket:function(){var t;return(t=e.props).loadTicket.apply(t,arguments)}}))),l.a.createElement(Qn,null,l.a.createElement(nr,null,l.a.createElement(R.a,{inactive:this.props.isEmptyTicket,primary:!0,icon:"cloud-download",title:l.a.createElement(m.a,mr.printTicket),onClick:function(){return e.props.printTicket(e.props.ticket,{settings:e.props.settings})}}))))}}]),n}(l.a.Component);function kr(){var e=Object(E.a)(["\nwidth: 100%;\nheight: calc(100% - 88px);\ndisplay: flex;\nflex: 0 1 auto;\nflex-direction: row;\n"]);return kr=function(){return e},e}var Or=j.c.div(kr());function Er(){var e=Object(E.a)(["\n  font-size: 1.1em;\n  margin-bottom: 0;\n"]);return Er=function(){return e},e}var jr=j.c.p(Er());function xr(){var e=Object(E.a)(["\n  font-size: 0.9em;\n  font-weight: 200;\n  margin-top: 5px;\n"]);return xr=function(){return e},e}var wr=j.c.p(xr());function Tr(){var e=Object(E.a)(["\nwidth: 100%;\nmargin: 2px 0;\n"]);return Tr=function(){return e},e}var Sr=j.c.div(Tr());function Rr(){var e=Object(E.a)(["\n// width: ",";\nwidth: '100%';\nheight: 44px;\ndisplay: flex;\nflex: 0 1 auto;\nflex-direction: row;\nbackground-color: ",";\ncolor: ",";\n"]);return Rr=function(){return e},e}var Cr=j.c.div(Rr(),function(e){return e.content?"calc(100% - 5px)":"100%"},function(e){return e.highlight?e.theme.tables.highlightBgColor:function(e){return e.even?e.theme.tables.bgColorEven:e.theme.tables.bgColor}(e)},function(e){return e.even?e.theme.tables.colorEven:e.theme.tables.color});function Ir(){var e=Object(E.a)(["\nwidth: ","%;\nheight: 100%;\nmargin: 0;\npadding: 0;\nborder-right: 1px solid rgba(163, 168, 174, 0.1);\n"]);return Ir=function(){return e},e}var Mr=j.c.div(Ir(),function(e){return e.bigger?"32":"17"});function Ar(){var e=Object(E.a)(["\n  display: block;\n  position: relative;\n  width: 100%;\n  height: 100%;\n"]);return Ar=function(){return e},e}var Dr=j.c.div(Ar());function zr(){var e=Object(E.a)(["\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  margin-left: 10px;\n  padding-top: 10px;\n  padding-right: 10px;\n  &::-webkit-input-placeholder {\n    opacity: 1;\n    -webkit-transition: all 0.2s;\n    transition: all 0.2s;\n  }\n  &::-moz-placeholder {\n    opacity: 1;\n    -webkit-transition: all 0.2s;\n    transition: all 0.2s;\n  }\n  &:-ms-input-placeholder {\n    opacity: 1;\n    -webkit-transition: all 0.2s;\n    transition: all 0.2s;\n  }\n  &::placeholder {\n    opacity: 1;\n    -webkit-transition: all 0.2s;\n    transition: all 0.2s;\n  }\n  &:placeholder-shown:not(:focus)::-webkit-input-placeholder {\n    opacity: 0;\n  }\n  &:placeholder-shown:not(:focus)::-moz-placeholder {\n    opacity: 0;\n  }\n  &:placeholder-shown:not(:focus):-ms-input-placeholder {\n    opacity: 0;\n  }\n  &:placeholder-shown:not(:focus)::placeholder {\n    opacity: 0;\n  }\n  &:placeholder-shown:not(:focus) + * {\n    font-size: 1.7em;\n    opacity: 0.5;\n    top: 0.35em;\n  }\n  &:focus {\n    outline: none;\n    border-color: rgba(0, 0, 0, 0.5);\n  }\n"]);return zr=function(){return e},e}var Pr=fr.extend(zr());function Fr(){var e=Object(E.a)(["\nposition: absolute;\npointer-events: none; // makes the input ot get focus having the label on top of it\nleft: 0;\ntop: ",";\ncursor: text;\nfont-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n  Cantarell, Arial, sans-serif;\nfont-weight: 100;\n-webkit-font-smoothing: antialiased;\nfont-variant: all-petite-caps;\nfont-style: normal;\nopacity: ",";\n-webkit-transition: all 0.2s;\ntransition: all 0.2s;\nmargin-left: 10px;\nfont-size: ",";\nuser-select: none;\n"]);return Fr=function(){return e},e}var _r=j.c.label(Fr(),function(e){return e.readonly?".35em":"0"},function(e){return e.readonly?".5":"1"},function(e){return e.readonly?"1.7em":"14px"});function Ur(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var Vr=function(e){Object(o.a)(n,e);var t=Ur(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return l.a.createElement(Mr,{bigger:this.props.bigger},l.a.createElement(Dr,null,!this.props.readonly&&l.a.createElement(Pr,{type:"text",placeholder:this.props.placeholder}),l.a.createElement(_r,{readonly:this.props.readonly},this.props.placeholder)))}}]),n}(l.a.Component);function Nr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var Br=function(e){Object(o.a)(n,e);var t=Nr(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return l.a.createElement(Cr,{content:!0},l.a.createElement(Vr,{placeholder:this.props.intl.formatMessage(mr.reference),readonly:!0}),l.a.createElement(Vr,{placeholder:this.props.intl.formatMessage(mr.description),readonly:!0,bigger:!0}),l.a.createElement(Vr,{placeholder:this.props.intl.formatMessage(mr.price),readonly:!0}),l.a.createElement(Vr,{placeholder:this.props.intl.formatMessage(mr.amount),readonly:!0}),l.a.createElement(Vr,{placeholder:this.props.intl.formatMessage(mr.return),readonly:!0}),l.a.createElement(Vr,{placeholder:this.props.intl.formatMessage(mr.discount),readonly:!0}),l.a.createElement(Vr,{placeholder:this.props.intl.formatMessage(mr.subtotal),readonly:!0}))}}]),n}(l.a.Component);function Lr(){var e=Object(E.a)(["\nwidth: 100%;\nheight: 100%;\noverflow: auto;\n"]);return Lr=function(){return e},e}var Kr=j.c.div(Lr());function Gr(){var e=Object(E.a)(["\n  width: 100%;\n  height: calc(100% - 44px);\n  display: flex;\n  flex: 0 1 auto;\n  flex-direction: row;\n"]);return Gr=function(){return e},e}var Hr=j.c.div(Gr());function Wr(){var e=Object(E.a)(["\n  position: relative;\n  background: rgba(39,41,44,0.9);\n  padding: 10px;\n  font-size: 11px;\n  font-weight: 400;\n  letter-spacing: 2px;\n  transition: all 0.5s ease-in-out;\n"]);return Wr=function(){return e},e}function $r(){var e=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  height: 100%;\n"]);return $r=function(){return e},e}var qr=j.c.div($r()),Jr=j.c.div(Wr());function Yr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var Xr=function(e){Object(o.a)(n,e);var t=Yr(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={value:e.value||""},a}return Object(a.a)(n,[{key:"componentWillReceiveProps",value:function(e){this.setState({value:e.value})}},{key:"render",value:function(){var e=this;return l.a.createElement(Mr,{bigger:this.props.bigger,onBlur:function(t){return e.props.onBlur(t)}},l.a.createElement(Dr,null,!this.props.readonly&&l.a.createElement(Pr,{type:"text",placeholder:this.props.placeholder,onChange:function(t){var n=t.target;return e.setState({value:n.value},function(){return e.props.onChange(n.value)})},value:this.state.value}),l.a.createElement(_r,{readonly:this.props.readonly},this.props.placeholder),this.props.info&&l.a.createElement(qr,{readonly:this.props.readonly},l.a.createElement(dn.a,{color:"inherit",right:"10",direction:"up"},l.a.createElement(Jr,null,this.props.info)))))}}]),n}(l.a.Component);Xr.defaultProps={onChange:function(){return null},onBlur:function(){return null}};var Qr=Xr;function Zr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var ea=function(e){Object(o.a)(n,e);var t=Zr(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"getTicketItemAddedAmount",value:function(e,t){return t.addedAmount||t.previousAddedAmount?t.previousAddedAmount?l.a.createElement(Qr,{placeholder:t.addedAmount,info:l.a.createElement(m.a,Object.assign({},mr.addedAmountInfoTooltip,{values:{amount:t.previousAddedAmount}})),readonly:!0}):l.a.createElement(Vr,{placeholder:t.addedAmount,readonly:!0}):l.a.createElement(Vr,{placeholder:t.amount,readonly:!0})}},{key:"getTicketItemRemovedAmount",value:function(e,t){return t.removedAmount||t.previousRemovedAmount?(console.log("operation!!!",t),t.previousRemovedAmount?l.a.createElement(Qr,{placeholder:t.removedAmount,info:l.a.createElement(m.a,Object.assign({},mr.removedAmountInfoTooltip,{values:{amount:t.previousRemovedAmount}})),readonly:!0}):l.a.createElement(Qr,{placeholder:t.removedAmount,readonly:!0})):l.a.createElement(Vr,{placeholder:"0",readonly:!0})}},{key:"getTicketItemSubtotalAmount",value:function(e,t){return t.amount?l.a.createElement(Vr,{placeholder:Object(Fe.a)(Object(Fe.g)(Object(T.a)({stock:e},t))),readonly:!0}):t.addedAmount>0?l.a.createElement(Vr,{placeholder:Object(Fe.a)(Object(Fe.g)(Object(T.a)({stock:e},t,{amount:t.addedAmount}))),readonly:!0}):l.a.createElement(Vr,{placeholder:Object(Fe.a)(Object(Fe.g)(Object(T.a)({stock:e},t,{amount:t.removedAmount}))),readonly:!0})}},{key:"getTicketItemDiscount",value:function(e,t){return l.a.createElement(Vr,{placeholder:t.discountValue||"0",readonly:!0})}},{key:"render",value:function(){var e=this;return l.a.createElement(Hr,null,l.a.createElement(Kr,null,this.props.ticketOperations.map(function(t,n){var r=t.stock,a=Object(Pe.a)(t,["stock"]);return l.a.createElement(Cr,{key:n,even:(n+1)%2},l.a.createElement(Vr,{placeholder:r.reference,readonly:!0}),l.a.createElement(Vr,{placeholder:Object(Fe.b)(r),readonly:!0,bigger:!0}),l.a.createElement(Vr,{placeholder:Object(Fe.a)(r.price),readonly:!0}),e.getTicketItemAddedAmount(r,a),e.getTicketItemRemovedAmount(r,a),e.getTicketItemDiscount(r,a),e.getTicketItemSubtotalAmount(r,a))})))}}]),n}(l.a.Component);function ta(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var na=function(e){Object(o.a)(n,e);var t=ta(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return l.a.createElement(Sr,null,l.a.createElement(Br,this.props),l.a.createElement(ea,this.props))}}]),n}(l.a.Component);function ra(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var aa=function(e){Object(o.a)(n,e);var t=ra(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return l.a.createElement(Or,null,this.props.isEmptyTicket&&l.a.createElement(oe.a,null,l.a.createElement(ce.a,{icon:"thumbsdown"},l.a.createElement(jr,null,l.a.createElement(m.a,mr.notFound)),l.a.createElement(wr,null,l.a.createElement(m.a,mr.notFoundHelp)))),!this.props.isEmptyTicket&&l.a.createElement(na,this.props))}}]),n}(l.a.Component);function oa(){var e=Object(E.a)(["\n  outline: none;\n  font-size: 1.3em;\n  margin-left: 5px;\n  width: 150px;\n  font-family: 'BlinkMacSystemFont','Lucida Grande','Segoe UI',Ubuntu, Cantarell,Arial,sans-serif;\n  font-weight: 100;\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n"]);return oa=function(){return e},e}var ca=j.c.span(oa());function ia(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}l.a.Component;function ua(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}l.a.Component;function la(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var sa=function(e){Object(o.a)(n,e);var t=la(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this;return l.a.createElement(Yn,null,l.a.createElement(Qn,null,l.a.createElement(er,null),l.a.createElement(er,null)),l.a.createElement(Qn,null,l.a.createElement(nr,null,l.a.createElement(R.a,{primary:!0,icon:"trashcan",title:l.a.createElement(m.a,mr.newTicket),onClick:function(){return e.props.removeTicket()}}))))}}]),n}(l.a.Component);function pa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var fa=function(e){Object(o.a)(n,e);var t=pa(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return l.a.createElement(qn,null,l.a.createElement(yr,this.props),l.a.createElement(aa,this.props),l.a.createElement(sa,this.props))}}]),n}(l.a.Component),da=Object(d.createStructuredSelector)({ticket:h.f,ticketOperations:h.l,ticketMatches:y,isEmptyTicket:h.a,tmp:Object(d.createSelector)(function(e){return e.tmp},function(e){return e.ticket}),settings:function(e){return e.settings}});var ha=Object(s.connect)(da,function(e){return{updateTmpData:function(t,n){return e(function(e,t){return{type:_n,reference:e,data:t}}(t,n))},updateTicketData:function(t,n){return e(function(e,t){return{type:Kn,put:Un,item:e,data:t}}(t,n))},updateTicketTax:function(t){return e({type:Kn,put:Hn,tax:t})},updateTicketDiscount:function(t){return e(function(e){return{type:Kn,put:Wn,discount:e}}(t))},removeStockFromTicket:function(t,n){return e(function(e,t){return{type:Kn,put:Vn,item:e,positionInList:t}}(t,n))},returnStockFromTicket:function(t,n){return e(function(e,t){return{type:Kn,put:Bn,item:e,positionInList:t}}(t,n))},undoReturnStockFromTicket:function(t,n){return e(function(e,t){return{type:Kn,put:Nn,item:e,positionInList:t}}(t,n))},removeTicket:function(){return e({type:Ln})},getTicketMatches:function(t,n){return e(Object(O.h)(t,n))},loadTicket:function(){return e(O.k.apply(void 0,arguments))},closeTicket:function(t,n){return e(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:Gn,ticket:e,options:t}}(t,n))}}})(Object(m.e)(fa)),ma=n(200);function va(){var e=Object(E.a)(["\nheight: calc(100% - 35px);\npadding: 10px;\n"]);return va=function(){return e},e}var ba=j.c.div(va());function ga(){var e=Object(E.a)(["\nheight: 33.333%;\nwidth: 100%;\ndisplay: table;\ntext-align: center;\n"]);return ga=function(){return e},e}var ya=j.c.div(ga());function ka(){var e=Object(E.a)(["\nmargin: 0;\npadding: 0;\ndisplay: table-cell;\nvertical-align: middle;\nfont-size: 5em;\ntext-align: center;\nfont-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n  Cantarell, Arial, sans-serif;\nfont-weight: 400;\n-webkit-font-smoothing: antialiased;\nfont-variant: all-petite-caps;\nfont-style: normal;\n\n&::selection {\n  color: rgba(163, 168, 174, 0.6);\n  background-color: rgba(163, 168, 174, 0.1);\n}\n"]);return ka=function(){return e},e}var Oa=j.c.p(ka());function Ea(){var e=Object(E.a)(["\n  border-left: 4px solid #6494ed;\n  border-right: 4px solid #6494ed;\n  color: #6494ed;\n"]);return Ea=function(){return e},e}var ja=Oa.extend(Ea());var xa=function(e){e.currency;var t=e.totalAmount;return l.a.createElement(ya,null,l.a.createElement(ja,null,Object(Fe.c)(t)))};function wa(){var e=Object(E.a)(["\n  border-left: 4px solid #73c990;\n  border-right: 4px solid #73c990;\n  color: #73c990;\n"]);return wa=function(){return e},e}var Ta=Oa.extend(wa());var Sa=function(e){var t=e.currency,n=e.givenAmount;return l.a.createElement(ya,null,l.a.createElement(Ta,null,Object(Fe.c)(n)," ",t))};function Ra(){var e=Object(E.a)(["\nborder-left: 4px solid rgb(226, 192, 141);\nborder-right: 4px solid rgb(226, 192, 141);\ncolor: rgb(226, 192, 141);\n"]);return Ra=function(){return e},e}var Ca=Oa.extend(Ra());var Ia=function(e){e.currency;var t=e.returnAmount;return l.a.createElement(ya,null,l.a.createElement(Ca,null,Object(Fe.c)(t)))};var Ma=function(e){return l.a.createElement(ba,null,l.a.createElement(xa,e),l.a.createElement(Sa,e),l.a.createElement(Ia,e))};var Aa=Object(d.createStructuredSelector)({method:Object(d.createSelector)(function(e){return e.ticket},function(e){return e.method}),state:Object(d.createSelector)(function(e){return e.ticket},function(e){return e.state}),created_at:Object(d.createSelector)(function(e){return e.ticket},function(e){return e.created_at}),totalAmount:h.o,givenAmount:h.m,returnAmount:h.j,currency:Object(d.createSelector)(function(e){return e.ticket},function(e){return e.currency})});var Da=Object(s.connect)(Aa,function(e){return{setTicketGivenAmount:function(t){return e(function(e){return{type:ma.c,amount:e}}(t))},increaseGivenAmount:function(t){return e(function(e){return{type:ma.b,by:e}}(t))},decreaseGivenAmount:function(t){return e(function(e){return{type:ma.a,by:e}}(t))}}})(function(e){return console.log(e),l.a.createElement(Ma,e)}),za="ui/TicketTotal/SET_TICKET_GIVEN_AMOUNT_ACTION",Pa="ui/TicketTotal/INCREASE_TICKET_GIVEN_AMOUNT_ACTION",Fa="ui/TicketTotal/DECREASE_TICKET_GIVEN_AMOUNT_ACTION";var _a=n(186);function Ua(){var e=Object(E.a)(["\nfont-family: monospace;\noverflow: auto;\npadding: 5px;\nmargin: 0;\nheight: calc(100% - 44px);\n"]);return Ua=function(){return e},e}var Va=j.c.pre(Ua());var Na=function(e){var t=e.settings,n=e.ticket,r=Object(_a.a)(t,n);return l.a.createElement(Va,{style:{fontFamily:"monospace",overflowY:"auto"}},r)};var Ba=Object(d.createStructuredSelector)({ticket:h.f,settings:function(e){return e.settings}});var La=Object(s.connect)(Ba,function(e){return{setTicketGivenAmount:function(t){return e(function(e){return{type:za,amount:e}}(t))},increaseGivenAmount:function(t){return e(function(e){return{type:Pa,by:e}}(t))},decreaseGivenAmount:function(t){return e(function(e){return{type:Fa,by:e}}(t))}}})(function(e){return l.a.createElement(Na,e)}),Ka=function(){return Object(d.createSelector)(function(e){return e.tmp.visibility.tickets},function(e){return e.total})},Ga=n(264);var Ha=Object(m.d)({title:{id:"kz.containers.TicketTotalContainer.title",defaultMessage:"Payment Summary"}});function Wa(){var e=Object(E.a)(["\n  height: calc(100% - 44px);\n  padding: 10px;\n"]);return Wa=function(){return e},e}function $a(){var e=Object(E.a)(["margin-left: 10px;"]);return $a=function(){return e},e}function qa(){var e=Object(E.a)(["\n  margin: 0;\n  padding: 0;\n  display: table-cell;\n  vertical-align: middle;\n  cursor: pointer;\n  transition: color .5s ease-in-out;\n  &:hover {\n    color: #73c990;\n  }\n"]);return qa=function(){return e},e}function Ja(){var e=Object(E.a)(["\n  // height: calc(25% - 30px);\n  height: 25%;\n  width: 100%;\n  display: table;\n  // background-color: rgba(163, 168, 174, 0.05);\n  background-color: rgba(163, 168, 174, 0.1);\n  color: #6494ed;\n  margin: 0;\n  padding-left: 30px;\n  font-size: 1.8em;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  font-weight: 100;\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n  // margin: 25px 0;\n  &::selection {\n    color: rgba(163, 168, 174, 0.6);\n    background-color: rgba(163, 168, 174, 0.1);\n  }\n"]);return Ja=function(){return e},e}function Ya(){var e=Object(E.a)(["\n  width: 100%;\n  height: 44px;\n  background-color: rgba(163, 168, 174, 0.1);\n  color: rgba(163, 168, 174, 0.6);\n  margin: 0;\n  padding: 0;\n  line-height: 2.5em;\n  font-size: 1.5em;\n  text-align: center;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  font-weight: 400;\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n"]);return Ya=function(){return e},e}function Xa(){var e=Object(E.a)([""]);return Xa=function(){return e},e}function Qa(){var e=Object(E.a)(["\n  height: 100%;\n  padding: ",";\n"]);return Qa=function(){return e},e}function Za(){var e=Object(E.a)(["\n  position: absolute;\n  display: inline-block;\n  top: 4px;\n  right: ","px;\n  cursor: pointer;\n  z-index: 99;\n  color: ",";\n  &:before {\n    transform: translate(8px, 8px);\n    content: ",";\n    font-family: 'octicons';\n    font-weight: normal;\n    font-style: normal;\n    font-size: 16px;\n    display: inline-block;\n    -webkit-font-smoothing: antialiased;\n    position: relative;\n    top: 3px;\n    right: 20px;\n  }\n"]);return Za=function(){return e},e}function eo(){var e=Object(E.a)(["\n  position: absolute;\n  display: inline-block;\n  top: 4px;\n  left: ","px;\n  cursor: pointer;\n  z-index: 99;\n  color: ",";\n  &:before {\n    transform: translate(8px, 8px);\n    content: ",";\n    font-family: 'octicons';\n    font-weight: normal;\n    font-style: normal;\n    font-size: 16px;\n    display: inline-block;\n    -webkit-font-smoothing: antialiased;\n    position: relative;\n    top: 3px;\n  }\n"]);return eo=function(){return e},e}function to(){var e=Object(E.a)(["\n  position: relative;\n  box-sizing: border-box;\n  height: 100%;\n  z-index: 2;\n  min-width: 300px;\n  width: 300px;\n  max-width: 300px;\n  background-color: ",";\n  color: ",";\n  padding: 0;\n  border-left: ",";\n  border-bottom: ",";\n"]);return to=function(){return e},e}var no=j.c.div(to(),function(e){return e.theme&&e.theme.app.bgColor?e.theme.app.bgColor:"#161719"},function(e){return e.theme&&e.theme.app.color?e.theme.app.color:" #a3a8ae"},function(e){return e.theme&&e.theme.app.border?e.theme.app.border:"1px solid #27292c"},function(e){return e.theme&&e.theme.app.border?e.theme.app.border:"1px solid #27292c"}),ro=j.c.span(eo(),function(e){return e.expanded?"6":"3"},function(e){return e.theme&&e.theme.app.switchPanelIconColor?e.theme.app.switchPanelIconColor:"rgba(255, 255, 255, 0.4)"},function(e){return e.expanded?'"\\F078"':'"\\F0A4"'}),ao=j.c.span(Za(),function(e){return e.expanded?"6":"3"},function(e){return e.theme&&e.theme.app.switchPanelIconColor?e.theme.app.switchPanelIconColor:"rgba(255, 255, 255, 0.4)"},function(e){return e.expanded?'"\\F011"':'"\\F051"'}),oo=j.c.div(Qa(),function(e){return e.theme&&e.theme.app.padding?e.theme.app.padding:"0px"}),co=oo.extend(Xa()),io=j.c.p(Ya());function uo(e){return l.a.createElement(co,null,l.a.createElement(io,null,e.title),e.children)}j.c.div(Ja()),j.c.div(qa()),j.c.span($a());j.c.div(Wa());var lo=Object(d.createStructuredSelector)({ticketTotalVisibility:Ka(),rawTicketTotalVisibility:Object(d.createSelector)(function(e){return e.tmp.visibility.tickets},function(e){return e.raw}),isEmptyTicket:h.a});var so=Object(s.connect)(lo,function(e){return{toggleTicketTotalVisibility:function(){return e({type:Ga.b})},toggleRawTicketVisibility:function(){return e({type:Ga.a})}}})(function(e){return l.a.createElement(no,null,l.a.createElement(ro,{expanded:e.ticketTotalVisibility,title:"Expand/Collapse Ticket Total",onClick:function(){return e.toggleTicketTotalVisibility()}}),!e.isEmptyTicket&&l.a.createElement(ao,{expanded:!e.rawTicketTotalVisibility,title:"Show/Hide Ticket",onClick:function(){return e.toggleRawTicketVisibility()}}),l.a.createElement(uo,{title:l.a.createElement(m.a,Ha.title)},e.rawTicketTotalVisibility?l.a.createElement(La,null):l.a.createElement(Da,null)))});function po(){var e=Object(E.a)(["\n  height: calc(100% - 60px);\n  display: flex;\n  flex-direction: column;\n  color: rgb(100, 148, 237);\n  justify-content: space-evenly;\n  padding-left: 40px;\n  background-color: rgba(163, 168, 174, 0.1);\n  margin: 10px;\n  &::selection {\n    color: rgba(163, 168, 174, 0.6);\n    background-color: rgba(163, 168, 174, 0.1);\n  }\n"]);return po=function(){return e},e}var fo=j.c.div(po()),ho=Object(m.d)({creditcard:{id:"kz.containers.TicketPayments.method.credit_card",defaultMessage:"Credit Card"},ticket:{id:"kz.containers.TicketPayments.method.ticket",defaultMessage:"Ticket"},cash:{id:"kz.containers.TicketPayments.method.cash",defaultMessage:"Cash"},phone:{id:"kz.containers.TicketPayments.method.phone",defaultMessage:"Phone"}});function mo(){var e=Object(E.a)(["\n  position: absolute;\n  pointer-events: none; // makes the input ot get focus having the label on top of it\n  left: -10px;\n  top: 35px;\n  color: rgb(115, 201, 144);\n  order: 3;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  font-weight: 100;\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n  opacity: ",";\n  transition: all 0.2s;\n  margin-left: 10px;\n  font-size: ",";\n  user-select: none;\n  width: 90%;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]);return mo=function(){return e},e}function vo(){var e=Object(E.a)(["\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  margin-left: 10px;\n  padding-right: 10px;\n  font-size: 2rem;\n  color: rgb(115, 201, 144);\n  order: 2;\n  pointer-events: ",";\n\n  &:placeholder {\n    opacity: 1;\n    transition: all 0.2s;\n  }\n\n  &:placeholder-shown:not(:focus)::placeholder {\n    opacity: 0;\n  }\n\n  &:placeholder-shown:not(:focus) + * {\n    opacity: 1;\n    margin-left: 55px;\n    top: 8px;\n    font-size: 1.8em;\n    font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n      Cantarell, Arial, sans-serif;\n    font-weight: 100;\n    -webkit-font-smoothing: antialiased;\n    font-variant: all-petite-caps;\n    font-style: normal;\n    color: ",";\n  }\n\n  &:placeholder-shown:focus ~ * {\n    color: rgb(115, 201, 144);\n  }\n\n  &:focus {\n    outline: none;\n    border-color: rgba(0, 0, 0, 0.5);\n  }\n\n  &:not(:placeholder-shown) ~ * {\n    color: rgb(115, 201, 144);\n  }\n\n  &:disabled {\n      color: rgba(163, 168, 174, 0.6);\n  }\n\n  &:disabled ~ * {\n      color: rgba(163, 168, 174, 0.6);\n  }\n"]);return vo=function(){return e},e}function bo(){var e=Object(E.a)(["\n  outline: none;\n  font-size: 1.3em;\n  margin-left: 5px;\n  width: 150px;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  font-weight: 100;\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n\n  &::-webkit-input-placeholder {\n    /* WebKit, Blink, Edge */\n    color: rgba(163, 168, 174, 0.9);\n  }\n  &:-moz-placeholder {\n    /* Mozilla Firefox 4 to 18 */\n    color: rgba(163, 168, 174, 0.9);\n    opacity: 1;\n  }\n  &::-moz-placeholder {\n    /* Mozilla Firefox 19+ */\n    color: rgba(163, 168, 174, 0.9);\n    opacity: 1;\n  }\n  &:-ms-input-placeholder {\n    /* Internet Explorer 10-11 */\n    color: rgba(163, 168, 174, 0.9);\n  }\n  &::-ms-input-placeholder {\n    /* Microsoft Edge */\n    color: rgba(163, 168, 174, 0.9);\n  }\n  &::placeholder {\n    /* WebKit, Blink, Edge */\n    color: rgba(163, 168, 174, 0.9);\n    opacity: 1;\n  }\n  \n"]);return bo=function(){return e},e}function go(){var e=Object(E.a)(["\n    position:relative;  \n    display: ",";\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n\n    & > span {\n        align-self: flex-end;\n    }\n"]);return go=function(){return e},e}var yo=j.c.div(go(),function(e){return e.visible?"flex":"none"}),ko=j.c.input(bo()).extend(vo(),function(e){return e.readonly?"none":"auto"},function(e){return e.disabled?"rgba(163, 168, 174, 0.6)":"rgb(100, 148, 237)"}),Oo=j.c.label(mo(),function(e){return e.readonly?".5":"1"},function(e){return e.readonly?"1.7em":"14px"});function Eo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var jo=function(e){Object(o.a)(n,e);var t=Eo(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={value:a.parseValue(e.value,e.pattern),cursorStart:0,cursorEnd:0,loading:!1},a.increaseShiftValues=[10,.1],a.increaseNoShiftValues=[1,.01],a}return Object(a.a)(n,[{key:"parseValue",value:function(e,t){try{return"id"===t?this.parseValueId(e):this.parseValuePrice(e)}catch(n){return""}}},{key:"parseValuePrice",value:function(e){return"number"!==typeof e?"":e<=0?"0.00":"".concat(e.toFixed(2))}},{key:"parseValueId",value:function(e){return"number"!==typeof e||e<=0?"":"".concat(e)}},{key:"componentWillReceiveProps",value:function(e){var t=e.value,n=e.pattern;this.setState({value:this.parseValue(t,n),loading:!1})}},{key:"componentDidUpdate",value:function(){return this.updateCursor(this.state.cursorStart,this.state.cursorEnd)}},{key:"updateCursor",value:function(e,t){this.input&&this.input.setSelectionRange(e,t)}},{key:"setValueId",value:function(e,t){var n=t.selectionStart,r=t.selectionEnd;return e?/^\d{1,15}$/.test(e)?(this.setState({value:e,cursorStart:n,cursorEnd:r}),void this.props.onChange(Number(e))):this.setState({value:this.state.value,cursorStart:n-1,cursorEnd:r-1}):(this.setState({value:"",cursorStart:n,cursorEnd:r}),this.props.onChange(null))}},{key:"setValue",value:function(e,t){var n=t.selectionStart,r=t.selectionEnd;if("id"===this.props.pattern)return this.setValueId(e,{selectionStart:n,selectionEnd:r});if(!e||e.startsWith("."))return this.setState({value:"",cursorStart:n,cursorEnd:r}),this.props.onChange(null);if("."===e[n-1]&&"."===e[n])return this.setState({cursorStart:n,cursorEnd:r});if(this.state.value.replace(".","")===e)return this.setState({cursorStart:n,cursorEnd:r});if(!/^(?:[1-9]\d{0,4}|0)(?:\.\d{1,3})?$/.test(e))return this.setState({value:this.state.value,cursorStart:n-1,cursorEnd:r-1});if(e.includes(".")&&n>e.indexOf(".")){var a=e.substr(0,e.indexOf(".")+3);return this.setState({value:a,cursorStart:n,cursorEnd:r}),this.props.onChange(Number(a))}this.setState({value:e,cursorStart:n,cursorEnd:r}),this.props.onChange(Number(e))}},{key:"onClick",value:function(e,t){if(!this.props.readonly)return e.target.selectionStart>=this.state.value.length?this.setState({cursorStart:this.state.value.length,cursorEnd:this.state.value.length}):void this.setState({cursorStart:e.target.selectionStart,cursorEnd:e.target.selectionEnd})}},{key:"onChange",value:function(e){if(!this.props.readonly){var t=e.target.value.trim();return this.setValue(t,e.target)}}},{key:"onBlur",value:function(e){this.props.readonly||"price"!==this.props.pattern||this.state.value&&this.setState({value:Number(this.state.value).toFixed(2)})}},{key:"getAmountPosition",value:function(e,t,n){if(!this.props.readonly&&"price"===this.props.pattern){var r=t?this.increaseShiftValues:this.increaseNoShiftValues,a=-1!==this.state.value.indexOf(".")&&e.selectionStart>this.state.value.indexOf("."),o=a?r[1]:r[0],c=n?-o:o,i=a?(Number(this.state.value)+c).toFixed(2):Number(this.state.value)+c;return this.setValue("".concat(i),e)}}},{key:"stopPropagation",value:function(e){return e.preventDefault(),e.stopPropagation(),!1}},{key:"render",value:function(){var e=this,t=this.props,n=t.onEnter,r=t.onClick,a=(t.onBlur,t.onDoubleClick,t.onChange),o=Object(Pe.a)(t,["onEnter","onClick","onBlur","onDoubleClick","onChange"]);return l.a.createElement(ko,Object.assign({},o,{type:"text",innerRef:function(t){return e.input=t},onClick:function(t){return e.onClick(t,r)},onBlur:function(t){return e.onBlur(t,r)},onKeyDown:function(t){var r=t.target,a=t.key,o=!!t.shiftKey;switch(a){case"Enter":return n(Number(e.state.value)),e.stopPropagation(t);case"ArrowUp":return e.getAmountPosition(r,o,!1),e.stopPropagation(t);case"ArrowDown":return e.getAmountPosition(r,o,!0),e.stopPropagation(t);case"ArrowRight":if(r.selectionStart>=e.state.value.length)return e.setValue(e.state.value,r),e.stopPropagation(t);break;case"Escape":return e.setValue(null,{selectionStart:0,selectionEnd:0}),e.stopPropagation(t)}return!0},onChange:function(t){return e.onChange(t,a)},value:this.state.value}))}}]),n}(l.a.Component);function xo(){var e=Object(E.a)(["\n  width: 35px;\n  height: 30px;\n  background-color: rgba(187, 183, 183, 0.5);\n  border-radius: 100%;  \n  animation: "," 1.0s infinite ease-in-out;\n"]);return xo=function(){return e},e}function wo(){var e=Object(E.a)(["\n  0% { \n    -webkit-transform: scale(0);\n    transform: scale(0);\n  } 100% {\n    -webkit-transform: scale(1.0);\n    transform: scale(1.0);\n    opacity: 0;\n  }\n"]);return wo=function(){return e},e}var To=Object(j.e)(wo()),So=j.c.div(xo(),To),Ro=function(){return l.a.createElement(So,null)};function Co(e){var t=e.icon,n=e.placeholder,r=e.loading,a=e.visible,o=e.disabled,c=e.pattern,i=Object(Pe.a)(e,["icon","placeholder","loading","visible","disabled","pattern"]);return l.a.createElement(yo,{visible:a},l.a.createElement(jo,Object.assign({type:"text",placeholder:n,disabled:!!r||o,pattern:c},i)),l.a.createElement(Oo,{title:n},n),r?l.a.createElement(Ro,null):t)}function Io(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}Co.defaultProps={visible:!0,loading:!1,disabled:!1,pattern:"price"};var Mo=function(e){Object(o.a)(n,e);var t=Io(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={loading:!1},a}return Object(a.a)(n,[{key:"componentWillReceiveProps",value:function(e){var t=e.voucherPaymentAmount,n=e.ticketVoucherPaymentError;(t||n)&&this.setState({loading:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.voucherPaymentAmount,r=t.voucherPaymentConcept,a=t.updateTicketPayment,o=t.addVoucherPaymentAmount,c=t.removeVoucherPaymentAmount,i=t.totalAmount,u=t.isTicketReadOnly,s=t.intl,p=i<=0||u;return l.a.createElement("div",null,l.a.createElement(Co,{"data-cy":ne.b.PAYMENT_METHOD_VOUCHER,pattern:"id",visible:!1===Boolean(n),loading:this.state.loading,onChange:function(e){return a({method:C.y,concept:e})},onEnter:function(){e.setState({loading:!0}),o(r)},placeholder:s.formatMessage(ho.ticket),disabled:p,value:r,icon:l.a.createElement(N.a,{mega:!0,name:"gift",verticalAlign:"middle"})}),l.a.createElement(Co,{"data-cy":ne.b.PAYMENT_METHOD_VOUCHER_AMOUNT,visible:!0===Boolean(n),placeholder:s.formatMessage(ho.ticket),readonly:!0,value:n,icon:l.a.createElement(N.a,{mega:!0,name:"x",verticalAlign:"middle",style:{cursor:"pointer"},onClick:function(){e.setState({loading:!1}),c()}})}))}}]),n}(l.a.Component);function Ao(e){var t=e.creditCardPaymentAmount,n=e.cashPaymentAmount,r=e.updateTicketPayment,a=e.totalAmount,o=e.isTicketReadOnly,c=e.remainingAmount,i=e.intl,u=a<=0||o;return l.a.createElement(fo,null,l.a.createElement(Co,{"data-cy":ne.b.PAYMENT_METHOD_CREDIT_CARD,onChange:function(e){return r({method:C.v,amount:e})},onEnter:function(){var e=c+t;e<=0||r({method:C.v,amount:e})},placeholder:i.formatMessage(ho.creditcard),disabled:u,value:t,icon:l.a.createElement(N.a,{mega:!0,name:"credit-card",verticalAlign:"middle"})}),l.a.createElement(Co,{"data-cy":ne.b.PAYMENT_METHOD_CASH,onChange:function(e){return r({method:C.u,amount:e})},onEnter:function(){var e=c+n;e<=0||r({method:C.u,amount:e})},placeholder:i.formatMessage(ho.cash),disabled:u,value:n,icon:l.a.createElement(N.a,{mega:!0,name:"tag",verticalAlign:"middle"})}),l.a.createElement(Mo,e),l.a.createElement(Co,{"data-cy":ne.b.PAYMENT_METHOD_PHONE,disabled:!0,placeholder:i.formatMessage(ho.phone),icon:l.a.createElement(N.a,{mega:!0,name:"device-mobile",verticalAlign:"middle"})}))}function Do(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var zo=function(e){Object(o.a)(n,e);var t=Do(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return l.a.createElement(Ao,this.props)}}]),n}(l.a.Component);var Po=Object(d.createStructuredSelector)({isTicketReadOnly:h.d,ticketVoucherPaymentError:g,totalAmount:h.o,remainingAmount:h.n,creditCardPaymentAmount:h.i,cashPaymentAmount:h.h,voucherPaymentAmount:h.p,voucherPaymentConcept:h.q}),Fo=Object(s.connect)(Po,function(e){return{updateTicketPayment:function(t){return e(Object(O.p)(t))},addVoucherPaymentAmount:function(t){return e(Object(O.a)(t))},removeVoucherPaymentAmount:function(){return e(Object(O.o)())}}})(Object(m.e)(zo)),_o=n(416);var Uo=Object(m.d)({title:{id:"kz.containers.TicketPaymentsContainer.title",defaultMessage:"Payment Method"}});function Vo(){var e=Object(E.a)(["\n  height: calc(100% - 44px);\n  padding: 10px;\n"]);return Vo=function(){return e},e}function No(){var e=Object(E.a)(["margin-left: 10px;"]);return No=function(){return e},e}function Bo(){var e=Object(E.a)(["\n  margin: 0;\n  padding: 0;\n  display: table-cell;\n  vertical-align: middle;\n  cursor: pointer;\n  transition: color .5s ease-in-out;\n  &:hover {\n    color: #73c990;\n  }\n"]);return Bo=function(){return e},e}function Lo(){var e=Object(E.a)(["\n  // height: calc(25% - 30px);\n  height: 25%;\n  width: 100%;\n  display: table;\n  // background-color: rgba(163, 168, 174, 0.05);\n  background-color: rgba(163, 168, 174, 0.1);\n  color: #6494ed;\n  margin: 0;\n  padding-left: 30px;\n  font-size: 1.8em;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  font-weight: 100;\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n  // margin: 25px 0;\n  &::selection {\n    color: rgba(163, 168, 174, 0.6);\n    background-color: rgba(163, 168, 174, 0.1);\n  }\n"]);return Lo=function(){return e},e}function Ko(){var e=Object(E.a)(["\n  width: 100%;\n  height: 44px;\n  background-color: rgba(163, 168, 174, 0.1);\n  color: rgba(163, 168, 174, 0.6);\n  margin: 0;\n  padding: 0;\n  line-height: 2.5em;\n  font-size: 1.5em;\n  text-align: center;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  font-weight: 400;\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n"]);return Ko=function(){return e},e}function Go(){var e=Object(E.a)(["\n  height: 100%;\n  padding: ",";\n"]);return Go=function(){return e},e}function Ho(){var e=Object(E.a)(["\nposition: absolute;\ndisplay: inline-block;\ntop: 4px;\nleft: ","px;\ncursor: pointer;\nz-index: 99;\ncolor: ",";\n&:before {\n  transform: translate(8px, 8px);\n  content: ",";\n  font-family: 'octicons';\n  font-weight: normal;\n  font-style: normal;\n  font-size: 16px;\n  display: inline-block;\n  -webkit-font-smoothing: antialiased;\n  position: relative;\n  top: 3px;\n}\n"]);return Ho=function(){return e},e}function Wo(){var e=Object(E.a)(["\n  position: relative;\n  box-sizing: border-box;\n  height: 100%;\n  z-index: 2;\n  min-width: 300px;\n  width: 300px;\n  max-width: 300px;\n  background-color: ",";\n  color: ",";\n  padding: 0;\n  border-left: ",";\n"]);return Wo=function(){return e},e}var $o=j.c.div(Wo(),function(e){return e.theme&&e.theme.app.bgColor?e.theme.app.bgColor:"#161719"},function(e){return e.theme&&e.theme.app.color?e.theme.app.color:" #a3a8ae"},function(e){return e.theme&&e.theme.app.border?e.theme.app.border:"1px solid #27292c"}),qo=j.c.span(Ho(),function(e){return e.expanded?"6":"3"},function(e){return e.theme&&e.theme.app.switchPanelIconColor?e.theme.app.switchPanelIconColor:"rgba(255, 255, 255, 0.4)"},function(e){return e.expanded?'"\\F078"':'"\\F0A4"'}),Jo=j.c.div(Go(),function(e){return e.theme&&e.theme.app.padding?e.theme.app.padding:"0px"}),Yo=j.c.p(Ko());function Xo(e){return l.a.createElement(Jo,null,l.a.createElement(Yo,null,e.title),e.children)}j.c.div(Lo()),j.c.div(Bo()),j.c.span(No());j.c.div(Vo());var Qo=Object(d.createStructuredSelector)({ticketPaymentsVisibility:Object(d.createSelector)(function(e){return e.tmp.visibility.tickets},function(e){return e.payments})});var Zo=Object(s.connect)(Qo,function(e){return{toggleTicketPaymentsVisibility:function(){return e({type:_o.a})}}})(function(e){return l.a.createElement($o,null,l.a.createElement(qo,{expanded:e.ticketPaymentsVisibility,title:"Expand/Collapse Ticket Payments",onClick:function(){return e.toggleTicketPaymentsVisibility()}}),l.a.createElement(Xo,{title:l.a.createElement(m.a,Uo.title)},l.a.createElement(Fo,null)))}),ec=n(263),tc=n(262);function nc(){var e=Object(E.a)(["\n  height: 100%;\n  padding: ",";\n"]);return nc=function(){return e},e}var rc=j.c.section(nc(),function(e){return e.theme&&e.theme.app.padding?e.theme.app.padding:"0px"}),ac=n(20),oc=n(21);function cc(){var e=Object(E.a)(["\n  width: 12.5%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  border-right: 1px solid rgba(163, 168, 174, 0.1);\n"]);return cc=function(){return e},e}var ic=j.c.div(cc());function uc(){var e=Object(E.a)(["\n  display: block;\n  position: relative;\n  width: 100%;\n  height: 100%;\n"]);return uc=function(){return e},e}var lc=j.c.div(uc());function sc(){var e=Object(E.a)(["\n  outline: none;\n  font-size: 1.3em;\n  margin-left: 5px;\n  width: 150px;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  font-weight: 100;\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n\n  &::-webkit-input-placeholder {\n    /* WebKit, Blink, Edge */\n    color: rgba(163, 168, 174, 0.9);\n  }\n  &:-moz-placeholder {\n    /* Mozilla Firefox 4 to 18 */\n    color: rgba(163, 168, 174, 0.9);\n    opacity: 1;\n  }\n  &::-moz-placeholder {\n    /* Mozilla Firefox 19+ */\n    color: rgba(163, 168, 174, 0.9);\n    opacity: 1;\n  }\n  &:-ms-input-placeholder {\n    /* Internet Explorer 10-11 */\n    color: rgba(163, 168, 174, 0.9);\n  }\n  &::-ms-input-placeholder {\n    /* Microsoft Edge */\n    color: rgba(163, 168, 174, 0.9);\n  }\n"]);return sc=function(){return e},e}function pc(){var e=Object(E.a)(["\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  margin-left: 10px;\n  padding-top: 10px;\n  padding-right: 10px;\n  &::-webkit-input-placeholder {\n    opacity: 1;\n    -webkit-transition: all 0.2s;\n    transition: all 0.2s;\n  }\n  &::-moz-placeholder {\n    opacity: 1;\n    -webkit-transition: all 0.2s;\n    transition: all 0.2s;\n  }\n  &:-ms-input-placeholder {\n    opacity: 1;\n    -webkit-transition: all 0.2s;\n    transition: all 0.2s;\n  }\n  &::placeholder {\n    opacity: 1;\n    -webkit-transition: all 0.2s;\n    transition: all 0.2s;\n  }\n  &:placeholder-shown:not(:focus)::-webkit-input-placeholder {\n    opacity: 0;\n  }\n  &:placeholder-shown:not(:focus)::-moz-placeholder {\n    opacity: 0;\n  }\n  &:placeholder-shown:not(:focus):-ms-input-placeholder {\n    opacity: 0;\n  }\n  &:placeholder-shown:not(:focus)::placeholder {\n    opacity: 0;\n  }\n  &:placeholder-shown:not(:focus) + * {\n    font-size: 1.7em;\n    opacity: 0.5;\n    top: 0.35em;\n  }\n  &:focus {\n    outline: none;\n    border-color: rgba(0, 0, 0, 0.5);\n  }\n"]);return pc=function(){return e},e}var fc=j.c.input(sc()).extend(pc());function dc(){var e=Object(E.a)(["\n  position: absolute;\n  pointer-events: none; // makes the input ot get focus having the label on top of it\n  left: 0;\n  top: ",";\n  cursor: text;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  font-weight: 100;\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n  opacity: ",";\n  -webkit-transition: all 0.2s;\n  transition: all 0.2s;\n  margin-left: 10px;\n  font-size: ",";\n  user-select: none;\n  width: 90%;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]);return dc=function(){return e},e}var hc=j.c.label(dc(),function(e){return e.readonly?".35em":"0"},function(e){return e.readonly?".5":"1"},function(e){return e.readonly?"1.7em":"14px"});function mc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var vc=function(e){Object(o.a)(n,e);var t=mc(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={value:e.value||""},a}return Object(a.a)(n,[{key:"componentWillReceiveProps",value:function(e){this.setState({value:e.value})}},{key:"render",value:function(){var e=this;return l.a.createElement(ic,null,l.a.createElement(lc,null,!this.props.readonly&&l.a.createElement(fc,{type:"text",placeholder:this.props.placeholder,onChange:function(t){var n=t.target;return e.setState({value:n.value},function(){return e.props.onChange(n.value)})},value:this.state.value}),l.a.createElement(hc,{readonly:this.props.readonly,title:this.props.placeholder},this.props.placeholder)))}}]),n}(l.a.Component);function bc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var gc=function(e){Object(o.a)(n,e);var t=bc(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={value:e.value||""},a}return Object(a.a)(n,[{key:"componentWillReceiveProps",value:function(e){this.setState({value:e.value})}},{key:"stopPropagation",value:function(e){return e.preventDefault(),e.stopPropagation(),!1}},{key:"render",value:function(){var e=this;return l.a.createElement(ic,null,l.a.createElement(lc,null,!this.props.readonly&&l.a.createElement(fc,{type:"text",placeholder:this.props.placeholder,onChange:function(t){var n=t.target;return e.setState({value:n.value},function(){return e.props.onChange(n.value)})},onKeyDown:function(t){var n=t.target;switch(t.key){case"Enter":return e.props.onEnter&&e.props.onEnter(n.value),e.stopPropagation(t);case"ArrowUp":return e.props.onMoveUp&&e.props.onMoveUp(n.value),e.stopPropagation(t);case"ArrowDown":return e.props.onMoveDown&&e.props.onMoveDown(n.value),e.stopPropagation(t);case"Escape":return e.props.onEscape&&e.props.onEscape(n.value),e.stopPropagation(t)}return!0},value:this.state.value}),l.a.createElement(hc,{readonly:this.props.readonly},this.props.placeholder)))}}]),n}(l.a.Component);function yc(){var e=Object(E.a)(["\nwidth: 6.25%;\nheight: 100%;\nmargin: 0;\npadding: 0;\nborder-right: 1px solid rgba(163, 168, 174, 0.1);\n"]);return yc=function(){return e},e}var kc=j.c.div(yc());function Oc(){var e=Object(E.a)(["\nwidth: 100%;\nheight: 100%;\nborder: none;\nmargin: 0;\n&:hover {\n  border: none\n}\n"]);return Oc=function(){return e},e}var Ec=Object(j.c)(R.a)(Oc());var jc=function(e){return l.a.createElement(kc,null,l.a.createElement(Ec,e))},xc=n(425);function wc(){var e=Object(E.a)(["\n  width: ",";\n  height: 44px;\n  display: flex;\n  flex: 0 1 auto;\n  flex-direction: row;\n  background-color: ",";\n  color: ",";\n"]);return wc=function(){return e},e}var Tc=j.c.div(wc(),function(e){return e.content?"calc(100% - 5px)":"100%"},function(e){return e.even?e.theme.tables.bgColorEven:e.theme.tables.bgColor},function(e){return e.even?e.theme.tables.colorEven:e.theme.tables.color}),Sc=n(78);function Rc(){var e=Object(E.a)(["\n  width: 100%;\n  padding: 5px 10px;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  font-weight: ",";\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n  font-size: 1.3em;\n  color: ",";\n  background-color: ",";\n"]);return Rc=function(){return e},e}function Cc(){var e=Object(E.a)(["\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  text-align: center;\n"]);return Cc=function(){return e},e}function Ic(){var e=Object(E.a)(["\n  position: absolute;\n  margin-top: -155px;\n  background-color: rgba(100, 100, 100, 0.6);\n  color: white;\n  padding: 0;\n"]);return Ic=function(){return e},e}var Mc=j.c.div(Ic()),Ac=j.c.ul(Cc()),Dc=j.c.li(Rc(),function(e){return e.selected?"400":"100"},function(e){return e.selected?"#73c990":"inherit"},function(e){return e.selected?"rgba(255, 255, 255, 0.1)":"transparent"});function zc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var Pc=function(e){return/^[1-9][0-9]*$/.test(e)},Fc=function(e){Object(o.a)(n,e);var t=zc(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).state={reference:"",brand:"",gender:"",colors:[],size:"",price:"",amount:"",matchIndex:0,matchesVisible:!1},e}return Object(a.a)(n,[{key:"search",value:function(){var e=[["reference",this.state.reference,function(e){return{$regex:new RegExp(e,"gi")}}],["brand",this.state.brand,function(e){return{$eq:e}}],["size",this.state.size,function(e){return{$eq:e}}],["price",this.state.price,function(e){return{$gte:parseFloat(e),$lt:parseFloat(e)+1}}],["amount",this.state.amount,function(e){return{$eq:e}}],["gender",this.state.gender,function(e){return{$eq:e}}],["colors",this.state.colors,function(e){return{$eq:e}}]].filter(function(e){return!Object(S.isEmpty)(e[1])}).map(function(e){return Object(ac.a)({},e[0],e[2](e[1]))});this.props.searchStock(e.length?{$or:e}:{},this.props.limit,this.props.skip)}},{key:"openModal",value:function(){oc.a.publish(oc.a.topics.MODAL_OPENED,xc.a)}},{key:"getMatches",value:function(e){e&&this.props.getMatches("reference",e)}},{key:"shouldDisplayMatches",value:function(){var e=this;return this.state.matchesVisible&&this.state.reference&&!!this.state.reference.length&&this.props.matches&&this.props.matches.length>1&&this.props.matches.every(function(t){return t.startsWith(e.state.reference)&&t!==e.state.reference})}},{key:"render",value:function(){var e=this;return l.a.createElement("section",null,this.shouldDisplayMatches()&&l.a.createElement(Mc,null,l.a.createElement(Ac,null,this.props.matches.map(function(t,n){return l.a.createElement(Dc,{onClick:function(){return e.setState({reference:t,matchIndex:0})},selected:e.state.matchIndex===n},t)}))),l.a.createElement(Tc,{content:!0},l.a.createElement(gc,{placeholder:this.props.intl.formatMessage(Sc.a.reference),value:this.state.reference,onChange:function(t){return e.setState({reference:t,matchIndex:0,matchesVisible:!0},function(){return e.getMatches(t)})},onMoveUp:function(){return e.setState({matchIndex:(e.state.matchIndex>0?e.state.matchIndex-1:e.props.matches.length-1)%e.props.matches.length})},onMoveDown:function(){return e.setState({matchIndex:(e.state.matchIndex+1)%e.props.matches.length})},onEscape:function(){return e.setState({matchesVisible:!1})},onEnter:function(){return e.setState({reference:e.shouldDisplayMatches()?e.props.matches[e.state.matchIndex]:e.state.reference})}}),l.a.createElement(vc,{placeholder:this.props.intl.formatMessage(Sc.a.brand),value:this.state.brand,onChange:function(t){return e.setState({brand:t})}}),l.a.createElement(vc,{placeholder:this.props.intl.formatMessage(Sc.a.gender),value:this.state.gender,onChange:function(t){return e.setState({gender:t})}}),l.a.createElement(vc,{placeholder:this.props.intl.formatMessage(Sc.a.color),value:this.state.colors.join(),onChange:function(t){return e.setState({colors:t?[t]:[]})}}),l.a.createElement(vc,{placeholder:this.props.intl.formatMessage(Sc.a.size),value:this.state.size,onChange:function(t){return e.setState({size:Pc(t)?parseInt(t,10):t?e.state.size:""})}}),l.a.createElement(vc,{placeholder:this.props.intl.formatMessage(Sc.a.price),value:this.state.price,onChange:function(t){return e.setState({price:(n=t,/^[1-9][0-9]*\.?[0-9]{0,2}$/.test(n)?t:t?e.state.price:"")});var n}}),l.a.createElement(vc,{placeholder:this.props.intl.formatMessage(Sc.a.amount),value:this.state.amount,onChange:function(t){return e.setState({amount:Pc(t)?parseInt(t,10):t?e.state.amount:""})}}),l.a.createElement(jc,{primary:!0,icon:"search",onClick:function(){return e.search()}}),l.a.createElement(jc,{primary:!0,icon:"plus",onClick:function(){return e.props.createStock({reference:e.state.reference,brand:e.state.brand,size:e.state.size,price:parseFloat(e.state.price),amount:e.state.amount,gender:e.state.gender,colors:e.state.colors})}}),l.a.createElement(jc,{primary:!0,icon:"cloud-upload",onClick:function(){return e.openModal()}})))}}]),n}(l.a.Component);function _c(){var e=Object(E.a)(["\nwidth: 100%;\nheight: 100%;\noverflow: auto;\n"]);return _c=function(){return e},e}var Uc=j.c.div(_c()),Vc=function(e){return/^[1-9][0-9]*\.?[0-9]{0,2}$/.test(e)};var Nc=function(e){var t=this;return console.log(e.items),l.a.createElement(Uc,null,e.items.map(function(n,r){var a=n._data;return l.a.createElement(Tc,{key:r,even:(r+1)%2},l.a.createElement(vc,{placeholder:a.reference||t.props.intl.formatMessage(Sc.a.reference),readonly:!0}),l.a.createElement(vc,{placeholder:a.brand||t.props.intl.formatMessage(Sc.a.brand),value:e.tmp[a.reference]&&e.tmp[a.reference].brand?e.tmp[a.reference].brand:"",onChange:function(t){return e.updateTmpData(a.reference,{brand:t})}}),l.a.createElement(vc,{placeholder:a.gender||t.props.intl.formatMessage(Sc.a.gender),value:e.tmp[a.reference]&&e.tmp[a.reference].gender?e.tmp[a.reference].gender:"",onChange:function(t){return e.updateTmpData(a.reference,{gender:t})}}),l.a.createElement(vc,{placeholder:a.colors.join()||t.props.intl.formatMessage(Sc.a.color),value:e.tmp[a.reference]&&e.tmp[a.reference].colors?e.tmp[a.reference].colors.join(","):"",onChange:function(t){return e.updateTmpData(a.reference,{colors:t.split(",").map(function(e){return e.trim()})})}}),l.a.createElement(vc,{placeholder:a.size||t.props.intl.formatMessage(Sc.a.size),value:e.tmp[a.reference]&&e.tmp[a.reference].size?e.tmp[a.reference].size:"",onChange:function(t){return e.updateTmpData(a.reference,{size:parseInt(t,10)})}}),l.a.createElement(vc,{placeholder:a.price.toFixed(2),value:e.tmp[a.reference]&&e.tmp[a.reference].price?e.tmp[a.reference].price:"",onChange:function(t){return e.updateTmpData(a.reference,{price:Vc(t)?t:t&&e.tmp[a.reference]?e.tmp[a.reference].price:""})}}),l.a.createElement(vc,{placeholder:a.amount||e.intl.formatMessage(Sc.a.amount),value:e.tmp[a.reference]&&e.tmp[a.reference].amount?e.tmp[a.reference].amount:"",onChange:function(t){return e.updateTmpData(a.reference,{amount:parseInt(t,10)})}}),l.a.createElement(jc,{primary:!0,icon:"check",onClick:function(){e.onUpdate(Object(T.a)({},a,e.tmp[a.reference]))}}),l.a.createElement(jc,{primary:!0,icon:"remove-close",onClick:function(){return e.onRemove(a)}}),l.a.createElement(jc,{primary:!0,icon:"link-external",onClick:function(){return e.addStockToTicket(a)}}))}))};function Bc(){var e=Object(E.a)(["\n  /*width: ",";*/\n  width: 100%;\n  height: calc(100% - 88px);\n  display: flex;\n  flex: 0 1 auto;\n  flex-direction: row;\n"]);return Bc=function(){return e},e}var Lc=j.c.div(Bc(),function(e){return e.content?"calc(100% - 5px)":"100%"});function Kc(){var e=Object(E.a)(["\nfont-size: 1.1em;\nmargin-bottom: 0;\n"]);return Kc=function(){return e},e}var Gc=j.c.p(Kc());function Hc(){var e=Object(E.a)(["\nfont-size: .9em;\nfont-weight: 200;\nmargin-top: 5px;\n"]);return Hc=function(){return e},e}var Wc=j.c.p(Hc());var $c=function(e){return l.a.createElement(Lc,{content:!0},!e.total&&l.a.createElement(oe.a,null,l.a.createElement(ce.a,{icon:"thumbsdown"},l.a.createElement(Gc,null,l.a.createElement(m.a,Sc.a.notFound)),l.a.createElement(Wc,null,l.a.createElement(m.a,Sc.a.notFoundHelp)))),!!e.total&&l.a.createElement(Nc,{intl:e.intl,items:e.items,onRemove:function(t){var n=t.reference;return e.removeStock(n,e.limit,e.skip,e.search)},onUpdate:function(t){return e.updateStock(t)},tmp:e.tmp,updateTmpData:e.updateTmpData,addStockToTicket:e.addStockToTicket}))};function qc(){var e=Object(E.a)(["\nheight: 44px;\nbackground-color: ",";\nwidth: ",";\ndisplay: table;\n"]);return qc=function(){return e},e}var Jc=j.c.div(qc(),function(e){return e.count%2===0?"rgba(163,168,174,0.2)":"rgba(163, 168, 174, 0.1)"},function(e){return e.count?"calc(100% - 5px)":"100%"});function Yc(){var e=Object(E.a)(["\nheight: 100%;\ntext-align: ",";\ndisplay: table-cell;\nvertical-align: middle;\n"]);return Yc=function(){return e},e}var Xc=j.c.div(Yc(),function(e){return e.right?"right":"left"});function Qc(){var e=Object(E.a)(["\n  cursor: ",";\n  z-index: 99;\n  color: ",";\n  &:before {\n    content: ",";\n    font-family: 'octicons';\n    font-weight: normal;\n    font-style: normal;\n    font-size: 16px;\n    display: inline-block;\n    -webkit-font-smoothing: antialiased;\n  }\n  margin: 0 5px;\n  transition: all 0.5s ease-in-out;\n  &:hover {\n    color: ",";\n  }\n"]);return Qc=function(){return e},e}function Zc(){var e=Object(E.a)(["\n  cursor: pointer;\n  z-index: 99;\n  color: rgba(255, 255, 255, 0.35);\n  &:before {\n    content: '\\F087';\n    font-family: 'octicons';\n    font-weight: normal;\n    font-style: normal;\n    font-size: 16px;\n    display: inline-block;\n    -webkit-font-smoothing: antialiased;\n  }\n  margin: 0 5px;\n  transition: all 0.5s ease-in-out;\n  &:hover {\n    color: rgba(255, 255, 255, 0.55);\n  }\n"],["\n  cursor: pointer;\n  z-index: 99;\n  color: rgba(255, 255, 255, 0.35);\n  &:before {\n    content: '\\\\F087';\n    font-family: 'octicons';\n    font-weight: normal;\n    font-style: normal;\n    font-size: 16px;\n    display: inline-block;\n    -webkit-font-smoothing: antialiased;\n  }\n  margin: 0 5px;\n  transition: all 0.5s ease-in-out;\n  &:hover {\n    color: rgba(255, 255, 255, 0.55);\n  }\n"]);return Zc=function(){return e},e}function ei(){var e=Object(E.a)(["\n  cursor: pointer;\n  z-index: 99;\n  color: rgba(255, 255, 255, 0.35);\n  &:before {\n    content: '\\F00B';\n    font-family: 'octicons';\n    font-weight: normal;\n    font-style: normal;\n    font-size: 16px;\n    display: inline-block;\n    -webkit-font-smoothing: antialiased;\n  }\n  margin: 0 10px;\n  transition: all 0.5s ease-in-out;\n  &:hover {\n    color: rgba(255, 255, 255, 0.55);\n  }\n"],["\n  cursor: pointer;\n  z-index: 99;\n  color: rgba(255, 255, 255, 0.35);\n  &:before {\n    content: '\\\\F00B';\n    font-family: 'octicons';\n    font-weight: normal;\n    font-style: normal;\n    font-size: 16px;\n    display: inline-block;\n    -webkit-font-smoothing: antialiased;\n  }\n  margin: 0 10px;\n  transition: all 0.5s ease-in-out;\n  &:hover {\n    color: rgba(255, 255, 255, 0.55);\n  }\n"]);return ei=function(){return e},e}var ti=j.c.span(ei()),ni=j.c.span(Zc()),ri=j.c.span(Qc(),function(e){return e.enabled?"pointer":"default"},function(e){return e.enabled?"rgba(255, 255, 255, 0.5)":"rgba(255, 255, 255, 0.25)"},function(e){return e.next?'"\\F078"':'"\\F0A4"'},function(e){return e.enabled?"rgba(255, 255, 255, 0.8)":"rgba(255, 255, 255, 0.25)"});function ai(){var e=Object(E.a)(["\nmargin: 0 10px;\n"]);return ai=function(){return e},e}var oi=j.c.span(ai());var ci=function(e){var t=e.total,n=e.limit,r=e.skip,a=e.search,o=e.refreshStock,c=e.exportStock,i=Math.floor(r/n),u=Math.ceil(t/n)-1,s=i>0,p=i<u;return l.a.createElement(Jc,null,l.a.createElement(Xc,null,l.a.createElement(ti,{onClick:function(){return c(!1)}}),l.a.createElement(ni,{onClick:function(){return o(n,0)}})),l.a.createElement(Xc,{right:!0},l.a.createElement("span",null,r+1," ... ",r+n," ",l.a.createElement(m.a,Sc.a.paginationOf)," ",t),l.a.createElement(oi,null,l.a.createElement(ri,{onClick:function(){return s?o(n,r-n,a):null},enabled:s}),l.a.createElement(ri,{onClick:function(){return p?o(n,r+n,a):null},enabled:p,next:!0}))))};var ii=Object(d.createStructuredSelector)({items:Object(ec.b)(),limit:Object(ec.c)(),skip:Object(ec.f)(),total:Object(ec.a)(),search:Object(ec.h)(),matches:Object(ec.g)(),tmp:Object(ec.i)()});var ui=Object(s.connect)(ii,function(e){return{createStock:function(t){return e(Object(tc.a)(t))},updateStock:function(t){return e(Object(tc.h)(t))},refreshStock:function(t,n){return e(Object(tc.d)(t,n))},removeStock:function(t){return e(Object(tc.e)(t))},exportStock:function(t){return e(Object(tc.b)(t))},searchStock:function(t,n,r){return e(Object(tc.f)(t,n,r))},getMatches:function(t,n){return e(Object(tc.c)(t,n))},updateTmpData:function(t,n){return e(Object(tc.i)(t,n))},addStockToTicket:function(t){return e((n=t,{type:k.p,put:k.a,item:n}));var n}}})(Object(m.e)(function(e){return l.a.createElement(rc,null,l.a.createElement(Fc,e),l.a.createElement($c,e),l.a.createElement(ci,e))})),li="ui/StockItems/CREATE_STOCK_ACTION",si="ui/StockItems/UPDATE_STOCK_ACTION",pi="ui/StockItems/REFRESH_STOCK_ACTION",fi="ui/StockItems/REMOVE_STOCK_ACTION",di="ui/StockItems/EXPORT_STOCK_ACTION",hi="ui/StockItems/SEARCH_STOCK_ACTION",mi="ui/StockItems/GET_MATCHES_STOCK_ACTION",vi="ui/StockItems/UPDATE_TMP_STOCK_DATA_ACTION",bi="ui/StockItems/UPDATE_STOCK_MODAL_OPTION_ACTION",gi=["json","yaml","csv"];function yi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:li,stock:e,options:t}}function ki(){var e=Object(E.a)(["\n  height: 100%;\n  padding: ",";\n  input:required { ","\n    box-shadow:none;\n  }\n"]);return ki=function(){return e},e}var Oi=j.c.section(ki(),function(e){return e.theme&&e.theme.app.padding?e.theme.app.padding:"0px"},""),Ei=n(286);function ji(){var e=Object(E.a)(["\n  width: 12.5%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  border-right: 1px solid rgba(163, 168, 174, 0.1);\n"]);return ji=function(){return e},e}var xi=j.c.div(ji());function wi(){var e=Object(E.a)(["\n  width: 37.5%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  border-right: 1px solid rgba(163, 168, 174, 0.1);\n"]);return wi=function(){return e},e}var Ti=j.c.div(wi());function Si(){var e=Object(E.a)(["\n  display: block;\n  position: relative;\n  width: 100%;\n  height: 100%;\n"]);return Si=function(){return e},e}var Ri=j.c.div(Si());function Ci(){var e=Object(E.a)(["\n  outline: none;\n  font-size: 1.3em;\n  margin-left: 5px;\n  width: 150px;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  font-weight: 100;\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n\n  &::-webkit-input-placeholder {\n    /* WebKit, Blink, Edge */\n    color: rgba(163, 168, 174, 0.9);\n  }\n  &:-moz-placeholder {\n    /* Mozilla Firefox 4 to 18 */\n    color: rgba(163, 168, 174, 0.9);\n    opacity: 1;\n  }\n  &::-moz-placeholder {\n    /* Mozilla Firefox 19+ */\n    color: rgba(163, 168, 174, 0.9);\n    opacity: 1;\n  }\n  &:-ms-input-placeholder {\n    /* Internet Explorer 10-11 */\n    color: rgba(163, 168, 174, 0.9);\n  }\n  &::-ms-input-placeholder {\n    /* Microsoft Edge */\n    color: rgba(163, 168, 174, 0.9);\n  }\n"]);return Ci=function(){return e},e}function Ii(){var e=Object(E.a)(["\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  margin-left: 10px;\n  padding-top: 10px;\n  padding-right: 10px;\n  &::-webkit-input-placeholder {\n    opacity: 1;\n    -webkit-transition: all 0.2s;\n    transition: all 0.2s;\n  }\n  &::-moz-placeholder {\n    opacity: 1;\n    -webkit-transition: all 0.2s;\n    transition: all 0.2s;\n  }\n  &:-ms-input-placeholder {\n    opacity: 1;\n    -webkit-transition: all 0.2s;\n    transition: all 0.2s;\n  }\n  &::placeholder {\n    opacity: 1;\n    -webkit-transition: all 0.2s;\n    transition: all 0.2s;\n  }\n  &:placeholder-shown:not(:focus)::-webkit-input-placeholder {\n    opacity: 0;\n  }\n  &:placeholder-shown:not(:focus)::-moz-placeholder {\n    opacity: 0;\n  }\n  &:placeholder-shown:not(:focus):-ms-input-placeholder {\n    opacity: 0;\n  }\n  &:placeholder-shown:not(:focus)::placeholder {\n    opacity: 0;\n  }\n  &:placeholder-shown:not(:focus) + * {\n    font-size: 1.7em;\n    opacity: 0.5;\n    top: 0.35em;\n  }\n  &:focus {\n    outline: none;\n    border-color: rgba(0, 0, 0, 0.5);\n  }\n"]);return Ii=function(){return e},e}var Mi=j.c.input(Ci()).extend(Ii());function Ai(){var e=Object(E.a)(["\n  position: absolute;\n  pointer-events: none; // makes the input ot get focus having the label on top of it\n  left: 0;\n  top: ",";\n  cursor: text;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  font-weight: 100;\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n  opacity: ",";\n  -webkit-transition: all 0.2s;\n  transition: all 0.2s;\n  margin-left: 10px;\n  font-size: ",";\n  user-select: none;\n  width: 90%;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]);return Ai=function(){return e},e}var Di=j.c.label(Ai(),function(e){return e.readonly?".35em":"0"},function(e){return e.readonly?".5":"1"},function(e){return e.readonly?"1.7em":"14px"});function zi(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var Pi=function(e){Object(o.a)(n,e);var t=zi(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={value:e.value||""},a}return Object(a.a)(n,[{key:"componentWillReceiveProps",value:function(e){this.setState({value:e.value})}},{key:"render",value:function(){var e=this,t=this.props.size?Ti:xi;return l.a.createElement(t,null,l.a.createElement(Ri,null,!this.props.readonly&&l.a.createElement(Mi,{required:this.props.required,type:"text",placeholder:this.props.placeholder,onChange:function(t){var n=t.target;return e.setState({value:n.value},function(){return e.props.onChange(n.value)})},value:this.state.value,"data-cy":this.props["data-cy"]}),l.a.createElement(Di,{readonly:this.props.readonly,"data-cy":this.props.readonly&&this.props["data-cy"],title:this.props.placeholder},this.props.placeholder)))}}]),n}(l.a.Component);function Fi(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var _i=function(e){Object(o.a)(n,e);var t=Fi(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={value:e.value||""},a}return Object(a.a)(n,[{key:"componentWillReceiveProps",value:function(e){this.setState({value:e.value})}},{key:"stopPropagation",value:function(e){return e.preventDefault(),e.stopPropagation(),!1}},{key:"render",value:function(){var e=this;return l.a.createElement(xi,null,l.a.createElement(Ri,null,!this.props.readonly&&l.a.createElement(Mi,{required:this.props.required,type:"text",placeholder:this.props.placeholder,onChange:function(t){var n=t.target;return e.setState({value:n.value},function(){return e.props.onChange(n.value)})},onKeyDown:function(t){var n=t.target;switch(t.key){case"Enter":return e.props.onEnter&&e.props.onEnter(n.value),e.stopPropagation(t);case"ArrowUp":return e.props.onMoveUp&&e.props.onMoveUp(n.value),e.stopPropagation(t);case"ArrowDown":return e.props.onMoveDown&&e.props.onMoveDown(n.value),e.stopPropagation(t);case"Escape":return e.props.onEscape&&e.props.onEscape(n.value),e.stopPropagation(t)}return!0},value:this.state.value,"data-cy":this.props["data-cy"]}),l.a.createElement(Di,{readonly:this.props.readonly},this.props.placeholder)))}}]),n}(l.a.Component);function Ui(){var e=Object(E.a)(["\nwidth: 6.25%;\nheight: 100%;\nmargin: 0;\npadding: 0;\nborder-right: 1px solid rgba(163, 168, 174, 0.1);\n"]);return Ui=function(){return e},e}var Vi=j.c.div(Ui());function Ni(){var e=Object(E.a)(["\nwidth: 100%;\nheight: 100%;\nborder: none;\nmargin: 0;\n&:hover {\n  border: none\n}\n"]);return Ni=function(){return e},e}var Bi=Object(j.c)(R.a)(Ni());var Li=function(e){return l.a.createElement(Vi,null,l.a.createElement(Bi,e))},Ki=n(398);function Gi(){var e=Object(E.a)(["\n  width: 550px;\n  margin: 10px auto;\n"]);return Gi=function(){return e},e}function Hi(){var e=Object(E.a)(["\n  width: 550px;\n  margin: auto;\n  border: 2px dotted rgba(163, 168, 174, 0.6);\n  height: 250px;\n  letter-spacing: 0.15em;\n  text-align: center;\n  font-size: 1.7em;\n  display: table;\n  cursor: pointer;\n"]);return Hi=function(){return e},e}function Wi(){var e=Object(E.a)(["\n  width: 600px;\n  color: rgba(163, 168, 174, 0.6);\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-size: 1.5em;\n  font-style: normal;\n  font-weight: 300;\n"]);return Wi=function(){return e},e}var $i=j.c.section(Wi()),qi=j.c.div(Hi()),Ji=j.c.div(Gi()),Yi=$i,Xi=n(52),Qi=n(399),Zi=n(402),eu=n.n(Zi),tu=Object(m.d)({notFound:{id:"kz.containers.StockItems.notFound",defaultMessage:"Hey, Looks as there's no Items!"},notFoundHelp:{id:"kz.containers.StockItems.notFoundHelp",defaultMessage:"Try adding a new one or changing the searching criterias."},modalTitle:{id:"kz.containers.StockItems.modal.title",defaultMessage:"Drop stock file here"},modalDesc:{id:"kz.containers.StockItems.modal.desc",defaultMessage:"Use a csv, json or yaml file extension"},modalHelp:{id:"kz.containers.StockItems.modal.help",defaultMessage:"Need Help ? Download a stock file sample here"},modalLoading:{id:"kz.containers.StockItems.modal.loading",defaultMessage:"Please wait, I'm on it"},modalOptionRemove:{id:"kz.containers.StockItems.modal.option.remove",defaultMessage:"Remove Current Stock"},modalOptionArchive:{id:"kz.containers.StockItems.modal.option.archive",defaultMessage:"Archive Current Stock"},paginationOf:{id:"kz.containers.StockItems.pagination.of",defaultMessage:"of"},reference:{id:"kz.containers.StockItems.table.reference",defaultMessage:"Reference"},brand:{id:"kz.containers.StockItems.table.brand",defaultMessage:"Brand"},desc:{id:"kz.containers.StockItemsBasic.table.desc",defaultMessage:"Description"},price:{id:"kz.containers.StockItems.table.price",defaultMessage:"Price"},amount:{id:"kz.containers.StockItems.table.amount",defaultMessage:"Amount"}});function nu(){var e=Object(E.a)(["\n  cursor: default;\n  padding: 14px;\n  font-size: 11px;\n  font-weight: 400;\n  letter-spacing: 3px;\n  transition: all 0.5s ease-in-out;\n"]);return nu=function(){return e},e}var ru=j.c.div(nu());function au(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var ou=function(e){Object(o.a)(n,e);var t=au(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={loading:!1,items:null,filename:""},a}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.onApproved(function(){return e.saveData()})}},{key:"saveData",value:function(){return!this.state.items.length||(this.props.createStock(this.state.items,{batch:!0,remove:this.props.removeStockOption,archive:this.props.archiveStockOption,filename:this.state.filename}),!0)}},{key:"toJS",value:function(e,t,n){try{switch(t){case gi[0]:return n(null,JSON.parse(e));case gi[1]:return n(null,Object(Qi.safeLoad)(e));case gi[2]:return eu()({colParser:{price:"number",amount:"number"}}).fromString(e).on("end_parsed",function(e){return n(null,e)}).on("error",function(e){return n(e)});default:return e}}catch(r){return n(r)}}},{key:"processFile",value:function(e){var t=this,n=e.name.split("."),r=Object(Xi.a)(n,2)[1];if(gi.includes(r.toLowerCase())&&(window.File&&window.FileReader&&window.FileList&&window.Blob)){var a=new FileReader;a.onerror=function(e){var n=e.target;t.setState({loading:!1,items:[]}),console.error("could not read file, error code",n.error)},a.onloadstart=function(){t.setState({loading:!0})},a.onload=function(){t.toJS(a.result,r.toLowerCase(),function(n,r){return t.setState({loading:!1,items:r,filename:e.name},function(){return t.props.enable()})})},a.readAsText(e,"UTF-8")}}},{key:"openFileContext",value:function(e){this.fileInput&&this.fileInput.click()}},{key:"dropHandler",value:function(e){if(e.preventDefault(),e.dataTransfer.items)for(var t=0;t<e.dataTransfer.items.length;t+=1){var n=e.dataTransfer.items[t];"file"===n.kind&&this.processFile(n.getAsFile())}this.removeDragData(e)}},{key:"dragOverHandler",value:function(e){e.preventDefault()}},{key:"removeDragData",value:function(e){e.dataTransfer.items?e.dataTransfer.items.clear():e.dataTransfer.clearData()}},{key:"downloadSample",value:function(e){e.stopPropagation(),e.preventDefault(),this.props.downloadFile(n.SAMPLE_FILE,"sample_stock_file.csv","text/csv")}},{key:"render",value:function(){var e=this;return l.a.createElement(qi,{draggable:"true",onClick:function(t){var n=t.target;return e.openFileContext(n)},onDrop:function(t){return e.dropHandler(t)},onDragOver:function(t){return e.dragOverHandler(t)}},l.a.createElement("input",{ref:function(t){return e.fileInput=t},type:"file",multiple:"false",accept:".csv,.json,.yaml,text/csv, application/json, application/x-yaml, application/vnd.ms-excel, text/*",onChange:function(t){var n=t.target;return n.files[0]?e.processFile(n.files[0]):null},style:{display:"none"}}),l.a.createElement("div",{style:{display:"table-cell",verticalAlign:"middle"}},l.a.createElement("p",{style:{margin:"2px"}},l.a.createElement(m.a,tu.modalTitle)),l.a.createElement("div",{style:{fontSize:"0.6em",margin:"2px"}},l.a.createElement(m.a,tu.modalDesc),l.a.createElement(dn.a,{animated:!0,color:"inherit",right:"40",top:"5",direction:"down",onClick:function(t){return e.downloadSample(t)}},l.a.createElement(ru,{onClick:function(t){return e.downloadSample(t)}},l.a.createElement(m.a,tu.modalHelp)))),this.state.items&&l.a.createElement("p",{style:{marginTop:"20px",fontSize:"0.6em"}},this.state.items.length?"".concat(this.state.items.length," items found"):"No items found"),this.state.loading&&l.a.createElement("p",{style:{marginTop:"20px",fontSize:"0.6em"}},l.a.createElement(m.a,tu.modalLoading))))}}]),n}(l.a.Component);ou.SAMPLE_FILE="reference, brand, desc, price, amount\n  400, SanDisk, 256GB USB 3.0, 64.95, 10\n  401, Toshiba, 1TB Canvio Basics 2.5, 69.99, 15\n  402, Kingston, DT100G3, 44, 5\n  403, HUIJON,New 1060 Plus Graphic Tablet, 86.99, 5\n  404, Faith, SSD NvMe m.2 1TB, 77.77, 7\n  410, Xiaomi, Redmi note 5 Case, 5.90, 15\n  411, Ryzen, 1600x 3.6GHz, 135.95, 5";var cu=ou;function iu(){var e=Object(E.a)(["\n  background-color: rgba(163, 168, 174, 0.3);\n  border-radius: 22px;\n  cursor: pointer;\n  height: 22px;\n  position: relative;\n  transition: all 300ms ease;\n  width: 45px;\n\n  &::before {\n    content: '';\n    bottom: 0;\n    position: absolute;\n    left: 0;\n    top: 0;\n    transition: all 300ms ease;\n    background-color: rgba(163, 168, 174, 0.2);\n    box-shadow: none;\n    border-radius: inherit;\n    right: 0;\n    transform: scale(0);\n    margin: 2px;\n  }\n\n  &::after {\n    content: '';\n    bottom: 0;\n    position: absolute;\n    left: 0;\n    top: 0;\n    transition: all 300ms ease;\n    background-color: rgba(163, 168, 174, 0.3);\n    border: 0 solid #dedede;\n    border-radius: 22px;\n    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.45);\n    height: 22px;\n    margin-bottom: auto;\n    margin-top: auto;\n    position: absolute;\n    margin: auto 0;\n    width: 22px;\n  }\n"]);return iu=function(){return e},e}function uu(){var e=Object(E.a)(["\n  display: none;\n  &:checked + div {\n    background-color: rgba(163, 168, 174, 0.5);\n    box-shadow: inset 0 0 18px rgba(0, 0, 0, 0.21);\n  }\n  &:checked + div::before {\n    transform: scale(0);\n  }\n  &:checked + div::after {\n    left: 22px;\n  }\n"]);return uu=function(){return e},e}function lu(){var e=Object(E.a)(["\n  align-items: center;\n  display: flex;\n"]);return lu=function(){return e},e}function su(){var e=Object(E.a)(["\n  padding: 10px;\n  position: relative;\n  top: 5px;\n  display: inline-block;\n"]);return su=function(){return e},e}var pu=j.c.div(su()),fu=j.c.label(lu()),du=j.c.input(uu()),hu=j.c.div(iu()),mu=function(e){var t=e.type,n=e.defaultChecked,r=e.onChange;return l.a.createElement(pu,null,l.a.createElement(fu,null,l.a.createElement(du,{type:t,defaultChecked:n,onChange:function(e){var t=e.target;return r(t.checked)}}),l.a.createElement(hu,null)))};function vu(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var bu=function(e){Object(o.a)(n,e);var t=vu(n);function n(e){return Object(r.a)(this,n),t.call(this,e)}return Object(a.a)(n,[{key:"render",value:function(){var e=this;return l.a.createElement(Ji,null,l.a.createElement("div",{style:{display:"inline-block",width:"50%"}},l.a.createElement(mu,{defaultChecked:this.props.removeStockOption,type:"checkbox",style:{marginRight:"5px"},onChange:function(t){return e.props.updateModalOption("removeStock",t)}}),l.a.createElement("label",null,l.a.createElement(m.a,tu.modalOptionRemove))),l.a.createElement("div",{style:{display:"inline-block",width:"50%",paddingLeft:"20px"}},l.a.createElement(mu,{type:"checkbox",defaultChecked:this.props.archiveStockOption,style:{marginRight:"5px"},onChange:function(t){return e.props.updateModalOption("archiveStock",t)}}),l.a.createElement("label",null,l.a.createElement(m.a,tu.modalOptionArchive))))}}]),n}(l.a.Component);function gu(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var yu=function(e){Object(o.a)(n,e);var t=gu(n);function n(e){return Object(r.a)(this,n),t.call(this,e)}return Object(a.a)(n,[{key:"render",value:function(){var e=this;return l.a.createElement(Yi,null,l.a.createElement(cu,Object.assign({enable:function(){return e.props.disableNext(!1)},disable:function(){return e.props.disableNext()},onApproved:function(){var t;return(t=e.props).onApproved.apply(t,arguments)}},this.props,{downloadFile:function(){var t;return(t=e.props).downloadFile.apply(t,arguments)}})),l.a.createElement(bu,this.props))}}]),n}(l.a.Component),ku=Object(d.createStructuredSelector)({removeStockOption:Object(d.createSelector)(function(e){return e.tmp},function(e){return e.modal.removeStock}),archiveStockOption:Object(d.createSelector)(function(e){return e.tmp},function(e){return e.modal.archiveStock})});var Ou=Object(s.connect)(ku,function(e){return{createStock:function(){return e(yi.apply(void 0,arguments))},updateModalOption:function(){return e(function(e,t){return{type:bi,option:e,value:t}}.apply(void 0,arguments))},downloadFile:function(t,n,r){return e(Object(Ki.a)({content:t,fileName:n,mime:r}))}}})(yu);function Eu(){var e=Object(E.a)(["\n  width: ",";\n  height: 44px;\n  display: flex;\n  flex: 0 1 auto;\n  flex-direction: row;\n  background-color: ",";\n  color: ",";\n  ","\n"]);return Eu=function(){return e},e}var ju=j.c.div(Eu(),function(e){return e.content?"calc(100% - 5px)":"100%"},function(e){return e.even?e.theme.tables.bgColorEven:e.theme.tables.bgColor},function(e){return e.even?e.theme.tables.colorEven:e.theme.tables.color},function(e){return e.unValid?"& input:required { &:placeholder-shown:not(:focus) + * { color: rgb(226, 192, 141); opacity:1}}":""});function xu(){var e=Object(E.a)(["\n  width: 100%;\n  padding: 5px 10px;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  font-weight: ",";\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n  font-size: 1.3em;\n  color: ",";\n  background-color: ",";\n"]);return xu=function(){return e},e}function wu(){var e=Object(E.a)(["\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  text-align: center;\n"]);return wu=function(){return e},e}function Tu(){var e=Object(E.a)(["\n  position: absolute;\n  margin-top: -155px;\n  background-color: rgba(100, 100, 100, 0.6);\n  color: white;\n  padding: 0;\n"]);return Tu=function(){return e},e}var Su=j.c.div(Tu()),Ru=j.c.ul(wu()),Cu=j.c.li(xu(),function(e){return e.selected?"400":"100"},function(e){return e.selected?"#73c990":"inherit"},function(e){return e.selected?"rgba(255, 255, 255, 0.1)":"transparent"});function Iu(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var Mu=["reference","price","amount"],Au=function(e){Object(o.a)(n,e);var t=Iu(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).state={unValid:!1,reference:"",brand:"",desc:"",price:"",amount:"",matchIndex:0,matchesVisible:!1},e.validateStockForm=e.validateStockForm.bind(Object(Ei.a)(e)),e.requiredFields=e.requiredFields.bind(Object(Ei.a)(e)),e}return Object(a.a)(n,[{key:"search",value:function(){var e=[["reference",this.state.reference,function(e){return{$regex:new RegExp(e,"gi")}}],["brand",this.state.brand,function(e){return{$eq:e}}],["price",this.state.price,function(e){return{$gte:parseFloat(e),$lt:parseFloat(e)+1}}],["amount",this.state.amount,function(e){return{$eq:e}}],["desc",this.state.desc,function(e){return{$eq:e}}]].filter(function(e){return!Object(S.isEmpty)(e[1])}).map(function(e){return Object(ac.a)({},e[0],e[2](e[1]))});this.props.searchStock(e.length?{$or:e}:{},this.props.limit,this.props.skip)}},{key:"openModal",value:function(){oc.a.publish(oc.a.topics.MODAL_OPENED,Ou)}},{key:"getMatches",value:function(e){e&&this.props.getMatches("reference",e)}},{key:"shouldDisplayMatches",value:function(){var e=this;return this.state.matchesVisible&&this.state.reference&&!!this.state.reference.length&&this.props.matches&&this.props.matches.length>1&&this.props.matches.every(function(t){return t.startsWith(e.state.reference)&&t!==e.state.reference})}},{key:"validateStockForm",value:function(e){var t=!this.requiredFields(e);return this.setState({unValid:t}),!t}},{key:"requiredFields",value:function(e){return Mu.every(function(t){return e[t]})}},{key:"render",value:function(){var e=this,t={reference:this.state.reference,brand:this.state.brand,price:parseFloat(this.state.price),amount:this.state.amount,desc:this.state.desc};return l.a.createElement("section",null,this.shouldDisplayMatches()&&l.a.createElement(Su,null,l.a.createElement(Ru,null,this.props.matches.map(function(t,n){return l.a.createElement(Cu,{onClick:function(){return e.setState({reference:t,matchIndex:0})},selected:e.state.matchIndex===n},t)}))),l.a.createElement(ju,{"data-cy":ne.a.CONTAINER,content:!0,unValid:this.state.unValid},l.a.createElement(_i,{required:-1!==Mu.indexOf("reference"),placeholder:this.props.intl.formatMessage(tu.reference),value:this.state.reference,onChange:function(t){return e.setState({reference:t,matchIndex:0,matchesVisible:!0},function(){return e.getMatches(t)})},onMoveUp:function(){return e.setState({matchIndex:(e.state.matchIndex>0?e.state.matchIndex-1:e.props.matches.length-1)%e.props.matches.length})},onMoveDown:function(){return e.setState({matchIndex:(e.state.matchIndex+1)%e.props.matches.length})},onEscape:function(){return e.setState({matchesVisible:!1})},onEnter:function(){return e.setState({reference:e.shouldDisplayMatches()?e.props.matches[e.state.matchIndex]:e.state.reference})},"data-cy":ne.a.FIELD_REFERENCE}),l.a.createElement(Pi,{placeholder:this.props.intl.formatMessage(tu.brand),value:this.state.brand,onChange:function(t){return e.setState({brand:t})},"data-cy":ne.a.FIELD_BRAND}),l.a.createElement(Pi,{placeholder:this.props.intl.formatMessage(tu.desc),value:this.state.desc,onChange:function(t){return e.setState({desc:t})},size:"30","data-cy":ne.a.FIELD_DESCRIPTION}),l.a.createElement(Pi,{required:-1!==Mu.indexOf("price"),placeholder:this.props.intl.formatMessage(tu.price),value:this.state.price,onChange:function(t){return e.setState({price:(n=t,/^[1-9][0-9]*\.?[0-9]{0,2}$/.test(n)?t:t?e.state.price:"")});var n},"data-cy":ne.a.FIELD_PRICE}),l.a.createElement(Pi,{required:-1!==Mu.indexOf("amount"),placeholder:this.props.intl.formatMessage(tu.amount),value:this.state.amount,onChange:function(t){return e.setState({amount:(n=t,/^[1-9][0-9]*$/.test(n)?parseInt(t,10):t?e.state.amount:"")});var n},"data-cy":ne.a.FIELD_AMOUNT}),l.a.createElement(Li,{primary:!0,icon:"search",onClick:function(){return e.search()}}),l.a.createElement(Li,{primary:!0,icon:"plus","data-cy":ne.a.ADD_ITEM,onClick:function(){return e.validateStockForm(t)&&e.props.createStock(t)}}),l.a.createElement(Li,{primary:!0,icon:"cloud-upload",onClick:function(){return e.openModal()}})))}}]),n}(l.a.Component);function Du(){var e=Object(E.a)(["\nwidth: 100%;\nheight: 100%;\noverflow: auto;\n"]);return Du=function(){return e},e}var zu=j.c.div(Du()),Pu=function(e){return/^[1-9][0-9]*\.?[0-9]{0,2}$/.test(e)};var Fu=function(e){return l.a.createElement(zu,null,e.items.map(function(t,n){var r=t._data;return l.a.createElement(ju,{key:n,even:(n+1)%2,"data-cy":e["data-cy"]},l.a.createElement(Pi,{placeholder:r.reference||e.intl.formatMessage(tu.reference),"data-cy":ne.a.FIELD_REFERENCE,readonly:!0}),l.a.createElement(Pi,{placeholder:r.brand||e.intl.formatMessage(tu.brand),value:e.tmp[r.reference]&&e.tmp[r.reference].brand?e.tmp[r.reference].brand:"",onChange:function(t){return e.updateTmpData(r.reference,{brand:t})}}),l.a.createElement(Pi,{placeholder:r.desc||e.intl.formatMessage(tu.desc),value:e.tmp[r.reference]&&e.tmp[r.reference].desc?e.tmp[r.reference].desc:"",onChange:function(t){return e.updateTmpData(r.reference,{desc:t})},size:"30"}),l.a.createElement(Pi,{placeholder:r.price.toFixed(2),value:e.tmp[r.reference]&&e.tmp[r.reference].price?e.tmp[r.reference].price:"",onChange:function(t){return e.updateTmpData(r.reference,{price:Pu(t)?t:t&&e.tmp[r.reference]?e.tmp[r.reference].price:""})}}),l.a.createElement(Pi,{placeholder:r.amount||e.intl.formatMessage(tu.amount),value:e.tmp[r.reference]&&e.tmp[r.reference].amount?e.tmp[r.reference].amount:"",onChange:function(t){return e.updateTmpData(r.reference,{amount:parseInt(t,10)})}}),l.a.createElement(Li,{primary:!0,icon:"check",onClick:function(){e.onUpdate(Object(T.a)({},r,e.tmp[r.reference]))}}),l.a.createElement(Li,{primary:!0,icon:"remove-close","data-cy":ne.a.REMOVE_ITEM,onClick:function(){return e.onRemove(r)}}),l.a.createElement(Li,{primary:!0,icon:"link-external",disabled:e.isTicketReadOnly,"data-cy":ne.a.ADD_ITEM_TO_TICKET,onClick:function(){return e.createAddOperation(r)}}))}))};function _u(){var e=Object(E.a)(["\n  /*width: ",";*/\n  width: 100%;\n  height: calc(50vh - 115px);\n  display: flex;\n  flex: 0 1 auto;\n  flex-direction: row;\n"]);return _u=function(){return e},e}var Uu=j.c.div(_u(),function(e){return e.content?"calc(100% - 5px)":"100%"});function Vu(){var e=Object(E.a)(["\nfont-size: 1.1em;\nmargin-bottom: 0;\n"]);return Vu=function(){return e},e}var Nu=j.c.p(Vu());function Bu(){var e=Object(E.a)(["\nfont-size: .9em;\nfont-weight: 200;\nmargin-top: 5px;\n"]);return Bu=function(){return e},e}var Lu=j.c.p(Bu());var Ku=function(e){return l.a.createElement(Uu,{"data-cy":ne.a.ITEMS_LIST,content:!0},!e.total&&l.a.createElement(oe.a,null,l.a.createElement(ce.a,{icon:"thumbsdown"},l.a.createElement(Nu,null,l.a.createElement(m.a,tu.notFound)),l.a.createElement(Lu,null,l.a.createElement(m.a,tu.notFoundHelp)))),!!e.total&&l.a.createElement(Fu,{intl:e.intl,items:e.items,onRemove:function(t){var n=t.reference;return e.removeStock(n,e.limit,e.skip,e.search)},onUpdate:function(t){return e.updateStock(t)},tmp:e.tmp,updateTmpData:e.updateTmpData,createAddOperation:e.createAddOperation,isTicketReadOnly:e.isTicketReadOnly,"data-cy":ne.a.ITEM}))};function Gu(){var e=Object(E.a)(["\nheight: 44px;\nbackground-color: ",";\nwidth: ",";\ndisplay: table;\n"]);return Gu=function(){return e},e}var Hu=j.c.div(Gu(),function(e){return e.count%2===0?"rgba(163,168,174,0.2)":"rgba(163, 168, 174, 0.1)"},function(e){return e.count?"calc(100% - 5px)":"100%"});function Wu(){var e=Object(E.a)(["\nheight: 100%;\ntext-align: ",";\ndisplay: table-cell;\nvertical-align: middle;\n"]);return Wu=function(){return e},e}var $u=j.c.div(Wu(),function(e){return e.right?"right":"left"});function qu(){var e=Object(E.a)(["\n  cursor: ",";\n  z-index: 99;\n  color: ",";\n  &:before {\n    content: ",";\n    font-family: 'octicons';\n    font-weight: normal;\n    font-style: normal;\n    font-size: 16px;\n    display: inline-block;\n    -webkit-font-smoothing: antialiased;\n  }\n  margin: 0 5px;\n  transition: all 0.5s ease-in-out;\n  &:hover {\n    color: ",";\n  }\n"]);return qu=function(){return e},e}function Ju(){var e=Object(E.a)(["\n  cursor: pointer;\n  z-index: 99;\n  color: rgba(255, 255, 255, 0.35);\n  &:before {\n    content: '\\F087';\n    font-family: 'octicons';\n    font-weight: normal;\n    font-style: normal;\n    font-size: 16px;\n    display: inline-block;\n    -webkit-font-smoothing: antialiased;\n  }\n  margin: 0 5px;\n  transition: all 0.5s ease-in-out;\n  &:hover {\n    color: rgba(255, 255, 255, 0.55);\n  }\n"],["\n  cursor: pointer;\n  z-index: 99;\n  color: rgba(255, 255, 255, 0.35);\n  &:before {\n    content: '\\\\F087';\n    font-family: 'octicons';\n    font-weight: normal;\n    font-style: normal;\n    font-size: 16px;\n    display: inline-block;\n    -webkit-font-smoothing: antialiased;\n  }\n  margin: 0 5px;\n  transition: all 0.5s ease-in-out;\n  &:hover {\n    color: rgba(255, 255, 255, 0.55);\n  }\n"]);return Ju=function(){return e},e}function Yu(){var e=Object(E.a)(["\n  cursor: pointer;\n  z-index: 99;\n  color: rgba(255, 255, 255, 0.35);\n  &:before {\n    content: '\\F00B';\n    font-family: 'octicons';\n    font-weight: normal;\n    font-style: normal;\n    font-size: 16px;\n    display: inline-block;\n    -webkit-font-smoothing: antialiased;\n  }\n  margin: 0 10px;\n  transition: all 0.5s ease-in-out;\n  &:hover {\n    color: rgba(255, 255, 255, 0.55);\n  }\n"],["\n  cursor: pointer;\n  z-index: 99;\n  color: rgba(255, 255, 255, 0.35);\n  &:before {\n    content: '\\\\F00B';\n    font-family: 'octicons';\n    font-weight: normal;\n    font-style: normal;\n    font-size: 16px;\n    display: inline-block;\n    -webkit-font-smoothing: antialiased;\n  }\n  margin: 0 10px;\n  transition: all 0.5s ease-in-out;\n  &:hover {\n    color: rgba(255, 255, 255, 0.55);\n  }\n"]);return Yu=function(){return e},e}var Xu=j.c.span(Yu()),Qu=j.c.span(Ju()),Zu=j.c.span(qu(),function(e){return e.enabled?"pointer":"default"},function(e){return e.enabled?"rgba(255, 255, 255, 0.5)":"rgba(255, 255, 255, 0.25)"},function(e){return e.next?'"\\F078"':'"\\F0A4"'},function(e){return e.enabled?"rgba(255, 255, 255, 0.8)":"rgba(255, 255, 255, 0.25)"});function el(){var e=Object(E.a)(["\nmargin: 0 10px;\n"]);return el=function(){return e},e}var tl=j.c.span(el());var nl=function(e){var t=e.total,n=e.limit,r=e.skip,a=e.search,o=e.refreshStock,c=e.exportStock,i=Math.floor(r/n),u=Math.ceil(t/n)-1,s=i>0,p=i<u;return l.a.createElement(Hu,null,l.a.createElement($u,null,l.a.createElement(Xu,{onClick:function(){return c(!1)}}),l.a.createElement(Qu,{onClick:function(){return o(n,0)}})),l.a.createElement($u,{right:!0},l.a.createElement("span",null,r+1," ... ",r+n," ",l.a.createElement(m.a,tu.paginationOf)," ",t),l.a.createElement(tl,null,l.a.createElement(Zu,{onClick:function(){return s?o(n,r-n,a):null},enabled:s}),l.a.createElement(Zu,{onClick:function(){return p?o(n,r+n,a):null},enabled:p,next:!0}))))};function rl(){var e=Object(E.a)(["\n  width: 40px;\n  height: 40px;\n  margin: 100px auto;\n  background-color: rgba(187, 183, 183, 0.5);\n  border-radius: 100%;  \n  animation: "," 1.0s infinite ease-in-out;\n"]);return rl=function(){return e},e}function al(){var e=Object(E.a)(["\n  0% { \n    -webkit-transform: scale(0);\n    transform: scale(0);\n  } 100% {\n    -webkit-transform: scale(1.0);\n    transform: scale(1.0);\n    opacity: 0;\n  }\n"]);return al=function(){return e},e}var ol=Object(j.e)(al()),cl=j.c.div(rl(),ol),il=function(){return l.a.createElement(cl,null)};var ul=Object(d.createStructuredSelector)({isTicketReadOnly:h.d,items:Object(d.createSelector)(function(e){return e.stock},function(e){return e.items}),limit:Object(d.createSelector)(function(e){return e.stock},function(e){return e.limit}),skip:Object(d.createSelector)(function(e){return e.stock},function(e){return e.skip}),total:Object(d.createSelector)(function(e){return e.stock},function(e){return e.total}),loading:Object(d.createSelector)(function(e){return e.stock},function(e){return e.loading}),search:Object(d.createSelector)(Object(d.createSelector)(function(e){return e.tmp},function(e){return e.search}),function(e){return e.stock}),matches:Object(d.createSelector)(Object(d.createSelector)(function(e){return e.tmp},function(e){return e.matches}),function(e){return e.stock.reference}),tmp:Object(d.createSelector)(function(e){return e.tmp},function(e){return e.stock})});var ll=Object(s.connect)(ul,function(e){return{createStock:function(t){return e(yi(t))},updateStock:function(t){return e(function(e){return{type:si,stock:e}}(t))},refreshStock:function(t,n){return e(function(e,t,n){return{type:pi,limit:e,skip:t,search:n}}(t,n))},removeStock:function(t){return e(function(e,t,n,r){return{type:fi,reference:e,limit:t,skip:n,search:r}}(t))},exportStock:function(t){return e(function(e){return{type:di,decrypt:e}}(t))},searchStock:function(t,n,r){return e(function(e,t,n){return{type:hi,limit:t,skip:n,search:e}}(t,n,r))},getMatches:function(t,n){return e(function(e,t){return{type:mi,field:e,value:t}}(t,n))},updateTmpData:function(t,n){return e(function(e,t){return{type:vi,reference:e,data:t}}(t,n))},createAddOperation:function(t){return e(Object(O.d)(t))}}})(Object(m.e)(function(e){var t=e.loading,n=Object(Pe.a)(e,["loading"]);return l.a.createElement(Oi,null,t&&l.a.createElement(il,null),!t&&l.a.createElement(Au,n),!t&&l.a.createElement(Ku,n),!t&&l.a.createElement(nl,n))})),sl=n(879);function pl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}n.d(t,"TicketsPage",function(){return fl});var fl=function(e){Object(o.a)(n,e);var t=pl(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"getItemsComponent",value:function(){return this.props.isNewTicket?l.a.createElement(ot,null):this.props.isTicketReadOnly?l.a.createElement(ha,null):l.a.createElement(Fn,null)}},{key:"getStockItemsComponent",value:function(){return"SCHEMA_SHOES"===C.k?l.a.createElement(ui,null):"SCHEMA_BASIC"===C.k?l.a.createElement(ll,null):l.a.createElement(ui,null)}},{key:"render",value:function(){return l.a.createElement(sl.b,null,l.a.createElement(f.a,{title:"Kalzate Ticket",meta:[{name:"description",content:"Ticket"}]}),l.a.createElement(sl.c,null,l.a.createElement(sl.a,null,this.getItemsComponent()),l.a.createElement(sl.a,{w:this.props.ticketTotalVisibility?"300px":"25px"},l.a.createElement(so,null))),l.a.createElement(sl.c,null,l.a.createElement(sl.a,null,this.getStockItemsComponent()),l.a.createElement(sl.a,{w:this.props.ticketPaymentsVisibility?"300px":"25px"},l.a.createElement(Zo,null))))}}]),n}(l.a.Component),dl=Object(d.createStructuredSelector)({ticketTotalVisibility:Object(d.createSelector)(function(e){return e.tmp.visibility.tickets},function(e){return e.total}),isTicketReadOnly:h.d,ticketPaymentsVisibility:Object(d.createSelector)(function(e){return e.tmp.visibility.tickets},function(e){return e.payments}),isNewTicket:h.b});t.default=Object(s.connect)(dl)(fl)}}]);
//# sourceMappingURL=4.d7eb78b3.chunk.js.map