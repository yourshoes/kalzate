{"version":3,"sources":["utils/helper.js","containers/StockItems/constants.js","actions/tickets/types.js","containers/DiscoverPage/constants.js","containers/SettingsPage/actions.js","utils/receipt.js","containers/TicketTotal/constants.js","containers/TicketReturningPage/constants.js","components/Button/StyledButton.js","components/Button/index.js","utils/pubsub.js","containers/StockItems/actions.js","containers/StockItems/selectors.js","containers/TicketTotalContainer/constants.js","../../e2e/cypress/common/selectors/stock.js","../../e2e/cypress/common/selectors/tickets.js","../../e2e/cypress/common/selectors/index.js","components/Tooltip/wrappers.js","components/Tooltip/index.js","containers/TicketSellingPage/constants.js","containers/App/actions.js","containers/TicketPaymentsContainer/constants.js","containers/StockItems/atoms/ModalContainer.js","containers/StockItems/atoms/ImportStockInfoTooltip.js","containers/StockItems/molecules/ModalDropZone.js","containers/StockItems/atoms/Checkbox.js","containers/StockItems/molecules/ModalOptions.js","containers/StockItems/molecules/StockModal.js","actions/tickets/index.js","utils/ticket.js","containers/App/constants.js","config.js","containers/StockItems/messages.js","../external \"esprima\"","lib/serviceWorker.js","../../db/src/rxdb/config.js","../../db/src/rxdb/models/stock/schema.js","../../db/src/rxdb/models/stock/config.js","../../db/src/rxdb/errors/db.js","../../db/src/rxdb/errors/stock.js","../../db/src/rxdb/models/stock/index.js","../../db/src/rxdb/models/stock_basic/schema.js","../../db/src/rxdb/models/stock_basic/config.js","../../db/src/rxdb/models/stock_basic/index.js","../../db/src/rxdb/models/tickets/schema.js","../../db/src/rxdb/errors/tickets.js","../../db/src/rxdb/models/tickets/queries.js","../../db/src/rxdb/models/tickets/index.js","../../db/src/rxdb/models/tickets/config.js","../../db/src/rxdb/models/settings/schema.js","../../db/src/rxdb/models/settings/index.js","../../db/src/rxdb/models/charts/index.js","../../db/src/rxdb/client/index.js","../../db/src/rxdb/index.js","db.js","containers/ThemeProvider/themes.js","containers/ThemeProvider/constants.js","utils/url.js","components/Modal/messages.js","components/Modal/atoms/OverlapLayer.js","components/Modal/atoms/Container.js","components/Modal/atoms/ModalContent.js","components/Modal/atoms/Divider.js","components/Modal/atoms/ModalActions.js","components/Modal/index.js","selectors/settings/index.js","containers/SidebarMenu/messages.js","containers/SidebarMenu/wrappers.js","containers/SidebarMenu/index.js","containers/SidebarMenu/selectors.js","containers/SidebarMenu/actions.js","utils/hotkeys.js","i18n.js","containers/LanguageProvider/selectors.js","containers/LocaleToggle/wrappers.js","containers/LocaleToggle/index.js","containers/ThemeProvider/selectors.js","containers/ThemeToggle/wrappers.js","containers/ThemeToggle/index.js","containers/ThemeProvider/utils.js","components/A/index.js","components/Footer/wrappers.js","components/Footer/messages.js","components/Footer/index.js","components/Tip/wrappers.js","components/Tip/index.js","components/HelperTour/messages.js","components/HelperTour/wrappers.js","components/HelperTour/index.js","containers/FuzzyFinder/messages.js","containers/FuzzyFinder/wrappers.js","containers/FuzzyFinder/index.js","containers/App/wrappers.js","containers/App/messages.js","actions/app/types.js","containers/App/index.js","actions/app/index.js","containers/App/selectors.js","containers/LanguageProvider/index.js","containers/ThemeProvider/index.js","reducers/settings.js","reducers/router.js","reducers/tickets.js","containers/TicketPayments/constants.js","reducers/ticket.js","reducers/stock.js","reducers/tmp.js","reducers/charts.js","containers/LanguageProvider/constants.js","reducers/language.js","reducers/theme.js","reducers.js","sagas/settings/index.js","containers/ThemeProvider/actions.js","containers/LanguageProvider/actions.js","sagas/app/download_file.js","sagas/app/export_database.js","sagas/tickets/update_ticket.js","sagas/tickets/close_ticket.js","sagas/tickets/load.js","sagas/tickets/matches.js","sagas/tickets/print_ticket.js","sagas/tickets/search.js","sagas/tickets/voucher.js","sagas/tickets/summary.js","sagas/stock/create.js","sagas/stock/update.js","sagas/stock/refresh.js","sagas/stock/remove.js","sagas/stock/export.js","sagas/stock/search.js","sagas/stock/matches.js","sagas/charts/load_chart_data.js","sagas/index.js","store.js","global-styles.js","utils/asyncInjectors.js","routes.js","app.js","index.js","containers/SettingsPage/constants.js","selectors/tickets/index.js"],"names":["__webpack_require__","d","__webpack_exports__","Option","getLangItems","platformKeySymbols","toFixed","lodash__WEBPACK_IMPORTED_MODULE_1__","lodash__WEBPACK_IMPORTED_MODULE_1___default","n","ifNotNull","ifNull","lodash","isEmpty","appLocales","locale","Object","keys","map","lang","value","title","marked","key","platformName","arguments","length","undefined","window","navigator","platform","toLowerCase","includes","dotRegex","num","fixed","lastValid","console","log","numString","String","replace","trim","startsWith","test","indexOf","concat","slice","CREATE_STOCK_ACTION","CREATE_STOCK_ERROR_ACTION","UPDATE_STOCK_ACTION","UPDATE_STOCK_ERROR_ACTION","UPDATE_STOCK_SUCCESS_ACTION","START_STOCK_CHANGE_ACTION","REFRESH_STOCK_ACTION","REFRESH_STOCK_ERROR_ACTION","REFRESH_STOCK_SUCCESS_ACTION","REMOVE_STOCK_ACTION","REMOVE_STOCK_ERROR_ACTION","REMOVE_STOCK_SUCCESS_ACTION","EXPORT_STOCK_ACTION","EXPORT_STOCK_ERROR_ACTION","SEARCH_STOCK_ACTION","SEARCH_STOCK_ERROR_ACTION","SEARCH_STOCK_SUCCESS_ACTION","GET_MATCHES_STOCK_ACTION","GET_MATCHES_STOCK_ERROR_ACTION","GET_MATCHES_STOCK_SUCCESS_ACTION","UPDATE_TMP_STOCK_DATA_ACTION","UPDATE_STOCK_MODAL_OPTION_ACTION","FILE_EXTENSIONS_ALLOWED","ADD_STOCK_TO_TICKET_ACTION","RETURN_ITEM_FROM_TICKET_ACTION","REMOVE_STOCK_FROM_TICKET_ACTION","UPDATE_TICKET_OPERATION_ACTION","UPDATE_TICKET_PAYMENT_ACTION","ADD_VOUCHER_PAYMENT_AMOUNT_ACTION","ADD_VOUCHER_PAYMENT_AMOUNT_ERROR_ACTION","ADD_VOUCHER_PAYMENT_AMOUNT_SUCCESS_ACTION","REMOVE_VOUCHER_PAYMENT_AMOUNT_ACTION","CREATE_TICKET_ACTION","CREATE_TICKET_SUCCESS_ACTION","LOAD_TICKET_ACTION","LOAD_TICKET_SUCCESS_ACTION","CREATE_ADD_OPERATION_ACTION","CREATE_REMOVE_OPERATION_ACTION","GET_TICKET_MATCHES_ACTION","GET_TICKET_MATCHES_ERROR_ACTION","GET_TICKET_MATCHES_SUCCESS_ACTION","PRINT_DAILY_SUMMARY_TICKET_ACTION","PRINT_TICKET_ACTION","REMOVE_TICKET_ACTION","LOAD_CHART_DATA_ACTION","LOAD_CHART_DATA_SUCCESS_ACTION","updateSetting","_constants__WEBPACK_IMPORTED_MODULE_0__","type","UPDATE_SETTING_ACTION","compileTicketTemplateRegex","compileTicketParamsRegex","removeQuotesRegex","compileTicketReplacer","settings","ticket","str","match","category","field","_len","options","Array","_key","name","address","email","phone","compileTicketPrintShopCase","_options","_private_var_projects_kalzate_kalzate_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","format","date","Date","created_at","getTime","dateFormat","_options2","days","setDate","getDate","parseInt","DEFAULT_RETURN_TICKET_DAYS_ALLOWED","_options$map","option","JSON","parse","_options$map2","fields","padding","paddingGlobal","operations","operation","values","f","i","padEnd","formatDescription","stock","isGift","formatDecimalPlaces","price","getSubtotal","getAmount","compileTicketPrintPreprocess","join","payments","payment","method","PAYMENT_METHOD_CREDIT_CARD","PAYMENT_METHOD_PHONE","PAYMENT_METHOD_CASH","PAYMENT_METHOD_VOUCHER","isDailySummaryTicket","id","formatPrice","ticketProvidedAmount","ticketExchangeAmount","ticketTotalAmount","isVoucher","compileTicketPrintTicketCase","apply","_private_var_projects_kalzate_kalzate_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__","compileTicket","ticketTemplate","bind","e","error","SET_TICKET_GIVEN_AMOUNT_ACTION","INCREASE_TICKET_GIVEN_AMOUNT_ACTION","DECREASE_TICKET_GIVEN_AMOUNT_ACTION","UPDATE_TMP_TICKET_DATA_ACTION","UPDATE_STOCK_TICKET_DATA_ACTION","UNDO_RETURN_STOCK_FROM_TICKET_ACTION","RETURN_STOCK_FROM_TICKET_ACTION","RETURN_ALL_STOCK_FROM_TICKET_ACTION","UPDATE_TICKET_ACTION","GET_MATCHES_TICKETS_ACTION","CLOSE_TICKET_ACTION","UPDATE_TICKET_TAX_ACTION","UPDATE_TICKET_DISCOUNT_ACTION","rippleAnimation","keyframes","_templateObject","Button","styled","button","_templateObject2","props","inactive","color","getColor","primary","secundary","other","objectWithoutProperties","react_default","a","createElement","StyledButton","assign","icon","lib_default","pubsub_js__WEBPACK_IMPORTED_MODULE_0__","pubsub_js__WEBPACK_IMPORTED_MODULE_0___default","PubSub","topics","FUZZY_FINDER_REQUIRED","FUZZY_FINDER_LANG_ITEM_SELECTED","FUZZY_FINDER_THEME_ITEM_SELECTED","FUZZY_FINDER_NOTEBOOK_ITEM_ADDED","FUZZY_FINDER_CLOSED","HELPER_TOUR_TIP_OPENED","HELPER_TOUR_TIP_CLOSED","HELPER_TOUR_TIP_REMOVED","MODAL_OPENED","MODAL_CLOSED","ACTION_SELECTED","createStock","updateStock","refreshStock","removeStock","exportStock","searchStock","getMatches","updateTmpData","updateModalOption","limit","skip","search","reference","decrypt","data","makeSelectStockItems","makeSelectStockLimit","makeSelectStockOffset","makeSelectStockCount","makeSelectStockSearch","makeSelectStockTmpData","makeSelectStockModalRemoveOption","makeSelectStockModalArchiveOption","makeSelectStockReferenceMatches","reselect__WEBPACK_IMPORTED_MODULE_0__","createSelector","state","substate","items","total","tmp","matches","modal","archiveStock","TOGGLE_TICKET_TOTAL_VISIBILITY","TOGGLE_RAW_TICKET_VISIBILITY","CONTAINER","ITEMS_LIST","ITEM","FIELD_REFERENCE","FIELD_BRAND","FIELD_DESCRIPTION","FIELD_PRICE","FIELD_AMOUNT","ADD_ITEM","REMOVE_ITEM","CHECK_ITEM","ADD_ITEM_TO_TICKET","PAYMENT_METHOD_VOUCHER_AMOUNT","CHECKOUT_BUTTON","SELL_SAVE_BUTTON","NEW_TICKET_BUTTON","VOUCHER_BUTTON","TICKETS_LIST","RETURN_ITEMS_LIST","RETURN_ITEM_ROW","INCREASE_RETURN_ITEM_BUTTON","tickets","stockSelectors","ticketsSelectors","fadeInAnimation","danceAnimation","Position","position","amount","Container","div","_templateObject3","left","right","top","bottom","Animate","_templateObject4","ToolTip","_templateObject5","theme","tooltips","bgColor","direction","visible","Tip","_this","classCallCheck","this","_super","call","setState","tip","remove","_this2","innerRef","onMouseEnter","event","startReadingTip","onMouseLeave","stopReadingTip","onClick","animated","children","React","Component","LOAD_TICKET_ERROR_ACTION","UPDATE_TICKET_SUCCESS_ACTION","UPDATE_TICKET_ERROR_ACTION","CLOSE_TICKET_ERROR_ACTION","PRINT_TICKET_SUCCESS_ACTION","PRINT_TICKET_ERROR_ACTION","SEARCH_TICKETS_ACTION","SEARCH_TICKETS_ERROR_ACTION","SEARCH_TICKETS_SUCCESS_ACTION","downloadFile","_ref","content","fileName","DOWNLOAD_FILE_ACTION","TOGGLE_TICKET_PAYMENTS_VISIBILITY","ModalContainer","section","DottedContainer","OptionsContainer","ImportStockInfoTooltip","ImportStockInfoTooltip_templateObject","ModalDropZone","_React$Component","inherits","_createSuper","loading","filename","createClass","onApproved","saveData","batch","removeStockOption","archive","archiveStockOption","extension","cb","fromYAML","fromCSV","colParser","size","colors","item","split","fromString","on","file","_this3","_file$name$split","fileExtension","slicedToArray","File","FileReader","FileList","Blob","fileReader","onerror","target","onloadstart","onload","toJS","result","jsContent","enable","readAsText","fileInput","click","preventDefault","dataTransfer","kind","processFile","getAsFile","removeDragData","clear","clearData","stopPropagation","SAMPLE_FILE","_this4","draggable","_ref2","openFileContext","onDrop","dropHandler","onDragOver","dragOverHandler","ref","element","multiple","accept","onChange","_ref3","files","style","display","verticalAlign","margin","index_es","messages","modalTitle","fontSize","modalDesc","Tooltip","downloadSample","modalHelp","marginTop","modalItems","modalNoItems","modalLoading","InnerContainer","Checkbox_templateObject","SwitchLabel","label","Checkbox_templateObject2","SwitchInput","input","Checkbox_templateObject3","SwitchCheckbox","Checkbox","defaultChecked","checked","ModalOptions","ModalOptions_createSuper","width","Checkbox_Checkbox","marginRight","modalOptionRemove","paddingLeft","modalOptionArchive","StockModal","StockModal_createSuper","atoms_ModalContainer","molecules_ModalDropZone","disableNext","disable","_this$props","_this$props2","molecules_ModalOptions","mapStateToProps","createStructuredSelector","connect","dispatch","mime","createAddOperation","ActionTypes","_private_var_projects_kalzate_kalzate_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","createRemoveOperation","updateTicketPayment","addVoucherPaymentAmount","voucherId","addVoucherPaymentAmountSuccess","voucherAmount","addVoucherPaymentAmountError","voucherAmountError","removeVoucherPaymentAmount","createTicket","createTicketSuccess","loadTicket","removeTicket","loadTicketSuccess","getTicketMatches","getTicketMatchesError","getTicketMatchesSuccess","printDailySummaryTicket","number","decimals","DEFAULT_DECIMAL_PLACES","currency","DEFAULT_CURRENCY","abbrv","substring","DEFAULT_SCHEMA_TYPE","desc","brand","c","gender","ADD_ITEM_OPERATION","REMOVE_ITEM_OPERATION","discountType","discountValue","subtotal","DISCOUNT_PERCENTAGE_TYPE","DISCOUNT_FIXED_TYPE","Error","getPaymentAmount","paymentMethod","find","getCreditCardPaymentAmount","getCashPaymentAmount","getVoucherPaymentAmount","getVoucherPaymentConcept","parseOperations","history","_step","mergedOperations","reduce","acc","_ref4","existingOperation","_private_var_projects_kalzate_kalzate_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","_private_var_projects_kalzate_kalzate_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","previousAddedAmount","previousRemovedAmount","addedAmount","removedAmount","_iterator","_createForOfIteratorHelper","s","done","_ref6","currentOperation","isNewEntry","err","marshallTicket","_ref7","isChecked","balance","prevNode","nextNode","DEFAULT_LOCALE","CHANGE_TAKE_AMOUNT","DOWNLOAD_FILE_ERROR_ACTION","DB_OPTIONS","DEFAULT_TICKET_TEMPLATE","DEFAULT_STOCK_ITEMS_LIMIT","COUNTRY_SETTING","LANG_SETTING","THEME_SETTING","TIMEZONE_SETTING","NAME_SETTING","ADDRESS_SETTING","EMAIL_SETTING","PHONE_SETTING","PRINTER_NAME_SETTING","PRINTER_IP_SETTING","TICKET_TEMPLATE_SETTING","BACKUP_FRECUENCY_SETTING","BACKUP_LOCATION_SETTING","ANALYTICS_SERVER_SETTING","DEFAULT_SETTINGS","_DEFAULT_SETTINGS","PAYMENT_METHOD_TICKET","TICKET_SOLD_STATE","TICKET_POSITIVE_BALANCE","TICKET_NEGATIVE_BALANCE","DEFAULT_TICKET_ITEMS_LIMIT","STATE_LOADING_START","STATE_LOADING_DONE","STATE_LOADING_FAILED","react_intl__WEBPACK_IMPORTED_MODULE_0__","defineMessages","notFound","defaultMessage","notFoundHelp","paginationOf","esprima","code","module","exports","Boolean","location","hostname","SCHEMA_SHOES","stock_schema","version","description","properties","index","final","uniqueItems","sold","default","DEFAULT_LIMIT_AMOUNT","NoDatabaseFoundError","_Error","message","wrapNativeSuper","NoStockCreatedError","stock_createSuper","stringify","NoStockUpdatedError","_Error2","_super2","NoStockMatchesFoundError","_Error3","_super3","QueryStockError","_Error4","_super4","query","Stock","db","collection","defaults","queries","fullStock","Number","MAX_SAFE_INTEGER","topSold","$gte","sort","topNotSold","topEmptyStock","$eq","isRxDatabase","isRxCollection","_query2","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","get","abrupt","sent","t0","stop","_x","_create","_callee2","_context2","isArray","createBatch","createOne","_x2","_x3","_update","_callee3","_args3","_context3","fetchById","upsert","_increaseAmount","_callee4","currentStock","_args4","_context4","first","t1","objectSpread","_data","t2","_decreaseAmount","_callee5","_args5","_context5","_get","_callee7","_ref$limit","_ref$skip","_ref$count","count","_ref$sort","foundStocks","totalAmount","_yield$Promise$all","_yield$Promise$all2","_args7","_context7","exec","Promise","_callee6","resolve","allStocks","_context6","_x4","all","_matches","_callee8","_matches2","_context8","defineProperty","$regex","RegExp","_x5","_x6","_remove","_callee9","_context9","findOne","_x7","_removeAll","_callee10","_context10","schema","_dump","_callee11","_args11","_context11","dump","_createBatch","_callee12","createOnePromises","_args12","_context12","removeAll","uniqBy","_createOne","_callee13","orUpdate","isStockCreated","_args13","_context13","merge","uuidv1","_upsert","_callee14","_context14","atomicUpsert","_x8","_fetchById","_callee15","_context15","_x9","models_stock","_x10","stock_ref3","_callee16","_context16","collections","stock_basic_schema","StockBasic","stock_basic","stock_basic_ref3","tickets_schema","hasVoucherExpired","required","TicketNoSavedError","tickets_createSuper","TicketsNotFoundError","dailyTicketIds","setHours","dailyTicketOperations","ticketById","ticketId","omit","ticketByCreationDate","ticketMatches","dailyTickets","weeklyTickets","today","Tickets","verbose","validationError","validateTicket","updateBy","decreaseAmount","increaseAmount","voucher","concept","getQuery","Queries","parentTicketId","parentTicket","push","toConsumableArray","mangoQuery","args","isString","timestamp","newTicket","mapTicketFields","rawTicket","toJSON","ticketsCount","criteria","ticketFound","models_tickets","tickets_ref6","stockInstance","settings_schema","Settings","defaultTo","settingsFound","fromPairs","models_settings","settings_ref2","Charts","TOP_TEN_LIMIT","salesData","ticketsData","stockData","alertData","salesChart","ticketsChart","stockChart","alertChart","t4","range","toPairs","groupBy","toLocaleDateString","day","groupByTickets","ticketsTotalAmounts","minimum","maximum","average","median","quartile1","quartile3","min","max","mean","_this$median","ticketsTotalAmountsSorted","sorted","stockItems","stockItem","where","gt","topSoldStockItems","topNotSoldStockItems","topEmptyStockItems","zipWith","soldItem","notSoldItem","emptyStockItem","notSold","emptyStock","list","sortedList","b","medianIndex","Math","floor","models_charts","charts_ref5","ticketInstance","RxDB","PouchdbAdapterIdb","defaultOptions","adapter","multiInstance","client","client_ref","dbOptions","charts","_args","ClientFactory","dark","app","border","switchPanelIconColor","scrollThumbInactiveBgColor","scrollThumbBgColor","scrollTrackShadow","scrollThumb","scrollThumbInactive","scrollCorner","scrollTrack","scrollShadow","footer","sidebar","hoverColor","selected","placeholderColor","panelBgColor","discover","helpBgColor","helpColor","tooltipColor","axis","tables","colorEven","bgColorEven","highlightBgColor","home","titleColor","svgColor","tryButtonHoverColor","blog","switcherBgColor","switcherColor","sectionsHoverColor","workspace","activeLine","actionsPanel","fuzzyFinder","bgColorItem","bgColorItemActive","bgColorTextbox","bgColorHint","colorTextbox","colorItem","colorHint","tour","iconColor","iconColorHover","ribbon","textShadow","shadow","image","searchColor","searchMastchesListBgColor","searchMastchesListColor","monokai","light","CHANGE_THEME","getQueryParams","_","queryParams","param","_param$split","_param$split2","params","decodeURIComponent","load","ResetDatabase","kalzateDB","databaseAsyncReducer","reducers","action","payload","initFromDB","store","currentState","getState","init","t3","t5","t6","t7","t8","t9","t10","t11","themes","language","then","ok","cancel","OverlapLayer","fadeAnimation","Container_templateObject","ModalContent","ModalContent_templateObject","Divider","Divider_templateObject","ModalActions","ModalActions_templateObject","Modal","Modal_createSuper","disableOkButton","pubSubToken","subscribe","openModal","unsubscribe","topic","onOpen","fn","opacity","fade","setTimeout","onClose","fadeOut","overlap","ModalCustomContent","atoms_OverlapLayer","atoms_Container","atoms_ModalContent","atoms_Divider","atoms_ModalActions","lib_index_es","cashDrawer","searchTickets","wrappers_templateObject","MenuGroup","ul","wrappers_templateObject2","static","MenuTicketListContainer","Footer","EM","em","FooterContent","Link","_templateObject6","MenuFooter","to","react_octicon_lib_default","_templateObject7","_templateObject8","Menu","_templateObject9","Item","li","_templateObject10","small","highlight","disabled","cursor","actived","P","p","_templateObject11","noroute","isSelected","Route","_templateObject12","notActived","TicketStateSpan","span","_templateObject13","TicketSoldStateSpan","_templateObject14","_templateObject15","TicketReturnStateSpan","_templateObject16","getTicketState","MenuItem","ticketList","ticketID","operator","withRouter","routeName","routes","wrappers_Container","data-cy","router","hotkeys","appLocalesMessages","en","es","addLocaleData","enLocaleData","esLocaleData","formatTranslationMessages","defaultFormattedMessages","enTranslationMessages","formattedMessages","translationMessages","esTranslationMessages","selectLanguage","makeSelectLocale","languageState","Span","LocaleToggle_wrappers_templateObject","LocaleToggle","bindShortcut","HotKeys","changeLang","publish","openFuzzyFinder","onLocaleToggle","Constants","mouseTrap","selectTheme","ThemeToggle_wrappers_templateObject","ThemeToggle","changeTheme","currentTheme","onThemeToggle","wrappers_Span","themeState","linkStyles","css","A_templateObject","secondary","RouteLink","A_templateObject2","ALink","A_templateObject3","A","Footer_wrappers_templateObject","StatusBar","Footer_wrappers_templateObject2","StatusBarLeft","wrappers_templateObject3","StatusBarRight","wrappers_templateObject4","StatusBarItem","wrappers_templateObject5","bugs","license","languages","help","Footer_wrappers_Container","components_A","href","containers_LocaleToggle","containers_ThemeToggle","Tip_wrappers_templateObject","Tip_wrappers_templateObject2","Tip_wrappers_templateObject3","Tip_wrappers_templateObject4","Tip_wrappers_templateObject5","treeMessage","footerLeftMessage","footerRightMessage","HelperTour_wrappers_templateObject","HelperTour","HelperTour_wrappers_Container","className","FuzzyFinder_wrappers_templateObject","Overlay","FuzzyFinder_wrappers_templateObject2","TextBox","FuzzyFinder_wrappers_templateObject3","Results","ol","FuzzyFinder_wrappers_templateObject4","ResultsItem","FuzzyFinder_wrappers_templateObject5","itemSelected","HintContainer","wrappers_templateObject6","Hint","kbd","wrappers_templateObject7","NoResults","wrappers_templateObject8","FuzzyFinder","context","filter","noMatchesText","enableCustomSelection","cancelByKey","moveDown","moveUp","selectItemByEnter","reset","intl","formatMessage","searchInput","focus","updateScroll","selectItem","itemsList","scrollTop","close","tagName","parentElement","getAttribute","document","activeElement","classList","contains","selectedItem","emit","wrappers_Modal","onMouseDown","highlightItem","onMouseUp","selectItemByClick","updateFilter","pos","rel","hint","contextTypes","PropTypes","object","isRequired","Section","App_wrappers_templateObject","blur","Article","article","App_wrappers_templateObject2","ToolbarContainer","App_wrappers_templateObject3","ToolbarIconContainer","App_wrappers_templateObject4","ToolbarIcon","App_wrappers_templateObject5","Toolbar","remote","getCurrentWindow","minimize","isMaximized","unmaximize","maximize","importStock","exportDatabase","resetDB","englishLang","spanishLang","EXPORT_DATABASE_ACTION","App","isElectron","discoverAction","openImportStockModal","actionSelected","resource","mouseTrapCore","trigger","Helmet_default","titleTemplate","defaultTitle","meta","wrappers_Toolbar","containers_SidebarMenu","Children","toArray","Footer_Footer","containers_FuzzyFinder","components_HelperTour","components_Modal","route","LanguageProvider","_React$PureComponent","LanguageProvider_createSuper","only","PureComponent","styled_components_es","initialState","reducers_settings","UPDATE_SETTING_SUCCESS_ACTION","UPDATE_SETTING_ERROR_ACTION","routeInitialState","locationBeforeTransitions","routeReducer","LOCATION_CHANGE","appReducer","addTicketToState","_action$tickets","SET_METHOD_TICKET_PAYMENTS_ACTION","updateTicketTotal","givenAmount","returnAmount","subtotalToAdd","added","discount","subtotalToReturn","toReturn","amount_return","subtotalTaxesFree","subtotalWithDiscount","tax","parseFloat","updateGivenAmount","updateReturnAmount","removeStockFromTicket","operationIndexPosition","findIndex","operationReference","incremental","operationType","addStockToTicket","returnItemFromTicket","updateTicketOperation","_ref5","theOperation","createOperation","updateTicketData","updateTicketTax","updateTicketDiscount","returnAllStockFromTicket","returnStockFromTicket","undoReturnStockFromTicket","setTicketPaymentMethod","givenAmountFixed","setTicketGivenAmount","by","givenAmountIncrease","increaseTicketGivenAmount","givenAmountDecrease","decreaseTicketGivenAmount","menu","visibility","raw","errors","chartsReducer","chart","updateChartReducer","CHANGE_LOCALE","languageProviderReducer","themeProviderReducer","createReducer","asyncReducers","combineReducers","settingsReducer","ticketsReducer","ticketReducer","stockReducer","tmpReducer","setting","put","_marked","takeEvery","_action$mime","blob","dlAnchorElem","setAttribute","URL","createObjectURL","download_file_marked","docs","export_database_marked","updateTicket","update_ticket_marked","closeTicket","_action$data","ticketListItem","createdTicket","ticketReceipt","_Tickets","create","select","printerName","printerIp","printerIP","printerWidth","copies","close_ticket_marked","loadTickets","open","load_marked","matchesTickets","_yield$call","matches_marked","printTicket","print","text","ipcRenderer","send","print_ticket_marked","search_marked","voucherTickets","voucher_marked","summaryTickets","summaryTicket","flatten","summary_marked","_Stock","create_marked","updatedStock","update","update_marked","refresh_marked","remove_marked","export_marked","stock_search_marked","matchesStock","stock_matches_marked","loadChartDataSaga","chartData","load_chart_data_marked","sagas_callee","downloadFileSaga","exportDatabaseSaga","settingsSaga","updateTicketSaga","closeTicketSaga","loadTicketSaga","matchesTicketSaga","printTicketSaga","searchTicketsSaga","voucherTicketsSaga","summaryTicketsSaga","stockCreateSaga","stockUpdateSaga","stockRefreshSaga","stockRemoveSaga","stockExportSaga","stockSearchSaga","stockMatchesSaga","sagas_marked","sagaMiddleware","createSagaMiddleware","injectGlobal","global_styles_templateObject","checkStore","shape","isFunction","replaceReducer","runSaga","isObject","invariant","conformsTo","injectAsyncReducer","isValid","asyncReducer","Reflect","has","injectAsyncSagas","sagas","warning","errorLoading","loadModule","componentModule","routerHistory","browserHistory","middlewares","routerMiddleware","databaseMiddleware","enhancers","applyMiddleware","composeEnhancers","compose","createStore","run","configureStore","syncHistoryWithStore","selectLocationState","prevRoutingState","routingState","isEqual","makeSelectLocationState","rootRoute","component","childRoutes","_getAsyncInjectors","injectReducer","injectSagas","getAsyncInjectors","path","getComponent","nextState","importModules","renderRoute","catch","createRoutes","Main","lib","containers_ThemeProvider","containers_LanguageProvider","react_router_lib","render","applyRouterMiddleware","useScroll","ReactDOM","app_Main","getElementById","Intl","t","serviceWorker","ready","registration","unregister","initApplication","ticketDomain","isTicketReadOnly","isNewTicket","providedAmount","ticketBalance","ticketRemainingAmount","exchangeAmount","round","abs","EPSILON","isTicketCheckoutDisabled","isTicketVoucherCheckoutDisabled","ticketPayments","ticketCreditCardPaymentAmount","ticketCashPaymentAmount","ticketVoucherPaymentAmount","ticketVoucherPaymentConcept","ticketOperations","_ref3$operations","_ref3$history","isEmptyTicket"],"mappings":"0FAAAA,EAAAC,EAAAC,EAAA,sBAAAC,IAAAH,EAAAC,EAAAC,EAAA,sBAAAE,IAAAJ,EAAAC,EAAAC,EAAA,sBAAAG,IAAAL,EAAAC,EAAAC,EAAA,sBAAAI,IAAAN,EAAA,SAAAO,EAAAP,EAAA,IAAAQ,EAAAR,EAAAS,EAAAF,GAAAP,EAAA,GASO,SAASG,EAAOO,EAAWC,GAChC,OAAKC,IAAOC,QAAQH,GAEbC,EAFgCD,EAKlC,SAASN,EAAaU,EAAYC,GACvC,OAAOC,OAAOC,KAAKH,GAAYI,IAAI,SAACC,GAAD,MAAW,CAC5CC,MAAOD,EACPE,MAAOP,EAAWK,GAClBG,OAAQH,IAASJ,KAId,SAASV,EAAmBkB,GAA2C,IACtEC,GADsEC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA3BG,OAAOC,UAAUC,UACpCC,cAC9B,OAAQR,GACN,KAAK,EACH,OAAOC,EAAaQ,SAAS,QAC3BR,EAAaQ,SAAS,WACtBR,EAAaQ,SAAS,QACpB,SACA,OACN,QACE,OAAOT,GAmFb,IAAMU,EAAW,MACV,SAAS3B,EAAQ4B,GAAgC,IAA3BC,EAA2BV,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAnB,EAAGW,EAAgBX,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAGlD,GAFAY,QAAQC,IAAI,MAAOJ,IAEdA,EACH,MAAO,OAET,IAAMK,EAAYC,OAAON,GACtBO,QAAQR,EAAU,KAClBQ,QAAQ,UAAM,IACdC,OAIH,OAFAL,QAAQC,IAAI,MAAOC,GAEfA,EAAUI,WAAW,KAChB,OAlBF,yBAAyBC,KAqBbV,GAKfK,EAAUM,QAAQ,KAAO,EAC3B,GAAAC,OAAUP,EAAV,OAGEA,EAAUM,QAAQ,OAASN,EAAUb,OAAS,EAChD,GAAAoB,OAAUP,EAAV,OAGEA,EAAUb,OAAS,EAAIa,EAAUM,QAAQ,OAAS,EACpD,GAAAC,OAAUP,EAAV,KAGKA,EAAUQ,MAAM,EAAGR,EAAUM,QAAQ,KAAOV,EAAQ,GAhBlDC,oCCvIXpC,EAAAC,EAAAC,EAAA,sBAAA8C,IAAAhD,EAAAC,EAAAC,EAAA,sBAAA+C,IAAAjD,EAAAC,EAAAC,EAAA,sBAAAgD,IAAAlD,EAAAC,EAAAC,EAAA,sBAAAiD,IAAAnD,EAAAC,EAAAC,EAAA,sBAAAkD,IAAApD,EAAAC,EAAAC,EAAA,sBAAAmD,IAAArD,EAAAC,EAAAC,EAAA,sBAAAoD,IAAAtD,EAAAC,EAAAC,EAAA,sBAAAqD,IAAAvD,EAAAC,EAAAC,EAAA,sBAAAsD,IAAAxD,EAAAC,EAAAC,EAAA,sBAAAuD,IAAAzD,EAAAC,EAAAC,EAAA,sBAAAwD,IAAA1D,EAAAC,EAAAC,EAAA,sBAAAyD,IAAA3D,EAAAC,EAAAC,EAAA,sBAAA0D,IAAA5D,EAAAC,EAAAC,EAAA,sBAAA2D,IAAA7D,EAAAC,EAAAC,EAAA,sBAAA4D,IAAA9D,EAAAC,EAAAC,EAAA,sBAAA6D,IAAA/D,EAAAC,EAAAC,EAAA,sBAAA8D,IAAAhE,EAAAC,EAAAC,EAAA,sBAAA+D,IAAAjE,EAAAC,EAAAC,EAAA,sBAAAgE,IAAAlE,EAAAC,EAAAC,EAAA,sBAAAiE,IAAAnE,EAAAC,EAAAC,EAAA,sBAAAkE,IAAApE,EAAAC,EAAAC,EAAA,sBAAAmE,IAAArE,EAAAC,EAAAC,EAAA,sBAAAoE,IAMO,IAEMtB,EAAsB,oCACtBC,EACX,0CAIWC,EAAsB,oCACtBC,EACX,0CACWC,EACX,4CACWC,EACX,0CAEWC,EAAuB,qCACvBC,EACX,2CACWC,EACX,6CAEWC,EAAsB,oCACtBC,EACX,0CACWC,EACX,4CAEWC,EAAsB,oCACtBC,EACX,0CAIWC,EAAsB,oCACtBC,EACX,0CACWC,EACX,4CAEWC,EACX,yCACWC,EACX,+CACWC,EACX,iDAEWC,EACX,6CAEWC,EACX,iDAEWC,EAA0B,CAAC,OAAQ,OAAQ,wCC3DxDtE,EAAAC,EAAAC,EAAA,sBAAAqE,IAAAvE,EAAAC,EAAAC,EAAA,sBAAAsE,IAAAxE,EAAAC,EAAAC,EAAA,sBAAAuE,IAAAzE,EAAAC,EAAAC,EAAA,sBAAAwE,IAAA1E,EAAAC,EAAAC,EAAA,sBAAAyE,IAAA3E,EAAAC,EAAAC,EAAA,sBAAA0E,IAAA5E,EAAAC,EAAAC,EAAA,sBAAA2E,IAAA7E,EAAAC,EAAAC,EAAA,sBAAA4E,IAAA9E,EAAAC,EAAAC,EAAA,sBAAA6E,IAAA/E,EAAAC,EAAAC,EAAA,sBAAA8E,IAAAhF,EAAAC,EAAAC,EAAA,sBAAA+E,IAAAjF,EAAAC,EAAAC,EAAA,sBAAAgF,IAAAlF,EAAAC,EAAAC,EAAA,sBAAAiF,IAAAnF,EAAAC,EAAAC,EAAA,sBAAAkF,IAAApF,EAAAC,EAAAC,EAAA,sBAAAmF,IAAArF,EAAAC,EAAAC,EAAA,sBAAAoF,IAAAtF,EAAAC,EAAAC,EAAA,sBAAAqF,IAAAvF,EAAAC,EAAAC,EAAA,sBAAAsF,IAAAxF,EAAAC,EAAAC,EAAA,sBAAAuF,IAAAzF,EAAAC,EAAAC,EAAA,sBAAAwF,IAAA1F,EAAAC,EAAAC,EAAA,sBAAAyF,IAKO,IAAMpB,EAA6B,2CAC7BC,EAAiC,+CACjCC,EAAkC,gDAClCC,EAAiC,qCACjCC,EAA+B,0CAC/BC,EAAoC,+CACpCC,EAA0C,qDAC1CC,EAA4C,uDAC5CC,EAAuC,kDACvCC,EAAuB,kCACvBC,EAA+B,0CAC/BC,EAAqB,gCACrBC,EAA6B,wCAE7BC,EAA8B,6CAC9BC,EAAiC,gDACjCC,EAA4B,2CAC5BC,EAAkC,iDAClCC,EAAoC,mDACpCC,EAAoC,mDACpCC,EAAsB,qCActBC,EAAuB,wECvCpC3F,EAAAC,EAAAC,EAAA,sBAAA0F,IAAA5F,EAAAC,EAAAC,EAAA,sBAAA2F,IAMO,IACMD,EAAyB,0CACzBC,EAAiC,oFCR9C7F,EAAAC,EAAAC,EAAA,sBAAA4F,IAAA,IAAAC,EAAA/F,EAAA,IAUO,SAAS8F,EAAcvE,EAAKH,GACjC,MAAO,CACL4E,KAAMC,IACN1E,MACAH,0JCAE8E,EAA6B,gBAE7BC,EAA2B,0CAC3BC,EAAoB,KAM1B,SAASC,EAAsBC,EAAUC,EAAQC,EAAKC,GACpD,OASF,SAA4BH,EAAUC,EAAQG,EAAUC,GAAmB,QAAAC,EAAAnF,UAAAC,OAATmF,EAAS,IAAAC,MAAAF,EAAA,EAAAA,EAAA,KAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAATF,EAASE,EAAA,GAAAtF,UAAAsF,GACzE,GAA+B,SAA3BL,EAAS3E,cACX,OASJ,SAAoCuE,EAAUK,GAC5C,OAAQA,GACN,IAAK,OACH,OAAOL,EAASU,KAClB,IAAK,UACH,OAAOV,EAASW,QAClB,IAAK,QACH,OAAOX,EAASY,MAClB,IAAK,QACH,OAAOZ,EAASa,MAClB,QACE,MAAO,IApBFC,CAA2Bd,EAAUK,EAAM5E,eAEpD,GAA+B,WAA3B2E,EAAS3E,cACX,OAgDJ,SAAsCuE,EAAUC,EAAQI,EAAOE,GAC7D,OAAQF,GACN,IAAK,OAAQ,IAAAU,EAAArG,OAAAsG,EAAA,EAAAtG,CACM6F,EADN,GACJU,EADIF,EAAA,GAELG,EAAO,IAAIC,KAAKlB,EAAOmB,aAAc,IAAID,MAAOE,WACtD,OAAOC,IAAWJ,EAAMD,GAAU,cAEpC,IAAK,cAAe,IAAAM,EAAA7G,OAAAsG,EAAA,EAAAtG,CACK6F,EADL,GACXiB,EADWD,EAAA,GACLN,EADKM,EAAA,GAEZL,EAAO,IAAIC,KAAKlB,EAAOmB,aAAc,IAAID,MAAOE,WAEtD,OADAH,EAAKO,QAAQP,EAAKQ,UAAYC,SAASH,EAAMI,MACtCN,IAAWJ,EAAMD,GAAU,cAEpC,IAAK,QAAS,IAAAY,EAC6BtB,EAAQ3F,IAAI,SAACkH,GAAD,OAAYC,KAAKC,MAAMF,KADhEG,EAAAvH,OAAAsG,EAAA,EAAAtG,CAAAmH,EAAA,GACLK,EADKD,EAAA,GACGE,EADHF,EAAA,GACYG,EADZH,EAAA,GAGZ,OADAlG,QAAQC,IAAI,OAAQiE,GACbA,EAAOoC,WACXzH,IAAI,SAAC0H,GACJ,IAAMC,EAASL,EAAOtH,IAAI,SAAC4H,EAAGC,GAAJ,OA7CpC,SAAsCpC,EAAOvF,EAAOqH,EAASG,EAAWrC,GACtE,GAAc,gBAAVI,EACF,OAAOnE,OAAO5B,IAAOoI,OAAOC,YAAkBL,EAAUM,OAAQjB,SAASQ,EAAS,MAEpF,GAAc,UAAV9B,EACF,OAAOJ,EAAO4C,OACVvI,IAAOoI,OAAO,OAAQf,SAASQ,EAAS,KACxCjG,OAAO5B,IAAOoI,OAAOI,YAAoBR,EAAUM,MAAMG,OAAQpB,SAASQ,EAAS,MAEzF,GAAc,aAAV9B,EACF,OAAOJ,EAAO4C,OACVvI,IAAOoI,OAAO,OAAQf,SAASQ,EAAS,KACxCjG,OACA5B,IAAOoI,OACLI,YAAoBE,YAAYV,IAChCX,SAASQ,EAAS,MAI1B,GAAc,WAAV9B,EACF,OAAOnE,OACL5B,IAAOoI,OAAOO,YAAUX,GAAYX,SAASQ,EAAS,MAG1D,OAAOjG,OAAO5B,IAAOoI,OAAO5H,EAAO6G,SAASQ,EAAS,MAsB3Ce,CAA6BV,EAAE/G,cAAe6G,EAAUE,GAAIL,EAAQM,GAAIH,EAAWrC,KAGrF,SAAAzD,OAAU,IAAIgE,MAAM4B,EAAc,GAAK,GAAGe,KAAK,MAA/C3G,OAAsD+F,EAAO,IAA7D/F,OAAkE+F,EAAO,IAAzE/F,OAA8E+F,EAAO,IAArF/F,OACE+F,EAAO,IADT/F,OAEK,IAAIgE,MAAM4B,EAAc,GAAK,GAAGe,KAAK,QAE3CA,KAAK,SAEV,IAAK,UACH,OAAOlD,EAAOmD,SACXxI,IAAI,SAAAyI,GACH,OAAQA,EAAQC,QACd,KAAKC,IACH,MAAO,cACT,KAAKC,IACH,MAAO,YACT,KAAKC,IACH,MAAO,OACT,KAAKC,IACH,MAAO,UACT,QACE,MAAO,MAGZP,KAAK,SAEV,IAAK,OACH,OAAIlD,EAAO0D,qBACFrC,IAAW,IAAIH,KAAQ,uBAEzBlB,EAAOmB,aAAc,IAAID,MAAOE,UACzC,IAAK,KACH,OAAOpB,EAAO2D,GAChB,IAAK,QACH,OAAO3D,EAAO4C,OAAS,OAASgB,YAAYC,YAAqB,CAAE7D,YACrE,IAAK,SACH,OAAIA,EAAO0D,qBACF,OAEF1D,EAAO4C,OAAS,OAASgB,YAAYE,YAAqB,CAAE9D,YACrE,IAAK,QACH,OAAOA,EAAO4C,OAAS,OAASgB,YAAYG,YAAkB,CAAE/D,YAClE,IAAK,WACH,OAAIA,EAAO4C,OACF,OAEL5C,EAAOgE,UACF,UAELhE,EAAO0D,qBACF,uBAEF,SACT,QACE,MAAO,IA1HFO,CAA6BlE,EAAUC,EAAQI,EAAM5E,cAAe8E,GAG7E,MAAO,IAjBkB4D,WAAlB,GACLnE,EACAC,GAFKzD,OAAA9B,OAAA0J,EAAA,EAAA1J,CAGFyF,EACAA,MAAMN,GACNjF,IAAI,SAACkH,GAAD,OAAaA,EAAOzF,WAAW,KAAoByF,EATjD3F,QAAQ2D,EAAmB,IASgCgC,OAuIjE,SAASuC,EAAcrE,EAAUC,GACtC,IACE,OAAOD,EAASsE,eAAenI,QAC7ByD,EACAG,EAAsBwE,KAAK,KAAMvE,EAAUC,IAE7C,MAAOuE,GACPzI,QAAQ0I,MAAMD,uCC3KlB9K,EAAAC,EAAAC,EAAA,sBAAA8K,IAAAhL,EAAAC,EAAAC,EAAA,sBAAA+K,IAAAjL,EAAAC,EAAAC,EAAA,sBAAAgL,IAMO,IAAMF,EACX,gDACWC,EACX,qDACWC,EACX,uFCXFlL,EAAAC,EAAAC,EAAA,sBAAAiL,IAAAnL,EAAAC,EAAAC,EAAA,sBAAAkL,IAAApL,EAAAC,EAAAC,EAAA,sBAAAuE,IAAAzE,EAAAC,EAAAC,EAAA,sBAAAmL,IAAArL,EAAAC,EAAAC,EAAA,sBAAAoL,IAAAtL,EAAAC,EAAAC,EAAA,sBAAAqL,IAAAvL,EAAAC,EAAAC,EAAA,sBAAAyF,IAAA3F,EAAAC,EAAAC,EAAA,sBAAAgF,IAAAlF,EAAAC,EAAAC,EAAA,sBAAAqE,IAAAvE,EAAAC,EAAAC,EAAA,sBAAAsL,IAAAxL,EAAAC,EAAAC,EAAA,sBAAAuL,IAAAzL,EAAAC,EAAAC,EAAA,sBAAAwL,IAAA1L,EAAAC,EAAAC,EAAA,sBAAAyL,IAAA3L,EAAAC,EAAAC,EAAA,sBAAA0L,IAMO,IAAMT,EAAgC,+CAEhCC,EAAkC,iDAElC3G,EAAkC,iDAClC4G,EACX,sDACWC,EAAkC,iDAClCC,EACX,qDACW5F,EAAuB,sCAEvBT,EAAqB,oCAIrBX,EAA6B,2CAE7BiH,EAAuB,sCAIvBC,EAA6B,4CAK7BC,EAAsB,qCAQtBC,EAA2B,0CAC3BC,EAAgC,+3CClC7C,IAAMC,EAAkBC,YAAHC,KA4DNC,EAzCAC,IAAOC,OAAVC,IAEQ,SAACC,GAAD,OAAYA,EAAMC,SAAW,OAAS,QA0BlC,SAACD,GAAD,OAAWA,EAAME,MAAM,IAKvB,SAACF,GAAD,OAAWA,EAAME,MAAM,IAClC,SAACF,GAAD,OAAWA,EAAME,MAAM,IAGnBT,GCvDXU,EAAW,SAACH,GAChB,OAAIA,EAAMI,QAAgB,CAAC,qBAAsB,2BAC7CJ,EAAMK,UACD,CAAC,sBAAuB,2BAE1B,CAAC,qBAAsB,4BAiBjBT,IAdf,SAAgBI,GAAO,IACb/K,EAAoB+K,EAApB/K,MAAUqL,EADG1L,OAAA2L,EAAA,EAAA3L,CACOoL,EADP,WAErB,OACEQ,EAAAC,EAAAC,cAACC,EAAD/L,OAAAgM,OAAA,CAAcV,MAAOC,EAASH,IAAYM,GACvCN,EAAMa,MAAQL,EAAAC,EAAAC,cAACI,EAAAL,EAAD,CAAS7F,KAAMoF,EAAMa,OADtC,IACiD5L,qCCrBrD,IAAA8L,EAAAnN,EAAA,KAAAoN,EAAApN,EAAAS,EAAA0M,GAGAE,IAAOC,OAAS,CACdC,sBAAuB,wBACvBC,gCAAiC,kCACjCC,iCAAkC,mCAClCC,iCAAkC,mCAClCC,oBAAqB,sBACrBC,uBAAwB,yBACxBC,uBAAwB,yBACxBC,wBAAyB,0BACzBC,aAAc,eACdC,aAAc,eACdC,gBAAiB,mBAGJZ,MAAf,oCCjBArN,EAAAC,EAAAC,EAAA,sBAAAgO,IAAAlO,EAAAC,EAAAC,EAAA,sBAAAiO,IAAAnO,EAAAC,EAAAC,EAAA,sBAAAkO,IAAApO,EAAAC,EAAAC,EAAA,sBAAAmO,IAAArO,EAAAC,EAAAC,EAAA,sBAAAoO,IAAAtO,EAAAC,EAAAC,EAAA,sBAAAqO,IAAAvO,EAAAC,EAAAC,EAAA,sBAAAsO,IAAAxO,EAAAC,EAAAC,EAAA,sBAAAuO,IAAAzO,EAAAC,EAAAC,EAAA,sBAAAwO,IAAA,IAAA3I,EAAA/F,EAAA,IAkBO,SAASkO,EAAYhF,GAAqB,IAAdrC,EAAcpF,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAC3C,MAAO,CACLuE,KAAMhD,IACNkG,QACArC,WAIG,SAASsH,EAAYjF,GAC1B,MAAO,CACLlD,KAAM9C,IACNgG,SAIG,SAASkF,EAAaO,EAAOC,EAAMC,GACxC,MAAO,CACL7I,KAAM1C,IACNqL,QACAC,OACAC,UAIG,SAASR,EAAYS,EAAWH,EAAOC,EAAMC,GAClD,MAAO,CACL7I,KAAMvC,IACNqL,YACAH,QACAC,OACAC,UAIG,SAASP,EAAYS,GAC1B,MAAO,CACL/I,KAAMpC,IACNmL,WAIG,SAASR,EAAYM,EAAQF,EAAOC,GACzC,MAAO,CACL5I,KAAMlC,IACN6K,QACAC,OACAC,UAIG,SAASL,EAAW7H,EAAOvF,GAChC,MAAO,CACL4E,KAAM/B,IACN0C,QACAvF,SAIG,SAASqN,EAAcK,EAAWE,GACvC,MAAO,CACLhJ,KAAM5B,IACN0K,YACAE,QAIG,SAASN,EAAkBtG,EAAQhH,GACxC,MAAO,CACL4E,KAAM3B,IACN+D,SACAhH,4CCxFJpB,EAAAC,EAAAC,EAAA,sBAAA+O,IAAAjP,EAAAC,EAAAC,EAAA,sBAAAgP,IAAAlP,EAAAC,EAAAC,EAAA,sBAAAiP,IAAAnP,EAAAC,EAAAC,EAAA,sBAAAkP,IAAApP,EAAAC,EAAAC,EAAA,sBAAAmP,IAAArP,EAAAC,EAAAC,EAAA,sBAAAoP,IAAAtP,EAAAC,EAAAC,EAAA,sBAAAqP,IAAAvP,EAAAC,EAAAC,EAAA,sBAAAsP,IAAAxP,EAAAC,EAAAC,EAAA,sBAAAuP,IAAA,IAAAC,EAAA1P,EAAA,IAgBMiP,EAAuB,kBAC3BU,yBAZmC,SAACC,GAAD,OAAWA,EAAM1G,OAYX,SAAC2G,GAAD,OAAcA,EAASC,SAE5DZ,EAAuB,kBAC3BS,yBAfmC,SAACC,GAAD,OAAWA,EAAM1G,OAeX,SAAC2G,GAAD,OAAcA,EAASlB,SAE5DQ,EAAwB,kBAC5BQ,yBAlBmC,SAACC,GAAD,OAAWA,EAAM1G,OAkBX,SAAC2G,GAAD,OAAcA,EAASjB,QAE5DQ,EAAuB,kBAC3BO,yBArBmC,SAACC,GAAD,OAAWA,EAAM1G,OAqBX,SAAC2G,GAAD,OAAcA,EAASE,SAQ5DN,EAAkC,kBACtCE,yBAHAA,yBA1B0B,SAACC,GAAD,OAAWA,EAAMI,KA0BX,SAACH,GAAD,OAAcA,EAASI,UAGnB,SAACJ,GAAD,OAClCA,EAAS3G,MAAM4F,aAGbO,EAAwB,kBAC5BM,yBAXAA,yBAvB0B,SAACC,GAAD,OAAWA,EAAMI,KAuBX,SAACH,GAAD,OAAcA,EAAShB,SAWpB,SAACgB,GAAD,OAAcA,EAAS3G,SAEtDoG,EAAyB,kBAC7BK,yBArC0B,SAACC,GAAD,OAAWA,EAAMI,KAqCX,SAACH,GAAD,OAAcA,EAAS3G,SAKnDqG,EAAmC,kBACvCI,yBA3C0B,SAACC,GAAD,OAAWA,EAAMI,KA2CX,SAACH,GAAD,OAC9BA,EAASK,MAAM7B,eAGbmB,EAAoC,kBACxCG,yBAhD0B,SAACC,GAAD,OAAWA,EAAMI,KAgDX,SAACH,GAAD,OAC9BA,EAASK,MAAMC,kDCvDnBnQ,EAAAC,EAAAC,EAAA,sBAAAkQ,IAAApQ,EAAAC,EAAAC,EAAA,sBAAAmQ,IAMO,IAAMD,EAAiC,gDACjCC,EAA+B,yqUCPrC,IAAMC,EAAY,kBACZC,EAAa,kBACbC,EAAO,aACPC,EAAkB,YAClBC,EAAc,cACdC,EAAoB,aACpBC,EAAc,cACdC,EAAe,eACfC,EAAW,aACXC,EAAc,eACdC,EAAa,cACbC,EAAqB,oBCXrBpH,EAA6B,kCAC7BE,EAAsB,4BACtBC,EAAyB,+BACzBkH,EAAgC,sCAChCpH,EAAuB,6BACvBqH,EAAkB,6BAClBC,EAAmB,yBACnBC,EAAoB,0BACpBC,EAAiB,8BACjBC,EAAe,sBACfC,EAAoB,0BACpBC,EAAkB,wBAClBC,EAA8B,mCCZ3C1R,EAAAC,EAAAC,EAAA,sBAAAgJ,IAAAlJ,EAAAC,EAAAC,EAAA,sBAAAyR,IAGO,IAAMzI,EAAQ0I,EACRD,EAAUE,09FCIvB,IAAMC,EAAkBhG,YAAHC,KAQfgG,EAAiBjG,YAAHK,KAYd6F,EAAW,SAACC,EAAUC,GAAX,SAAApP,OAAyBmP,EAAzB,MAAAnP,OAAsCoP,EAAtC,QAEJC,EAAYlG,IAAOmG,IAAVC,IASX,SAACjG,GAAD,OAAWA,EAAME,OAAS,sBACjC,SAACF,GAAD,OAAYA,EAAMkG,KAAON,EAAS,OAAQ5F,EAAMkG,MAAQ,IACxD,SAAClG,GAAD,OAAYA,EAAMmG,MAAQP,EAAS,QAAS5F,EAAMmG,OAAS,IAC3D,SAACnG,GAAD,OAAYA,EAAMoG,IAAMR,EAAS,MAAO5F,EAAMoG,KAAO,IACrD,SAACpG,GAAD,OAAYA,EAAMqG,OAAST,EAAS,SAAU5F,EAAMqG,QAAU,KAGrDC,EAAUzG,IAAOmG,IAAVO,IAGGb,EACjBC,EACcD,EACdC,EACSD,EACTC,GA4DOa,EAAU3G,IAAOmG,IAAVS,IACJ,SAACzG,GAAD,OAAWA,EAAM0G,OAAS1G,EAAM0G,MAAMC,SAASC,QAAU5G,EAAM0G,MAAMC,SAASC,QAAU,yBA8CpG,SAAC5G,GAAD,MAAgC,OAApBA,EAAM6G,UAzFd,4HAyFwC,IAC5C,SAAC7G,GAAD,MAAgC,SAApBA,EAAM6G,UAjGZ,wLAiG0C,IAChD,SAAC7G,GAAD,MAAgC,SAApBA,EAAM6G,UAjFZ,4OAiF0C,IAChD,SAAC7G,GAAD,OAAYA,EAAM8G,QAjET,0ZAiE6B,ycChKpCC,0CACJ,SAAAA,EAAY/G,GAAO,IAAAgH,EAAA,OAAApS,OAAAqS,EAAA,EAAArS,CAAAsS,KAAAH,IACjBC,EAAAG,EAAAC,KAAAF,KAAMlH,IACDwD,MAAQ,CAAEsD,SAAS,GAFPE,gEAKjBE,KAAKG,SAAS,CAAEP,SAAS,6CAIzBI,KAAKG,SAAS,CAAEP,SAAS,qCAMzBI,KAAKI,IAAIC,0CAGF,IAAAC,EAAAN,KACP,OACE1G,EAAAC,EAAAC,cAACqF,EAAD,CACE0B,SAAU,SAACH,GACTE,EAAKF,IAAMA,GAEbI,aAAc,SAACC,GAAD,OAAWH,EAAKI,gBAAgBD,IAC9CE,aAAc,SAACF,GAAD,OAAWH,EAAKM,eAAeH,IAC7CzB,KAAMgB,KAAKlH,MAAMkG,KACjBE,IAAKc,KAAKlH,MAAMoG,IAChBD,MAAOe,KAAKlH,MAAMmG,MAClBE,OAAQa,KAAKlH,MAAMqG,OACnBnG,MAAOgH,KAAKlH,MAAME,MAClB6H,QAAS,SAACJ,GAAD,OAAWH,EAAKxH,MAAM+H,QAAUP,EAAKxH,MAAM+H,QAAQJ,GAAS,OAEpET,KAAKlH,MAAMgI,SAAYxH,EAAAC,EAAAC,cAAC4F,EAAD,KACtB9F,EAAAC,EAAAC,cAACI,EAAAL,EAAD,CAAS7F,KAAMsM,KAAKlH,MAAMa,MAAQ,gBACtBL,EAAAC,EAAAC,cAACI,EAAAL,EAAD,CAAS7F,KAAMsM,KAAKlH,MAAMa,MAAQ,eAChDL,EAAAC,EAAAC,cAAC8F,EAAD,CAASK,UAAWK,KAAKlH,MAAM6G,UAAWC,QAASI,KAAK1D,MAAMsD,SAC3DI,KAAKlH,MAAMiI,kBAtCJC,IAAMC,WA0DTpB,uCC9DfnT,EAAAC,EAAAC,EAAA,sBAAAiL,IAAAnL,EAAAC,EAAAC,EAAA,sBAAAkL,IAAApL,EAAAC,EAAAC,EAAA,sBAAAuE,IAAAzE,EAAAC,EAAAC,EAAA,sBAAAyF,IAAA3F,EAAAC,EAAAC,EAAA,sBAAAgF,IAAAlF,EAAAC,EAAAC,EAAA,sBAAAsU,IAAAxU,EAAAC,EAAAC,EAAA,sBAAAqE,IAAAvE,EAAAC,EAAAC,EAAA,sBAAAsL,IAAAxL,EAAAC,EAAAC,EAAA,sBAAAuU,IAAAzU,EAAAC,EAAAC,EAAA,sBAAAwU,IAAA1U,EAAAC,EAAAC,EAAA,sBAAAuL,IAAAzL,EAAAC,EAAAC,EAAA,sBAAAwL,IAAA1L,EAAAC,EAAAC,EAAA,sBAAAyU,IAAA3U,EAAAC,EAAAC,EAAA,sBAAAwF,IAAA1F,EAAAC,EAAAC,EAAA,sBAAA0U,IAAA5U,EAAAC,EAAAC,EAAA,sBAAA2U,IAAA7U,EAAAC,EAAAC,EAAA,sBAAAyL,IAAA3L,EAAAC,EAAAC,EAAA,sBAAA0L,IAAA5L,EAAAC,EAAAC,EAAA,sBAAA4U,IAAA9U,EAAAC,EAAAC,EAAA,sBAAA6U,IAAA/U,EAAAC,EAAAC,EAAA,sBAAA8U,IAMO,IAAM7J,EAAgC,+CAEhCC,EAAkC,iDAElC3G,EAAkC,iDAClCkB,EAAuB,sCAEvBT,EAAqB,oCACrBsP,EAA2B,0CAG3BjQ,EAA6B,2CAE7BiH,EAAuB,sCACvBiJ,EAA+B,8CAC/BC,EAA6B,4CAE7BjJ,EAA6B,4CAI7BC,EAAsB,qCAEtBiJ,EAA4B,2CAE5BjP,EAAsB,qCACtBkP,EAA8B,6CAC9BC,EAA4B,2CAE5BlJ,EAA2B,0CAC3BC,EAAgC,+CAEhCkJ,EAAwB,uCACxBC,EAA8B,6CAC9BC,EAAgC,iFCxC7ChV,EAAAC,EAAAC,EAAA,sBAAA+U,IAAA,IAAAlP,EAAA/F,EAAA,IAeO,SAASiV,EAATC,GAA6C,IAArBC,EAAqBD,EAArBC,QAASC,EAAYF,EAAZE,SACtC,MAAO,CACLpP,KAAMqP,IACNF,UACAC,mECnBJpV,EAAAC,EAAAC,EAAA,sBAAAoV,IAMO,IAAMA,EAAoC,u7BCG1C,IAAMC,EAAiBtJ,IAAOuJ,QAAVzJ,KAYd0J,EAAkBxJ,IAAOmG,IAAVjG,KAYfuJ,EAAmBzJ,IAAOmG,IAAVC,KAKdkD,mRCpCR,IAAMI,EAAyB1J,IAAOmG,IAAVwD,6cCa5B,IAAMC,EAAb,SAAAC,GAAA9U,OAAA+U,EAAA,EAAA/U,CAAA6U,EAAAC,GAAA,IAAAvC,EAAAyC,EAAAH,GAcE,SAAAA,EAAYzJ,GAAO,IAAAgH,EAAA,OAAApS,OAAAqS,EAAA,EAAArS,CAAAsS,KAAAuC,IACjBzC,EAAAG,EAAAC,KAAAF,KAAMlH,IACDwD,MAAQ,CAAEqG,SAAS,EAAOnG,MAAO,KAAMoG,SAAU,IAFrC9C,EAdrB,OAAApS,OAAAmV,EAAA,EAAAnV,CAAA6U,EAAA,EAAAtU,IAAA,oBAAAH,MAAA,WAmBsB,IAAAwS,EAAAN,KAClBA,KAAKlH,MAAMgK,WAAW,kBAAMxC,EAAKyC,eApBrC,CAAA9U,IAAA,WAAAH,MAAA,WAwBI,OAAKkS,KAAK1D,MAAME,MAAMpO,SAEtB4R,KAAKlH,MAAM8B,YAAYoF,KAAK1D,MAAME,MAAO,CACvCwG,OAAO,EACP3C,OAAQL,KAAKlH,MAAMmK,kBAEnBC,QAASlD,KAAKlH,MAAMqK,mBACpBP,SAAU5C,KAAK1D,MAAMsG,YAIhB,KAnCX,CAAA3U,IAAA,OAAAH,MAAA,SAuCOoF,EAAKkQ,EAAWC,GACnB,IACE,OAAQD,GACN,KAAKpS,IAAwB,GAC3B,OAAOqS,EAAG,KAAMtO,KAAKC,MAAM9B,IAC7B,KAAKlC,IAAwB,GAC3B,OAAOqS,EAAG,KAAMC,mBAASpQ,IAC3B,KAAKlC,IAAwB,GAC3B,OAAOuS,IAAQ,CACbC,UAAW,CACTC,KAAM,SACN1N,MAAO,SACP6I,OAAQ,SACR8E,OAAQ,SAACC,GAAD,OAAUA,EAAKC,MAAM,KAAKhW,IAAI,SAAC6H,GAAD,OAAOA,EAAErG,aAGhDyU,WAAW3Q,GACX4Q,GAAG,aAAc,SAACpI,GAAD,OAAU2H,EAAG,KAAM3H,KACpCoI,GAAG,QAAS,SAACrM,GAAD,OAAW4L,EAAG5L,KAC/B,QACE,OAAOvE,GAEX,MAAOuE,GACP,OAAO4L,EAAG5L,MA9DhB,CAAAxJ,IAAA,cAAAH,MAAA,SAmEciW,GAAM,IAAAC,EAAAhE,KAAAiE,EACUF,EAAKrQ,KAAKkQ,MAAM,KAAjCM,EADOxW,OAAAyW,EAAA,EAAAzW,CAAAuW,EAAA,MAEhB,GAAKjT,IAAwBtC,SAASwV,EAAczV,iBAGlDH,OAAO8V,MAAQ9V,OAAO+V,YAAc/V,OAAOgW,UAAYhW,OAAOiW,MAEhE,CAEA,IAAMC,EAAa,IAAIH,WACvBG,EAAWC,QAAU,SAAA7C,GAAgB,IAAb8C,EAAa9C,EAAb8C,OACtBV,EAAK7D,SAAS,CAAEwC,SAAS,EAAOnG,MAAO,KACvCzN,QAAQ0I,MAAM,kCAAmCiN,EAAOjN,QAE1D+M,EAAWG,YAAc,WACvBX,EAAK7D,SAAS,CAAEwC,SAAS,KAG3B6B,EAAWI,OAAS,WAElBZ,EAAKa,KACHL,EAAWM,OACXZ,EAAczV,cACd,SAACgJ,EAAOsN,GAAR,OACEf,EAAK7D,SACH,CAAEwC,SAAS,EAAOnG,MAAOuI,EAAWnC,SAAUmB,EAAKrQ,MACnD,kBAAMsQ,EAAKlL,MAAMkM,cAMzBR,EAAWS,WAAWlB,EAAM,YAnGhC,CAAA9V,IAAA,kBAAAH,MAAA,SAsGkB4W,GACV1E,KAAKkF,WACPlF,KAAKkF,UAAUC,UAxGrB,CAAAlX,IAAA,cAAAH,MAAA,SA4Gc2S,GAIV,GAFAA,EAAM2E,iBAEF3E,EAAM4E,aAAa7I,MAErB,IAAK,IAAI/G,EAAI,EAAGA,EAAIgL,EAAM4E,aAAa7I,MAAMpO,OAAQqH,GAAK,EAAG,CAC3D,IAAMkO,EAAOlD,EAAM4E,aAAa7I,MAAM/G,GAEpB,SAAdkO,EAAK2B,MACPtF,KAAKuF,YAAY5B,EAAK6B,aAM5BxF,KAAKyF,eAAehF,KA5HxB,CAAAxS,IAAA,kBAAAH,MAAA,SA+HkB2S,GAEdA,EAAM2E,mBAjIV,CAAAnX,IAAA,iBAAAH,MAAA,SAoIiB2S,GACTA,EAAM4E,aAAa7I,MAErBiE,EAAM4E,aAAa7I,MAAMkJ,QAGzBjF,EAAM4E,aAAaM,cA1IzB,CAAA1X,IAAA,iBAAAH,MAAA,SA8IiB2S,GACbA,EAAMmF,kBACNnF,EAAM2E,iBACNpF,KAAKlH,MAAM6I,aAAaY,EAAcsD,YAAa,wBAAyB,cAjJhF,CAAA5X,IAAA,SAAAH,MAAA,WAoJW,IAAAgY,EAAA9F,KACP,OACE1G,EAAAC,EAAAC,cAAC2I,EAAD,CACE4D,UAAU,OACVlF,QAAS,SAAAmF,GAAA,IAAGtB,EAAHsB,EAAGtB,OAAH,OAAgBoB,EAAKG,gBAAgBvB,IAC9CwB,OAAQ,SAACzF,GAAD,OAAWqF,EAAKK,YAAY1F,IACpC2F,WAAY,SAAC3F,GAAD,OAAWqF,EAAKO,gBAAgB5F,KAE5CnH,EAAAC,EAAAC,cAAA,SACE8M,IAAK,SAACC,GAAD,OAAcT,EAAKZ,UAAYqB,GACpC7T,KAAK,OACL8T,SAAS,QACTC,OAAO,oGACPC,SAAU,SAAAC,GAAA,IAAGjC,EAAHiC,EAAGjC,OAAH,OACRA,EAAOkC,MAAM,GAAKd,EAAKP,YAAYb,EAAOkC,MAAM,IAAM,MAExDC,MAAO,CAAEC,QAAS,UAEpBxN,EAAAC,EAAAC,cAAA,OAAKqN,MAAO,CAAEC,QAAS,aAAcC,cAAe,WAClDzN,EAAAC,EAAAC,cAAA,KAAGqN,MAAO,CAAEG,OAAQ,QAAS1N,EAAAC,EAAAC,cAACyN,EAAA,EAAqBC,IAASC,aAC5D7N,EAAAC,EAAAC,cAAA,OAAKqN,MAAO,CAAEO,SAAU,QAASJ,OAAQ,QACvC1N,EAAAC,EAAAC,cAACyN,EAAA,EAAqBC,IAASG,WAG/B/N,EAAAC,EAAAC,cAAC8N,EAAA,EAAD,CAASxG,UAAQ,EAAC9H,MAAM,UAAUiG,MAAM,KAAKC,IAAI,IAAIS,UAAU,OAAOkB,QAAS,SAACJ,GAAD,OAAWqF,EAAKyB,eAAe9G,KAC5GnH,EAAAC,EAAAC,cAAC6I,EAAD,CAAwBxB,QAAS,SAACJ,GAAD,OAAWqF,EAAKyB,eAAe9G,KAC9DnH,EAAAC,EAAAC,cAACyN,EAAA,EAAqBC,IAASM,cAIpCxH,KAAK1D,MAAME,OACVlD,EAAAC,EAAAC,cAAA,KACEqN,MAAO,CACLY,UAAW,OACXL,SAAU,UAGXpH,KAAK1D,MAAME,MAAMpO,OACdkL,EAAAC,EAAAC,cAACyN,EAAA,EAADvZ,OAAAgM,OAAA,GAAsBwN,IAASQ,WAA/B,CAA2CnS,OAAQ,CAAEiH,MAAOwD,KAAK1D,MAAME,MAAMpO,WAC7EkL,EAAAC,EAAAC,cAACyN,EAAA,EAAqBC,IAASS,eAGtC3H,KAAK1D,MAAMqG,SACVrJ,EAAAC,EAAAC,cAAA,KACEqN,MAAO,CACLY,UAAW,OACXL,SAAU,UAGZ9N,EAAAC,EAAAC,cAACyN,EAAA,EAAqBC,IAASU,qBArM7CrF,EAAA,CAAmCvB,IAAMC,WAA5BsB,EAEJsD,ihBAyNMtD,siDChOR,IAAMsF,EAAiBlP,IAAOmG,IAAVgJ,KAOdC,EAAcpP,IAAOqP,MAAVC,KAKXC,EAAcvP,IAAOwP,MAAVC,KAcXC,EAAiB1P,IAAOmG,IAAVO,KA4CdiJ,EAAW,SAAA1G,GAAA,IAAGlP,EAAHkP,EAAGlP,KAAM6V,EAAT3G,EAAS2G,eAAgB7B,EAAzB9E,EAAyB8E,SAAzB,OACtBpN,EAAAC,EAAAC,cAACqO,EAAD,KACEvO,EAAAC,EAAAC,cAACuO,EAAD,KACEzO,EAAAC,EAAAC,cAAC0O,EAAD,CACExV,KAAMA,EACN6V,eAAgBA,EAChB7B,SAAU,SAAAV,GAAA,IAAGtB,EAAHsB,EAAGtB,OAAH,OAAgBgC,EAAShC,EAAO8D,YAE5ClP,EAAAC,EAAAC,cAAC6O,EAAD,ycC5EC,IAyCQI,EAzCf,SAAAjG,GAAA9U,OAAA+U,EAAA,EAAA/U,CAAA+a,EAAAjG,GAAA,IAAAvC,EAAAyI,EAAAD,GACE,SAAAA,EAAY3P,GAAQ,OAAApL,OAAAqS,EAAA,EAAArS,CAAAsS,KAAAyI,GAAAxI,EAAAC,KAAAF,KACZlH,GAFV,OAAApL,OAAAmV,EAAA,EAAAnV,CAAA+a,EAAA,EAAAxa,IAAA,SAAAH,MAAA,WAMW,IAAAgS,EAAAE,KACP,OACE1G,EAAAC,EAAAC,cAAC4I,EAAD,KACE9I,EAAAC,EAAAC,cAAA,OAAKqN,MAAO,CAAEC,QAAS,eAAgB6B,MAAO,QAC5CrP,EAAAC,EAAAC,cAACoP,EAAD,CACEL,eAAgBvI,KAAKlH,MAAMmK,kBAC3BvQ,KAAK,WACLmU,MAAO,CAAEgC,YAAa,OACtBnC,SAAU,SAAC5Y,GAAD,OACRgS,EAAKhH,MAAMsC,kBAAkB,cAAetN,MAGhDwL,EAAAC,EAAAC,cAAA,aAAOF,EAAAC,EAAAC,cAACyN,EAAA,EAAqBC,IAAS4B,qBAExCxP,EAAAC,EAAAC,cAAA,OACEqN,MAAO,CAAEC,QAAS,eAAgB6B,MAAO,MAAOI,YAAa,SAE7DzP,EAAAC,EAAAC,cAACoP,EAAD,CACElW,KAAK,WACL6V,eAAgBvI,KAAKlH,MAAMqK,mBAC3B0D,MAAO,CAAEgC,YAAa,OACtBnC,SAAU,SAAC5Y,GAAD,OACRgS,EAAKhH,MAAMsC,kBAAkB,eAAgBtN,MAGjDwL,EAAAC,EAAAC,cAAA,aAAOF,EAAAC,EAAAC,cAACyN,EAAA,EAAqBC,IAAS8B,2BA/BhDP,EAAA,CAAkCzH,IAAMC,6dCSjC,IAAMgI,EAAb,SAAAzG,GAAA9U,OAAA+U,EAAA,EAAA/U,CAAAub,EAAAzG,GAAA,IAAAvC,EAAAiJ,EAAAD,GACE,SAAAA,EAAYnQ,GAAQ,OAAApL,OAAAqS,EAAA,EAAArS,CAAAsS,KAAAiJ,GAAAhJ,EAAAC,KAAAF,KACZlH,GAFV,OAAApL,OAAAmV,EAAA,EAAAnV,CAAAub,EAAA,EAAAhb,IAAA,SAAAH,MAAA,WAIW,IAAAgS,EAAAE,KACP,OACE1G,EAAAC,EAAAC,cAAC2P,EAAD,KACE7P,EAAAC,EAAAC,cAAC4P,EAAD1b,OAAAgM,OAAA,CACEsL,OAAQ,kBAAMlF,EAAKhH,MAAMuQ,aAAY,IACrCC,QAAS,kBAAMxJ,EAAKhH,MAAMuQ,eAC1BvG,WAAY,eAAAyG,EAAA,OAAaA,EAAAzJ,EAAKhH,OAAMgK,WAAX3L,MAAAoS,EAAApb,aACrB6R,KAAKlH,MAJX,CAKE6I,aAAc,eAAA6H,EAAA,OAAaA,EAAA1J,EAAKhH,OAAM6I,aAAXxK,MAAAqS,EAAArb,eAE7BmL,EAAAC,EAAAC,cAACiQ,EAAYzJ,KAAKlH,YAd1BmQ,EAAA,CAAgCjI,IAAMC,WAsBhCyI,EAAkBC,mCAAyB,CAC/C1G,kBAAmBhH,cACnBkH,mBAAoBjH,gBAaP0N,sBAAQF,EAVvB,SAA4BG,GAC1B,MAAO,CACLjP,YAAa,kBAAaiP,EAASjP,IAAWzD,WAAX,EAAAhJ,aACnCiN,kBAAmB,kBAAayO,EAASzO,IAAiBjE,WAAjB,EAAAhJ,aACzCwT,aAAc,SAACE,EAASC,EAAUgI,GAApB,OACZD,EAASlI,YAAa,CAAEE,UAASC,WAAUgI,aAKlCF,CAA6CX,+uWCxDrD,SAASc,EAAmBnU,GAAuB,IAAhBN,EAAgBnH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAClD,MAAO,CACHuE,KAAMsX,IACNtO,KAAKhO,OAAAuc,EAAA,EAAAvc,CAAA,CACDkI,SACGN,EAFH,CAGAA,UAAW,SAKhB,SAAS4U,EAAsBtU,GAAuB,IAAhBN,EAAgBnH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GACrD,MAAO,CACHuE,KAAMsX,IACNtO,KAAKhO,OAAAuc,EAAA,EAAAvc,CAAA,CACDkI,SACGN,EAFH,CAGAA,UAAW,YAMhB,SAAS6U,EAAoB9T,GAChC,MAAO,CACH3D,KAAMsX,IACNtO,KAAMrF,GAIP,SAAS+T,EAAwBC,GACpC,MAAO,CACH3X,KAAMsX,IACNtO,KAAM2O,GAIP,SAASC,EAA+BC,GAC3C,MAAO,CACH7X,KAAMsX,IACNtO,KAAM6O,GAIP,SAASC,EAA6BC,GACzC,MAAO,CACH/X,KAAMsX,IACNtO,KAAM+O,GAIP,SAASC,IACZ,MAAO,CACHhY,KAAMsX,KAIP,SAASW,EAAa1X,EAAQD,GACjC,MAAO,CACHN,KAAMsX,IACNtO,KAAM,CAAEzI,SAAQD,aAIjB,SAAS4X,EAAoB3X,GAChC,MAAO,CACHP,KAAMsX,IACNtO,KAAMzI,GAIP,SAAS4X,EAAW/c,GAAqB,IAAduF,EAAclF,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAN,KACtC,MAAO,CACHuE,KAAMsX,IACNtO,KAAM,CAAE5N,QAAOuF,UAIhB,SAASyX,IACZ,MAAO,CACHpY,KAAMsX,KAIP,SAASe,EAAkB9X,GAC9B,MAAO,CACHP,KAAMsX,IACNtO,KAAMzI,GAIP,SAAS+X,EAAiB3X,EAAOvF,GACpC,MAAO,CACH4E,KAAMsX,IACNtO,KAAM,CAAErI,QAAOvF,UAIhB,SAASmd,EAAsBxT,GAClC,MAAO,CACH/E,KAAMsX,IACNtO,KAAMjE,GAIP,SAASyT,EAAwBvO,GACpC,MAAO,CACHjK,KAAMsX,IACNtO,KAAMiB,GAIP,SAASwO,EAAwBnY,GACpC,MAAO,CACHN,KAAMsX,IACNtO,KAAM1I,m7CCxGP,IAAM8C,EAAsB,SAACsV,GAAD,IAASC,EAATld,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAoBmd,IAApB,OAA+CF,EAAOpe,QAAQqe,IAE1F,SAASxU,EAAY+H,GAAqC,IAA7B2M,EAA6Bpd,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAlBqd,IAC7C,SAAAhc,OAAUsG,EAAoB8I,IAA9BpP,OAAwC+b,GAG1C,SAASE,EAAM/Y,EAAM5E,GACnB,OAAQ4E,GACN,IAAK,SACL,IAAK,SACL,IAAK,QACH,OAAO5E,EAAQA,EAAM4d,UAAU,EAAG,GAAK,GACzC,IAAK,OACH,OAAO5d,EAAQA,EAAM4d,UAAU,EAAG,IAAM,GAC1C,QACE,OAAO5d,GAIN,SAAS6H,EAAkBgO,GAChC,MAA4B,iBAAxBgI,IACF,GAAAnc,OAAUic,EAAM,OAAQ9H,EAAKiI,OAE/B,GAAApc,OAAUic,EAAM,QAAS9H,EAAKkI,OAA9B,KAAArc,OAAwCmU,EAAKD,OAAO9V,IAAI,SAACke,GAAD,OAAOL,EAAM,SAAUK,KAAI3V,OAAnF,MAAA3G,OACEmU,EAAKF,KADP,KAAAjU,OAEMic,EAAM,QAAS9H,EAAKoI,QAF1B,KAKK,IAAM9V,EAAY,SAAA2L,GAA2B,IAAxBtM,EAAwBsM,EAAxBtM,UAAWsJ,EAAagD,EAAbhD,OACrC,OAAItJ,IAAc0W,IACTpN,EAGLtJ,IAAc2W,KACPrN,OADX,GAKW5I,EAAc,SAAAgQ,GAA+D,IAA5DpQ,EAA4DoQ,EAA5DpQ,MAAON,EAAqD0Q,EAArD1Q,UAAWsJ,EAA0CoH,EAA1CpH,OAAQsN,EAAkClG,EAAlCkG,aAAcC,EAAoBnG,EAApBmG,cACpE,IAAK7W,EACH,OAAO,EAGT,IAAI8W,EAAWxN,EAAShJ,EAAMG,MAS9B,GAPImW,IAAiBG,IACnBD,GAAa,EAAID,EAAgB,IAE1BD,IAAiBI,MACxBF,GAAYD,GAGVC,EAAYxN,EAAShJ,EAAMG,OAAUqW,GAAY,EACnD,OAAO,EAGT,GAAI9W,IAAc0W,IAChB,OAAOI,EAGT,GAAI9W,IAAc2W,IAChB,OAASG,EAGX,MAAM,IAAIG,MAAJ,mBAAA/c,OAA6B8F,EAA7B,oBAAA9F,OAAyDwc,IAAzD,UAAAxc,OAAoFyc,IAApF,OAGFO,EAAmB,SAACpW,EAAUqW,GAAoC,IAArBpZ,EAAqBlF,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAb,SACnDkI,EAAUD,EAASsW,KAAK,SAAA/F,GAAA,OAAAA,EAAGrQ,SAAwBmW,IACzD,OAAIpW,EACKA,EAAQhD,GAEV,MAGIsZ,EAA6B,SAACvW,GAAD,OACxCoW,EAAiBpW,EAAUG,MAEhBqW,EAAuB,SAACxW,GAAD,OAClCoW,EAAiBpW,EAAUK,MAEhBoW,EAA0B,SAACzW,GAAD,OACrCoW,EAAiBpW,EAAUM,MAEhBoW,EAA2B,SAAC1W,GAAD,OACtCoW,EAAiBpW,EAAUM,IAAwB,YAExCqW,EAAkB,SAACC,EAAS3X,GAKvC,IALsD4X,EAKhDC,EAAmBF,EAAQG,OAAO,SAACC,EAADC,GACA,IADQzX,EACRyX,EADQzX,MAAOuW,EACfkB,EADelB,cACrDD,EAAsCmB,EAAtCnB,aAAc5W,EAAwB+X,EAAxB/X,UAAWsJ,EAAayO,EAAbzO,OACnB0O,EAAoBF,EAAIxX,EAAM4F,WACpC,OAAI8R,EACK5f,OAAA6f,EAAA,EAAA7f,CAAA,GACF0f,EADL1f,OAAA8f,EAAA,EAAA9f,CAAA,GAEGkI,EAAM4F,UAFT9N,OAAA6f,EAAA,EAAA7f,CAAA,GAGO4f,EACChY,IAAc0W,KAAsB,CACtCyB,oBAAqB7O,EAAS0O,EAAkBG,qBAE9CnY,IAAc2W,KAAyB,CACzCyB,sBAAuB9O,EAAS0O,EAAkBI,0BAMnDhgB,OAAA6f,EAAA,EAAA7f,CAAA,GACF0f,EADL1f,OAAA8f,EAAA,EAAA9f,CAAA,GAEGkI,EAAM4F,UAFT9N,OAAA6f,EAAA,EAAA7f,CAAA,CAGIkI,QACAuW,gBACAD,eACAyB,YAAa,EACbC,cAAe,EACfH,oBAAqB,EACrBC,sBAAuB,GACnBpY,IAAc0W,KAAsB,CAAEyB,oBAAqB7O,GAC3DtJ,IAAc2W,KAAyB,CACzCyB,sBAAuB9O,OAI5B,IAvCmDiP,EAAAC,EA4CfzY,GA5Ce,IA2CtD,IAAAwY,EAAAE,MAAAd,EAAAY,EAAA1gB,KAAA6gB,MACmD,KAAAC,EAAAhB,EAAAnf,MADxC8H,EACwCqY,EADxCrY,MAAOuW,EACiC8B,EADjC9B,cAChBD,EAAiD+B,EAAjD/B,aAAc5W,EAAmC2Y,EAAnC3Y,UAAWsJ,EAAwBqP,EAAxBrP,OAEnBsP,EAAmBhB,EAAiBtX,EAAM4F,WAG9C0R,EAAiBtX,EAAM4F,WADrB0S,EACFxgB,OAAA6f,EAAA,EAAA7f,CAAA,GACKwgB,EADL,CAEE/B,gBACAD,gBACI5W,IAAc0W,KAAsB,CAAE2B,YAAa/O,EAASsP,EAAiBP,YAAarY,aAC1FA,IAAc2W,KAAyB,CACzC2B,cAAehP,EAASsP,EAAiBN,cACzCtY,cAKJ5H,OAAA6f,EAAA,EAAA7f,CAAA,CACEkI,QACAuW,gBACAD,eACAiC,YAAY,EACZR,YAAa,EACbC,cAAe,GACXtY,IAAc0W,KAAsB,CAAE2B,YAAa/O,GACnDtJ,IAAc2W,KAAyB,CACzC2B,cAAehP,GATnB,CAWEtJ,UAAW0W,IACXyB,oBAAqB,EACrBC,sBAAuB,KA1EyB,MAAAU,GAAAP,EAAArW,EAAA4W,GAAA,QAAAP,EAAArY,IAgFtD,OAAO9H,OAAO6H,OAAO2X,IAGVmB,EAAiB,SAAAC,GAAA,MAQV,CAChBC,UAT0BD,EAC5BC,UASE1Y,OAV0ByY,EAE5BzY,OASEoB,UAX0BqX,EAG5BrX,UASEuX,QAZ0BF,EAI5BE,QASEC,SAb0BH,EAK5BG,SASEC,SAd0BJ,EAM5BI,SASEtY,SAf0BkY,EAO5BlY,SASEf,WAhB0BiZ,EAQ5BjZ,8CC/LF3I,EAAAC,EAAAC,EAAA,sBAAA+hB,IAAAjiB,EAAAC,EAAAC,EAAA,sBAAAgiB,IAAAliB,EAAAC,EAAAC,EAAA,sBAAAmV,IAAArV,EAAAC,EAAAC,EAAA,sBAAAiiB,IAWO,IAAMF,EAAiB,KAEjBC,EAAqB,iCAIrB7M,EAAuB,mCACvB8M,EACX,+zCCXWrD,EAAmB,SASnBsD,EAAa,GACbnD,EAAsB,eACtBoD,EAAuB,mzBA2BvBC,EAA4B,GAC5B1D,EAAyB,EACzB1W,EAAqC,GACrCqa,EAAkB,UAElBC,EAAe,OACfC,EAAgB,QAChBC,EAAmB,WACnBC,EAAe,OACfC,EAAkB,UAClBC,EAAgB,QAChBC,EAAgB,QAChBC,EAAuB,cACvBC,EAAqB,YACrBC,EAA0B,iBAC1BC,EAA2B,kBAC3BC,EAA0B,iBAC1BC,EAA2B,kBAE3BC,GAAgBC,EAAA,GAAAtiB,OAAA8f,EAAA,EAAA9f,CAAAsiB,EAC1Bf,EA7D4B,SA4DFvhB,OAAA8f,EAAA,EAAA9f,CAAAsiB,EAfG,WAiBVxE,GAFO9d,OAAA8f,EAAA,EAAA9f,CAAAsiB,EAG1Bd,EA9D2B,MA2DDxhB,OAAA8f,EAAA,EAAA9f,CAAAsiB,EAI1Bb,EA3D0B,WAuDAzhB,OAAA8f,EAAA,EAAA9f,CAAAsiB,EAK1BZ,EA/D6B,iBA0DH1hB,OAAA8f,EAAA,EAAA9f,CAAAsiB,EAM1BX,EA9DyB,WAwDC3hB,OAAA8f,EAAA,EAAA9f,CAAAsiB,EAO1BV,EAAkB,IAPQ5hB,OAAA8f,EAAA,EAAA9f,CAAAsiB,EAQ1BT,EA9D0B,6BAsDA7hB,OAAA8f,EAAA,EAAA9f,CAAAsiB,EAS1BR,EA9D0B,gBAqDA9hB,OAAA8f,EAAA,EAAA9f,CAAAsiB,EAU1BP,EA9DiC,WAoDP/hB,OAAA8f,EAAA,EAAA9f,CAAAsiB,EAW1BN,EAAqB,IAXKhiB,OAAA8f,EAAA,EAAA9f,CAAAsiB,EAY1BL,EAA0BZ,GAZArhB,OAAA8f,EAAA,EAAA9f,CAAAsiB,EAa1BJ,EAhEqC,SAmDXliB,OAAA8f,EAAA,EAAA9f,CAAAsiB,EAc1BH,EAA0B,IAdAniB,OAAA8f,EAAA,EAAA9f,CAAAsiB,EAe1BF,EAA2B,IAfDE,GAuBhBzZ,EAA6B,6BAC7BC,EAAuB,uBACvBC,EAAsB,sBACtBwZ,EAAwB,wBACxBvZ,EAAyB,yBAQzBwZ,EAAoB,oBAGpBC,EAA0B,WAC1BC,EAA0B,WAC1BC,EAA6B,GAE7BrE,EAAqB,MACrBC,EAAwB,SACxBI,EAA2B,aAC3BC,EAAsB,QAOtBgE,EAAsB,yBACtBC,EAAqB,wBACrBC,EAAuB,mGCvHpC,IAAAC,EAAA/jB,EAAA,IAOegkB,gBAAe,CAC5BC,SAAU,CACR/Z,GAAI,oCACJga,eAAgB,mCAElBC,aAAc,CACZja,GAAI,wCACJga,eAAgB,6DAElBzJ,WAAY,CACVvQ,GAAI,uCACJga,eAAgB,wBAElBvJ,UAAW,CACTzQ,GAAI,sCACJga,eAAgB,0CAElBlJ,WAAY,CACV9Q,GAAI,uCACJga,eAAgB,uBAElBjJ,aAAc,CACZ/Q,GAAI,yCACJga,eAAgB,kBAElBpJ,UAAW,CACT5Q,GAAI,sCACJga,eAAgB,iDAElBhJ,aAAc,CACZhR,GAAI,yCACJga,eAAgB,0BAElB9H,kBAAmB,CACjBlS,GAAI,+CACJga,eAAgB,wBAElB5H,mBAAoB,CAClBpS,GAAI,gDACJga,eAAgB,yBAElBE,aAAc,CACZla,GAAI,yCACJga,eAAgB,MAElBpV,UAAW,CACT5E,GAAI,2CACJga,eAAgB,aAElB/E,MAAO,CACLjV,GAAI,uCACJga,eAAgB,SAElB7E,OAAQ,CACNnV,GAAI,wCACJga,eAAgB,UAElB5X,MAAO,CACLpC,GAAI,uCACJga,eAAgB,SAElBnN,KAAM,CACJ7M,GAAI,sCACJga,eAAgB,QAElB7a,MAAO,CACLa,GAAI,uCACJga,eAAgB,SAElBhS,OAAQ,CACNhI,GAAI,wCACJga,eAAgB,+BC9EpB,wBAAAG,QAAA,CAAoC,IAAAvZ,EAAA,IAAA+U,MAAA,gCAA+E,MAA7B/U,EAAAwZ,KAAA,mBAA6BxZ,EACnHyZ,EAAAC,QAAAH,mRCWoBI,QACW,cAA7B7iB,OAAO8iB,SAASC,UAEe,UAA7B/iB,OAAO8iB,SAASC,UAEhB/iB,OAAO8iB,SAASC,SAASle,MACvB,oPCjBOme,EAAe,yDCDbC,EAAA,CACbxjB,MAAO,eACPyjB,QAAS,EACTC,YAAa,8BACb/e,KAAM,SACNgf,WAAY,CACVtd,WAAY,CACV1B,KAAM,SACNif,OAAO,GAET/a,GAAI,CACFlE,KAAM,SACNwG,SAAS,EACT0Y,OAAO,GAETpW,UAAW,CACT9I,KAAM,SACNif,OAAO,EACPC,OAAO,GAET/F,MAAO,CACLnZ,KAAM,UAER+Q,KAAM,CACJ/Q,KAAM,UAERqD,MAAO,CACLrD,KAAM,UAERkM,OAAQ,CACNlM,KAAM,UAERqZ,OAAQ,CACNrZ,KAAM,UAERgR,OAAQ,CACNhR,KAAM,QACNmf,aAAa,EACblO,KAAM,CACJjR,KAAM,WAGVof,KAAM,CACJpf,KAAM,SACNqf,QAAS,EACTJ,OAAO,KC7CAK,EAAuB,0cCI7B,IAAMC,EAAb,SAAAC,GAAAxkB,OAAA+U,EAAA,EAAA/U,CAAAukB,EAAAC,GAAA,IAAAjS,EAAAyC,EAAAuP,GACE,SAAAA,IAAiC,IAAAnS,EAArBtI,EAAqBrJ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAjB,CAAEgkB,QAAS,IAAM,OAAAzkB,OAAAqS,EAAA,EAAArS,CAAAsS,KAAAiS,IAC/BnS,EAAAG,EAAAC,KAAAF,OACKjS,MAAQ,8BACb+R,EAAKkR,KAAO,uBACZlR,EAAKqS,QAAU3a,EAAE2a,SAAWrS,EAAK/R,MAJF+R,EADnC,OAAAmS,EAAA,CAAAvkB,OAAA0kB,EAAA,EAAA1kB,CAA0C6e,wcCAnC,IAAM8F,EAAb,SAAAH,GAAAxkB,OAAA+U,EAAA,EAAA/U,CAAA2kB,EAAAH,GAAA,IAAAjS,EAAAqS,EAAAD,GACE,SAAAA,IAA6C,IAAAvS,EAAjCtI,EAAiCrJ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA7B,CAAEgkB,QAAS,IAAMvc,EAAYzH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAAI,OAAAT,OAAAqS,EAAA,EAAArS,CAAAsS,KAAAqS,IAC3CvS,EAAAG,EAAAC,KAAAF,KAAMxI,IACDzJ,MAAQ,6BACb+R,EAAKkR,KAAO,sBACZlR,EAAKpE,KAAO9F,EACZkK,EAAKqS,QAAL,SAAA3iB,OAAwBuF,KAAKwd,UAC3B3c,GADF,qDAAApG,OAEqDgI,EAAE2a,SAPZrS,EAD/C,OAAAuS,EAAA,CAAA3kB,OAAA0kB,EAAA,EAAA1kB,CAAyC6e,QAgB5BiG,EAAb,SAAAC,GAAA/kB,OAAA+U,EAAA,EAAA/U,CAAA8kB,EAAAC,GAAA,IAAAC,EAAAJ,EAAAE,GACE,SAAAA,IAA6C,IAAAlS,EAAjC9I,EAAiCrJ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA7B,CAAEgkB,QAAS,IAAMvc,EAAYzH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAAI,OAAAT,OAAAqS,EAAA,EAAArS,CAAAsS,KAAAwS,IAC3ClS,EAAAoS,EAAAxS,KAAAF,KAAMxI,IACDzJ,MAAQ,6BACbuS,EAAK0Q,KAAO,sBACZ1Q,EAAK5E,KAAO9F,EACZ0K,EAAK6R,QAAL,SAAA3iB,OAAwBuF,KAAKwd,UAC3B3c,GADF,mKAAApG,OAGEgI,EAAE2a,SARuC7R,EAD/C,OAAAkS,EAAA,CAAA9kB,OAAA0kB,EAAA,EAAA1kB,CAAyC6e,QAkB5BoG,EAAb,SAAAC,GAAAllB,OAAA+U,EAAA,EAAA/U,CAAAilB,EAAAC,GAAA,IAAAC,EAAAP,EAAAK,GACE,SAAAA,IAAyD,IAAA3O,EAA7CxM,EAA6CrJ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAzC,CAAEgkB,QAAS,IAAM9e,EAAwBlF,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAhB,GAAIL,EAAYK,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAAI,OAAAT,OAAAqS,EAAA,EAAArS,CAAAsS,KAAA2S,IACvD3O,EAAA6O,EAAA3S,KAAAF,KAAMxI,IACDzJ,MAAQ,0BACbiW,EAAKgN,KAAO,2BACZhN,EAAKtI,KAAO,CAAErI,QAAOvF,SACrBkW,EAAKmO,QAAL,+BAAA3iB,OAA8C6D,EAA9C,iBAAA7D,OAAmE1B,EAAnE,+BAAA0B,OACEgI,EAAE2a,SANmDnO,EAD3D,OAAA2O,EAAA,CAAAjlB,OAAA0kB,EAAA,EAAA1kB,CAA8C6e,QAgBjCuG,EAAb,SAAAC,GAAArlB,OAAA+U,EAAA,EAAA/U,CAAAolB,EAAAC,GAAA,IAAAC,EAAAV,EAAAQ,GACE,SAAAA,IAA6C,IAAAhN,EAAjCtO,EAAiCrJ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA7B,CAAEgkB,QAAS,IAAMc,EAAY9kB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAAI,OAAAT,OAAAqS,EAAA,EAAArS,CAAAsS,KAAA8S,IAC3ChN,EAAAkN,EAAA9S,KAAAF,KAAMxI,IACDzJ,MAAQ,oCACb+X,EAAKkL,KAAO,kBACZlL,EAAKpK,KAAO,CAAEuX,QAAOzb,KACrBsO,EAAKqM,QAAL,2DAAA3iB,OACEuF,KAAKwd,UAAUU,GADjB,iBAAAzjB,OAESgI,EAAE2a,SAPgCrM,EAD/C,OAAAgN,EAAA,CAAAplB,OAAA0kB,EAAA,EAAA1kB,CAAqC6e,QC9BxB2G,EAAb,WAkDE,SAAAA,EAAYC,EAAIC,GACd,GAD2B1lB,OAAAqS,EAAA,EAAArS,CAAAsS,KAAAkT,GAAAlT,KAxC7BqT,SAAW,CAAEhY,MAAO2W,EAAsB1W,KAAM,GAwCpB0E,KAvC5BsT,QAAU,CACRC,UAAW,iBAAO,CAChBlY,MAAOmY,OAAOC,mBAEhBC,QAAS,iBAAO,CACdvgB,MAAO,CAEL2e,KAAM,CACJ6B,KAAM,IAGVtY,MAAO,GACPC,KAAM,EACNsY,KAAM,CAAE9B,MAAO,KAEjB+B,WAAY,iBAAO,CACjB1gB,MAAO,CAEL2e,KAAM,CACJ6B,KAAM,IAGVtY,MAAO,GACPC,KAAM,EACNsY,KAAM,CACJ9B,KAAM,KAGVgC,cAAe,iBAAO,CACpB3gB,MAAO,CACLyL,OAAQ,CACNmV,IAAK,IAGT1Y,MAAO,GACPC,KAAM,MAKH0Y,uBAAab,GAChB,MAAM,IAAI5G,MAAM,mCAElB,IAAK0H,yBAAeb,GAClB,MAAM,IAAI7G,MAAM,qCAElBvM,KAAKmT,GAAKA,EACVnT,KAAKoT,WAAaA,EA1DtB,OAAA1lB,OAAAmV,EAAA,EAAAnV,CAAAwlB,EAAA,EAAAjlB,IAAA,QAAAH,MAAA,eAAAomB,EAAAxmB,OAAAymB,EAAA,EAAAzmB,CAAA0mB,EAAA7a,EAAA8a,KAAA,SAAAC,EAkEcrB,GAlEd,OAAAmB,EAAA7a,EAAAgb,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAoEmB1U,KAAK2U,IAAI1B,GApE5B,cAAAuB,EAAAI,OAAA,SAAAJ,EAAAK,MAAA,aAAAL,EAAAC,KAAA,EAAAD,EAAAM,GAAAN,EAAA,SAsEY,IAAI1B,EAAJ0B,EAAAM,GAAuB7B,GAtEnC,wBAAAuB,EAAAO,SAAAT,EAAAtU,KAAA,4BAAAgV,GAAA,OAAAd,EAAA/c,MAAA6I,KAAA7R,YAAA,KAAAF,IAAA,SAAAH,MAAA,eAAAmnB,EAAAvnB,OAAAymB,EAAA,EAAAzmB,CAAA0mB,EAAA7a,EAAA8a,KAAA,SAAAa,EAgFetf,EAAOrC,GAhFtB,OAAA6gB,EAAA7a,EAAAgb,KAAA,SAAAY,GAAA,cAAAA,EAAAV,KAAAU,EAAAT,MAAA,cAAAS,EAAAV,KAAA,EAAAU,EAAAT,KAAA,EAkFoBU,kBAAQxf,GAClBoK,KAAKqV,YAAYzf,EAAOrC,GACxByM,KAAKsV,UAAU1f,EAAOrC,GApFhC,cAAA4hB,EAAAP,OAAA,SAAAO,EAAAN,MAAA,aAAAM,EAAAV,KAAA,EAAAU,EAAAL,GAAAK,EAAA,SAsFY,IAAI9C,EAAJ8C,EAAAL,GAA2Blf,GAtFvC,wBAAAuf,EAAAJ,SAAAG,EAAAlV,KAAA,4BAAAuV,EAAAC,GAAA,OAAAP,EAAA9d,MAAA6I,KAAA7R,YAAA,KAAAF,IAAA,SAAAH,MAAA,eAAA2nB,EAAA/nB,OAAAymB,EAAA,EAAAzmB,CAAA0mB,EAAA7a,EAAA8a,KAAA,SAAAqB,IAAA,IAAA9f,EAAA+f,EAAAxnB,UAAA,OAAAimB,EAAA7a,EAAAgb,KAAA,SAAAqB,GAAA,cAAAA,EAAAnB,KAAAmB,EAAAlB,MAAA,cA+Fe9e,EA/Ff+f,EAAAvnB,OAAA,QAAAC,IAAAsnB,EAAA,GAAAA,EAAA,GA+FuB,GA/FvBC,EAAAnB,KAAA,EAAAmB,EAAAlB,KAAA,EAiGY1U,KAAK6V,UAAUjgB,GAjG3B,cAAAggB,EAAAlB,KAAA,EAmGmB1U,KAAK8V,OAAOlgB,GAnG/B,cAAAggB,EAAAhB,OAAA,SAAAgB,EAAAf,MAAA,aAAAe,EAAAnB,KAAA,EAAAmB,EAAAd,GAAAc,EAAA,SAqGY,IAAIpD,EAAJoD,EAAAd,GAA2Blf,GArGvC,yBAAAggB,EAAAb,SAAAW,EAAA1V,KAAA,qCAAAyV,EAAAte,MAAA6I,KAAA7R,YAAA,KAAAF,IAAA,iBAAAH,MAAA,eAAAioB,EAAAroB,OAAAymB,EAAA,EAAAzmB,CAAA0mB,EAAA7a,EAAA8a,KAAA,SAAA2B,IAAA,IAAApgB,EAAAqgB,EAAAC,EAAA/nB,UAAA,OAAAimB,EAAA7a,EAAAgb,KAAA,SAAA4B,GAAA,cAAAA,EAAA1B,KAAA0B,EAAAzB,MAAA,cA8GuB9e,EA9GvBsgB,EAAA9nB,OAAA,QAAAC,IAAA6nB,EAAA,GAAAA,EAAA,GA8G+B,GA9G/BC,EAAA1B,KAAA,EAAA0B,EAAArB,GAgH2BsB,QAhH3BD,EAAAzB,KAAA,EAgHuC1U,KAAK6V,UAAUjgB,GAhHtD,cAAAugB,EAAAE,GAAAF,EAAAtB,KAgHYoB,GAhHZ,EAAAE,EAAArB,IAAAqB,EAAAE,IAAAF,EAAAzB,KAAA,EAkHmB1U,KAAK8V,OAALpoB,OAAA4oB,EAAA,EAAA5oB,CAAA,GACRuoB,EAAaM,MADL,CAEX3X,OAAQqX,EAAarX,OAAShJ,EAAMgJ,UApH5C,cAAAuX,EAAAvB,OAAA,SAAAuB,EAAAtB,MAAA,cAAAsB,EAAA1B,KAAA,GAAA0B,EAAAK,GAAAL,EAAA,SAuHY,IAAI3D,EAAJ2D,EAAAK,GAA2B5gB,GAvHvC,yBAAAugB,EAAApB,SAAAiB,EAAAhW,KAAA,sCAAA+V,EAAA5e,MAAA6I,KAAA7R,YAAA,KAAAF,IAAA,iBAAAH,MAAA,eAAA2oB,EAAA/oB,OAAAymB,EAAA,EAAAzmB,CAAA0mB,EAAA7a,EAAA8a,KAAA,SAAAqC,IAAA,IAAA9gB,EAAAqgB,EAAAU,EAAAxoB,UAAA,OAAAimB,EAAA7a,EAAAgb,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,cAgIuB9e,EAhIvB+gB,EAAAvoB,OAAA,QAAAC,IAAAsoB,EAAA,GAAAA,EAAA,GAgI+B,GAhI/BC,EAAAnC,KAAA,EAAAmC,EAAA9B,GAkI2BsB,QAlI3BQ,EAAAlC,KAAA,EAkIuC1U,KAAK6V,UAAUjgB,GAlItD,cAAAghB,EAAAP,GAAAO,EAAA/B,KAkIYoB,GAlIZ,EAAAW,EAAA9B,IAAA8B,EAAAP,IAAAO,EAAAlC,KAAA,EAoImB1U,KAAK8V,OAALpoB,OAAA4oB,EAAA,EAAA5oB,CAAA,GACRuoB,EAAaM,MADL,CAEX3X,OAAQqX,EAAarX,OAAShJ,EAAMgJ,OACpCkT,KAAMmE,EAAanE,KAAOlc,EAAMgJ,UAvIxC,cAAAgY,EAAAhC,OAAA,SAAAgC,EAAA/B,MAAA,cAAA+B,EAAAnC,KAAA,GAAAmC,EAAAJ,GAAAI,EAAA,SA0IY,IAAIpE,EAAJoE,EAAAJ,GAA2B5gB,GA1IvC,yBAAAghB,EAAA7B,SAAA2B,EAAA1W,KAAA,sCAAAyW,EAAAtf,MAAA6I,KAAA7R,YAAA,KAAAF,IAAA,MAAAH,MAAA,eAAA+oB,EAAAnpB,OAAAymB,EAAA,EAAAzmB,CAAA0mB,EAAA7a,EAAA8a,KAAA,SAAAyC,IAAA,IAAAlV,EAAAzO,EAAA4jB,EAAA1b,EAAA2b,EAAA1b,EAAA2b,EAAAC,EAAAC,EAAAvD,EAAAwD,EAAAC,EAAAC,EAAAC,EAAA/a,EAAAC,EAAAqD,EAAAE,KAAAwX,EAAArpB,UAAA,OAAAimB,EAAA7a,EAAAgb,KAAA,SAAAkD,GAAA,cAAAA,EAAAhD,KAAAgD,EAAA/C,MAAA,UAAA9S,EAAA4V,EAAAppB,OAAA,QAAAC,IAAAmpB,EAAA,GAAAA,EAAA,GAyJM,GALFrkB,EApJJyO,EAoJIzO,MApJJ4jB,EAAAnV,EAqJIvG,aArJJ,IAAA0b,EAqJY/W,KAAKqT,SAAShY,MArJ1B0b,EAAAC,EAAApV,EAsJItG,YAtJJ,IAAA0b,EAsJWhX,KAAKqT,SAAS/X,KAtJzB0b,EAAAC,EAAArV,EAuJIsV,aAvJJ,IAAAD,KAAAE,EAAAvV,EAwJIgS,YAxJJ,IAAAuD,EAwJW,CAAE/iB,WAAY,QAxJzB+iB,EA0JUC,EAAcpX,KAAKoT,WACtB1G,KAAKvZ,GACLkI,MAAMA,GACNC,KAAKA,GACLsY,KAAKA,GACL8D,OACER,EAhKT,CAAAO,EAAA/C,KAAA,eAAA+C,EAAA7C,OAAA,SAgKuBwC,GAhKvB,cAiKUC,EAAc,IAAIM,QAAJ,eAAA3R,EAAAtY,OAAAymB,EAAA,EAAAzmB,CAAA0mB,EAAA7a,EAAA8a,KAAY,SAAAuD,EAAOC,GAAP,IAAAC,EAAA,OAAA1D,EAAA7a,EAAAgb,KAAA,SAAAwD,GAAA,cAAAA,EAAAtD,KAAAsD,EAAArD,MAAA,cAAAqD,EAAArD,KAAA,EACN5U,EAAKsT,WAAW1G,KAAKvZ,GAAOukB,OADtB,OACxBI,EADwBC,EAAAlD,KAE9BgD,EAAQC,EAAU1pB,QAFY,wBAAA2pB,EAAAhD,SAAA6C,MAAZ,gBAAAI,GAAA,OAAAhS,EAAA7O,MAAA6I,KAAA7R,YAAA,IAjKxBspB,EAAA/C,KAAA,EAqKiCiD,QAAQM,IAAI,CAACb,EAAaC,IArK3D,cAAAC,EAAAG,EAAA5C,KAAA0C,EAAA7pB,OAAAyW,EAAA,EAAAzW,CAAA4pB,EAAA,GAqKW9a,EArKX+a,EAAA,GAqKkB9a,EArKlB8a,EAAA,GAAAE,EAAA7C,OAAA,SAsKW,CAAEpY,QAAOC,QAAOpB,QAAOC,SAtKlC,yBAAAmc,EAAA1C,SAAA+B,EAAA9W,SAAA,yBAAA6W,EAAA1f,MAAA6I,KAAA7R,YAAA,KAAAF,IAAA,UAAAH,MAAA,eAAAoqB,EAAAxqB,OAAAymB,EAAA,EAAAzmB,CAAA0mB,EAAA7a,EAAA8a,KAAA,SAAA8D,EA+KgB9kB,EAAOvF,GA/KvB,IAAAsqB,EAAA,OAAAhE,EAAA7a,EAAAgb,KAAA,SAAA8D,GAAA,cAAAA,EAAA5D,KAAA4D,EAAA3D,MAAA,UAAA2D,EAAA5D,KAAA,EAiLW3mB,EAjLX,CAAAuqB,EAAA3D,KAAA,eAAA2D,EAAAzD,OAAA,SAiLyB,CAAE9mB,QAAO0O,MAAO,KAjLzC,cAAA6b,EAAA3D,KAAA,EAkL4B1U,KAAK2U,IAAI,CAC7BxhB,MAAMzF,OAAA4qB,EAAA,EAAA5qB,CAAA,GAAI2F,EAAQ,CAAEklB,OAAQ,IAAIC,OAAJ,IAAAhpB,OAAe1B,QAnLnD,cAkLY6O,EAlLZ0b,EAAAxD,KAAAwD,EAAAzD,OAAA,SAsLa,CAAE9mB,QAAO0O,MAAOG,EAAQH,MAAM5O,IAAI,SAAC6H,GAAD,OAAOA,EAAEpC,OAtLxD,aAAAglB,EAAA5D,KAAA,EAAA4D,EAAAvD,GAAAuD,EAAA,SAwLY,IAAI1F,EAAJ0F,EAAAvD,GAAgCzhB,EAAOvF,GAxLnD,yBAAAuqB,EAAAtD,SAAAoD,EAAAnY,KAAA,4BAAAyY,EAAAC,GAAA,OAAAR,EAAA/gB,MAAA6I,KAAA7R,YAAA,KAAAF,IAAA,SAAAH,MAAA,eAAA6qB,EAAAjrB,OAAAymB,EAAA,EAAAzmB,CAAA0mB,EAAA7a,EAAA8a,KAAA,SAAAuE,EAiMepd,GAjMf,OAAA4Y,EAAA7a,EAAAgb,KAAA,SAAAsE,GAAA,cAAAA,EAAApE,KAAAoE,EAAAnE,MAAA,cAAAmE,EAAAjE,OAAA,SAkMW5U,KAAKoT,WAAW0F,QAAQ,CAAEtd,UAAW,CAAEuY,IAAKvY,KAAe6E,UAlMtE,wBAAAwY,EAAA9D,SAAA6D,EAAA5Y,SAAA,gBAAA+Y,GAAA,OAAAJ,EAAAxhB,MAAA6I,KAAA7R,YAAA,KAAAF,IAAA,YAAAH,MAAA,eAAAkrB,EAAAtrB,OAAAymB,EAAA,EAAAzmB,CAAA0mB,EAAA7a,EAAA8a,KAAA,SAAA4E,IAAA,OAAA7E,EAAA7a,EAAAgb,KAAA,SAAA2E,GAAA,cAAAA,EAAAzE,KAAAyE,EAAAxE,MAAA,cAAAwE,EAAAxE,KAAA,EA2MU1U,KAAKoT,WAAW/S,SA3M1B,cAAA6Y,EAAAxE,KAAA,EA4M4B1U,KAAKmT,GAAGC,WAAW,CACzC1f,KAAM,QACNylB,WA9MN,OA4MInZ,KAAKoT,WA5MT8F,EAAArE,KAAA,wBAAAqE,EAAAnE,SAAAkE,EAAAjZ,SAAA,yBAAAgZ,EAAA7hB,MAAA6I,KAAA7R,YAAA,KAAAF,IAAA,OAAAH,MAAA,eAAAsrB,EAAA1rB,OAAAymB,EAAA,EAAAzmB,CAAA0mB,EAAA7a,EAAA8a,KAAA,SAAAgF,IAAA,IAAA5d,EAAA6d,EAAAnrB,UAAA,OAAAimB,EAAA7a,EAAAgb,KAAA,SAAAgF,GAAA,cAAAA,EAAA9E,KAAA8E,EAAA7E,MAAA,cAuNajZ,IAvNb6d,EAAAlrB,OAAA,QAAAC,IAAAirB,EAAA,KAAAA,EAAA,GAAAC,EAAA3E,OAAA,SAwNW5U,KAAKoT,WAAWoG,KAAK/d,IAxNhC,wBAAA8d,EAAAxE,SAAAsE,EAAArZ,SAAA,yBAAAoZ,EAAAjiB,MAAA6I,KAAA7R,YAAA,KAAAF,IAAA,oBAAAH,MAAA,SAiOoB6V,GAAM,IAAArD,EAAAN,KACtB,SAAAxQ,OAAUwQ,KAAKyL,MAAM,QAAS9H,EAAKkI,OAAnC,KAAArc,OAA6CmU,EAAKD,OAC/C9V,IAAI,SAACke,GAAD,OAAOxL,EAAKmL,MAAM,SAAUK,KAChC3V,OAFH,MAAA3G,OAEcmU,EAAKF,KAFnB,KAAAjU,OAE2BwQ,KAAKyL,MAAM,QAAS9H,EAAKoI,QAFpD,OAlOJ,CAAA9d,IAAA,cAAAH,MAAA,eAAA2rB,EAAA/rB,OAAAymB,EAAA,EAAAzmB,CAAA0mB,EAAA7a,EAAA8a,KAAA,SAAAqF,IAAA,IAAA9jB,EAAArC,EAAAomB,EAAA3V,EAAAhE,KAAA4Z,EAAAzrB,UAAA,OAAAimB,EAAA7a,EAAAgb,KAAA,SAAAsF,GAAA,cAAAA,EAAApF,KAAAoF,EAAAnF,MAAA,UA4PoB9e,EA5PpBgkB,EAAAxrB,OAAA,QAAAC,IAAAurB,EAAA,GAAAA,EAAA,GA4P4B,GAAIrmB,EA5PhCqmB,EAAAxrB,OAAA,QAAAC,IAAAurB,EAAA,GAAAA,EAAA,GA4P0C,GACjChkB,EAAMxH,OA7Pf,CAAAyrB,EAAAnF,KAAA,cA8PY,IAAInI,MAAM,wBA9PtB,WAiQQhZ,EAAQ8M,OAjQhB,CAAAwZ,EAAAnF,KAAA,eAAAmF,EAAAnF,KAAA,EAkQY1U,KAAK8Z,YAlQjB,cAsQUH,EAAoBI,iBAAOnkB,EAAO,aAAahI,IAAI,SAACmgB,GAAD,OAAO/J,EAAKsR,UAAUvH,GAAG,KAtQtF8L,EAAAjF,OAAA,SAwQW+C,QAAQM,IAAI0B,IAxQvB,wBAAAE,EAAA9E,SAAA2E,EAAA1Z,SAAA,yBAAAyZ,EAAAtiB,MAAA6I,KAAA7R,YAAA,KAAAF,IAAA,YAAAH,MAAA,eAAAksB,EAAAtsB,OAAAymB,EAAA,EAAAzmB,CAAA0mB,EAAA7a,EAAA8a,KAAA,SAAA4F,IAAA,IAAArkB,EAAAskB,EAAAC,EAAAC,EAAAjsB,UAAA,OAAAimB,EAAA7a,EAAAgb,KAAA,SAAA8F,GAAA,cAAAA,EAAA5F,KAAA4F,EAAA3F,MAAA,UA2QkB9e,EA3QlBwkB,EAAAhsB,OAAA,QAAAC,IAAA+rB,EAAA,GAAAA,EAAA,GA2Q0B,GAAIF,EA3Q9BE,EAAAhsB,OAAA,QAAAC,IAAA+rB,EAAA,IAAAA,EAAA,GA4QSxkB,GAAUA,EAAM4F,WAAc5F,EAAMG,SAASH,EAAMG,OAAS,GA5QrE,CAAAskB,EAAA3F,KAAA,cA6QY,IAAInI,MAAM,sCA7QtB,cAAA8N,EAAA3F,KAAA,EA+QiC1U,KAAKoT,WAC/B1G,KAAK,CAAElR,UAAW,CAAEuY,IAAKne,EAAM4F,aAC/Bkc,OAjRP,WA+QUyC,EA/QVE,EAAAxF,MAkRwBzmB,OAlRxB,CAAAisB,EAAA3F,KAAA,eAAA2F,EAAAzF,OAAA,SAmRa5U,KAAK8V,OAAOwE,gBAAM1kB,EAAO,CAAEgB,GAAI2jB,MAAUnmB,YAAY,IAAID,MAAOE,UAAWyd,KAAM,MAnR9F,UAqRSoI,EArRT,CAAAG,EAAA3F,KAAA,eAsRY,IAAInI,MAAM,wBAtRtB,eAAA8N,EAAAzF,OAAA,SAwRW5U,KAAK8V,OACVwE,gBAAM1kB,EAAO,CACXgB,GAAIujB,EAAe,GAAGvjB,GACtBxC,WAAY+lB,EAAe,GAAG/lB,WAC9BwK,QAASub,EAAe,GAAGvb,QAAU,IAAMhJ,EAAMgJ,QAAU,OA5RnE,yBAAAyb,EAAAtF,SAAAkF,EAAAja,SAAA,yBAAAga,EAAA7iB,MAAA6I,KAAA7R,YAAA,KAAAF,IAAA,SAAAH,MAAA,eAAA0sB,EAAA9sB,OAAAymB,EAAA,EAAAzmB,CAAA0mB,EAAA7a,EAAA8a,KAAA,SAAAoG,EAiSe7kB,GAjSf,OAAAwe,EAAA7a,EAAAgb,KAAA,SAAAmG,GAAA,cAAAA,EAAAjG,KAAAiG,EAAAhG,MAAA,cAAAgG,EAAA9F,OAAA,SAkSW5U,KAAKoT,WAAWuH,aAAa/kB,IAlSxC,wBAAA8kB,EAAA3F,SAAA0F,EAAAza,SAAA,gBAAA4a,GAAA,OAAAJ,EAAArjB,MAAA6I,KAAA7R,YAAA,KAAAF,IAAA,YAAAH,MAAA,eAAA+sB,EAAAntB,OAAAymB,EAAA,EAAAzmB,CAAA0mB,EAAA7a,EAAA8a,KAAA,SAAAyG,EAqSkBllB,GArSlB,IAAAqgB,EAAA,OAAA7B,EAAA7a,EAAAgb,KAAA,SAAAwG,GAAA,cAAAA,EAAAtG,KAAAsG,EAAArG,MAAA,UAsSS9e,GAAUA,EAAMgB,GAtSzB,CAAAmkB,EAAArG,KAAA,cAuSY,IAAInI,MAAM,4CAvStB,cAAAwO,EAAArG,KAAA,EA0S+B1U,KAAKoT,WAAW1G,KAAK,CAAE9V,GAAI,CAAEmd,IAAKne,EAAMgB,MAAQ8gB,OA1S/E,WA0SUzB,EA1SV8E,EAAAlG,MA2SsBzmB,OA3StB,CAAA2sB,EAAArG,KAAA,cA4SY,IAAInI,MAAM,uCA5StB,cAAAwO,EAAAnG,OAAA,SA8SWqB,GA9SX,wBAAA8E,EAAAhG,SAAA+F,EAAA9a,SAAA,gBAAAgb,GAAA,OAAAH,EAAA1jB,MAAA6I,KAAA7R,YAAA,KAAAF,IAAA,QAAAH,MAAA,SAiTQ4E,EAAM5E,GACV,OAAQ4E,GACN,IAAK,SACL,IAAK,SACL,IAAK,QACH,OAAO5E,EAAQA,EAAM4d,UAAU,EAAG,GAAK,GACzC,QACE,OAAO5d,OAxTfolB,EAAA,GA6Te+H,EAAA,SAAAC,GAAA,OAAAC,EAAAhkB,MAAA6I,KAAA7R,uDAAA,SAAAitB,EAAejI,GAAf,IAAAC,EAAA,OAAAgB,EAAA7a,EAAAgb,KAAA,SAAA8G,GAAA,cAAAA,EAAA5G,KAAA4G,EAAA3G,MAAA,UACRvB,EADQ,CAAAkI,EAAA3G,KAAA,cACE,IAAIzC,EADN,WAGMkB,EAAGmI,YAAY1lB,MAHrB,CAAAylB,EAAA3G,KAAA,QAAA2G,EAAAvG,GAIT3B,EAAGmI,YAAY1lB,MAJNylB,EAAA3G,KAAA,sBAAA2G,EAAA3G,KAAA,EAKHvB,EAAGC,WAAW,CAClB1f,KAAM,QACNylB,WAPO,OAAAkC,EAAAvG,GAAAuG,EAAAxG,KAAA,cAGPzB,EAHOiI,EAAAvG,GAAAuG,EAAAzG,OAAA,SAUN,IAAI1B,EAAMC,EAAIC,IAVR,yBAAAiI,EAAAtG,SAAAqG,6BCrVA,IAAAG,EAAA,CACbxtB,MAAO,eACPyjB,QAAS,EACTC,YAAa,8BACb/e,KAAM,SACNgf,WAAY,CACVtd,WAAY,CACV1B,KAAM,SACNif,OAAO,GAET/a,GAAI,CACFlE,KAAM,SACNwG,SAAS,EACT0Y,OAAO,GAETpW,UAAW,CACT9I,KAAM,SACNif,OAAO,EACPC,OAAO,GAET/F,MAAO,CACLnZ,KAAM,UAERqD,MAAO,CACLrD,KAAM,UAERkM,OAAQ,CACNlM,KAAM,UAERkZ,KAAM,CACJlZ,KAAM,UAERof,KAAM,CACJpf,KAAM,SACNqf,QAAS,EACTJ,OAAO,KCnCAK,EAAuB,ECyBvBwJ,EAAb,WAkDE,SAAAA,EAAYrI,EAAIC,EAAY+F,GAC1B,GADmCzrB,OAAAqS,EAAA,EAAArS,CAAAsS,KAAAwb,GAAAxb,KAxCrCqT,SAAW,CAAEhY,MAAO2W,EAAsB1W,KAAM,GAwCZ0E,KAvCpCsT,QAAU,CACRC,UAAW,iBAAO,CAChBlY,MAAOmY,OAAOC,mBAEhBC,QAAS,iBAAO,CACdvgB,MAAO,CAEL2e,KAAM,CACJ6B,KAAM,IAGVtY,MAAO,GACPC,KAAM,EACNsY,KAAM,CAAE9B,MAAO,KAEjB+B,WAAY,iBAAO,CACjB1gB,MAAO,CAEL2e,KAAM,CACJ6B,KAAM,IAGVtY,MAAO,GACPC,KAAM,EACNsY,KAAM,CACJ9B,KAAM,KAGVgC,cAAe,iBAAO,CACpB3gB,MAAO,CACLyL,OAAQ,CACNmV,IAAK,IAGT1Y,MAAO,GACPC,KAAM,MAKH0Y,uBAAab,GAChB,MAAM,IAAI5G,MAAM,mCAElB,IAAK0H,yBAAeb,GAClB,MAAM,IAAI7G,MAAM,qCAElBvM,KAAKmT,GAAKA,EACVnT,KAAKoT,WAAaA,EAClBpT,KAAKmZ,OAASA,EA3DlB,OAAAzrB,OAAAmV,EAAA,EAAAnV,CAAA8tB,EAAA,EAAAvtB,IAAA,QAAAH,MAAA,eAAAomB,EAAAxmB,OAAAymB,EAAA,EAAAzmB,CAAA0mB,EAAA7a,EAAA8a,KAAA,SAAAC,EAmEcrB,GAnEd,OAAAmB,EAAA7a,EAAAgb,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAqEmB1U,KAAK2U,IAAI1B,GArE5B,cAAAuB,EAAAI,OAAA,SAAAJ,EAAAK,MAAA,aAAAL,EAAAC,KAAA,EAAAD,EAAAM,GAAAN,EAAA,SAuEY,IAAI1B,EAAJ0B,EAAAM,GAAuB7B,GAvEnC,wBAAAuB,EAAAO,SAAAT,EAAAtU,KAAA,4BAAAgV,GAAA,OAAAd,EAAA/c,MAAA6I,KAAA7R,YAAA,KAAAF,IAAA,SAAAH,MAAA,eAAAmnB,EAAAvnB,OAAAymB,EAAA,EAAAzmB,CAAA0mB,EAAA7a,EAAA8a,KAAA,SAAAa,EAiFetf,EAAOrC,GAjFtB,OAAA6gB,EAAA7a,EAAAgb,KAAA,SAAAY,GAAA,cAAAA,EAAAV,KAAAU,EAAAT,MAAA,cAAAS,EAAAV,KAAA,EAAAU,EAAAT,KAAA,EAmFoBU,kBAAQxf,GAClBoK,KAAKqV,YAAYzf,EAAOrC,GACxByM,KAAKsV,UAAU1f,EAAOrC,GArFhC,cAAA4hB,EAAAP,OAAA,SAAAO,EAAAN,MAAA,aAAAM,EAAAV,KAAA,EAAAU,EAAAL,GAAAK,EAAA,SAuFY,IAAI9C,EAAJ8C,EAAAL,GAA2Blf,GAvFvC,wBAAAuf,EAAAJ,SAAAG,EAAAlV,KAAA,4BAAAuV,EAAAC,GAAA,OAAAP,EAAA9d,MAAA6I,KAAA7R,YAAA,KAAAF,IAAA,SAAAH,MAAA,eAAA2nB,EAAA/nB,OAAAymB,EAAA,EAAAzmB,CAAA0mB,EAAA7a,EAAA8a,KAAA,SAAAqB,IAAA,IAAA9f,EAAA+f,EAAAxnB,UAAA,OAAAimB,EAAA7a,EAAAgb,KAAA,SAAAqB,GAAA,cAAAA,EAAAnB,KAAAmB,EAAAlB,MAAA,cAgGe9e,EAhGf+f,EAAAvnB,OAAA,QAAAC,IAAAsnB,EAAA,GAAAA,EAAA,GAgGuB,GAhGvBC,EAAAnB,KAAA,EAAAmB,EAAAlB,KAAA,EAkGY1U,KAAK6V,UAAUjgB,GAlG3B,cAAAggB,EAAAlB,KAAA,EAoGmB1U,KAAK8V,OAAOlgB,GApG/B,cAAAggB,EAAAhB,OAAA,SAAAgB,EAAAf,MAAA,aAAAe,EAAAnB,KAAA,EAAAmB,EAAAd,GAAAc,EAAA,SAsGY,IAAIpD,EAAJoD,EAAAd,GAA2Blf,GAtGvC,yBAAAggB,EAAAb,SAAAW,EAAA1V,KAAA,qCAAAyV,EAAAte,MAAA6I,KAAA7R,YAAA,KAAAF,IAAA,iBAAAH,MAAA,eAAAioB,EAAAroB,OAAAymB,EAAA,EAAAzmB,CAAA0mB,EAAA7a,EAAA8a,KAAA,SAAA2B,IAAA,IAAApgB,EAAAqgB,EAAAC,EAAA/nB,UAAA,OAAAimB,EAAA7a,EAAAgb,KAAA,SAAA4B,GAAA,cAAAA,EAAA1B,KAAA0B,EAAAzB,MAAA,cA+GuB9e,EA/GvBsgB,EAAA9nB,OAAA,QAAAC,IAAA6nB,EAAA,GAAAA,EAAA,GA+G+B,GA/G/BC,EAAA1B,KAAA,EAAA0B,EAAArB,GAiH2BsB,QAjH3BD,EAAAzB,KAAA,EAiHuC1U,KAAK6V,UAAUjgB,GAjHtD,cAAAugB,EAAAE,GAAAF,EAAAtB,KAiHYoB,GAjHZ,EAAAE,EAAArB,IAAAqB,EAAAE,IAAAF,EAAAzB,KAAA,EAmHmB1U,KAAK8V,OAALpoB,OAAA4oB,EAAA,EAAA5oB,CAAA,GACRuoB,EAAaM,MADL,CAEX3X,OAAQqX,EAAarX,OAAShJ,EAAMgJ,UArH5C,cAAAuX,EAAAvB,OAAA,SAAAuB,EAAAtB,MAAA,cAAAsB,EAAA1B,KAAA,GAAA0B,EAAAK,GAAAL,EAAA,SAwHY,IAAI3D,EAAJ2D,EAAAK,GAA2B5gB,GAxHvC,yBAAAugB,EAAApB,SAAAiB,EAAAhW,KAAA,sCAAA+V,EAAA5e,MAAA6I,KAAA7R,YAAA,KAAAF,IAAA,iBAAAH,MAAA,eAAA2oB,EAAA/oB,OAAAymB,EAAA,EAAAzmB,CAAA0mB,EAAA7a,EAAA8a,KAAA,SAAAqC,IAAA,IAAA9gB,EAAAqgB,EAAAU,EAAAxoB,UAAA,OAAAimB,EAAA7a,EAAAgb,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,cAiIuB9e,EAjIvB+gB,EAAAvoB,OAAA,QAAAC,IAAAsoB,EAAA,GAAAA,EAAA,GAiI+B,GAjI/BC,EAAAnC,KAAA,EAAAmC,EAAA9B,GAmI2BsB,QAnI3BQ,EAAAlC,KAAA,EAmIuC1U,KAAK6V,UAAUjgB,GAnItD,cAAAghB,EAAAP,GAAAO,EAAA/B,KAmIYoB,GAnIZ,EAAAW,EAAA9B,IAAA8B,EAAAP,IAAAO,EAAAlC,KAAA,EAqImB1U,KAAK8V,OAALpoB,OAAA4oB,EAAA,EAAA5oB,CAAA,GACRuoB,EAAaM,MADL,CAEX3X,OAAQqX,EAAarX,OAAShJ,EAAMgJ,OACpCkT,KAAMmE,EAAanE,KAAOlc,EAAMgJ,UAxIxC,cAAAgY,EAAAhC,OAAA,SAAAgC,EAAA/B,MAAA,cAAA+B,EAAAnC,KAAA,GAAAmC,EAAAJ,GAAAI,EAAA,SA2IY,IAAIpE,EAAJoE,EAAAJ,GAA2B5gB,GA3IvC,yBAAAghB,EAAA7B,SAAA2B,EAAA1W,KAAA,sCAAAyW,EAAAtf,MAAA6I,KAAA7R,YAAA,KAAAF,IAAA,MAAAH,MAAA,eAAA+oB,EAAAnpB,OAAAymB,EAAA,EAAAzmB,CAAA0mB,EAAA7a,EAAA8a,KAAA,SAAAyC,IAAA,IAAAlV,EAAAzO,EAAA4jB,EAAA1b,EAAA2b,EAAA1b,EAAA2b,EAAAC,EAAAC,EAAAvD,EAAAwD,EAAAC,EAAAC,EAAAC,EAAA/a,EAAAC,EAAAqD,EAAAE,KAAAwX,EAAArpB,UAAA,OAAAimB,EAAA7a,EAAAgb,KAAA,SAAAkD,GAAA,cAAAA,EAAAhD,KAAAgD,EAAA/C,MAAA,UAAA9S,EAAA4V,EAAAppB,OAAA,QAAAC,IAAAmpB,EAAA,GAAAA,EAAA,GA0JM,GALFrkB,EArJJyO,EAqJIzO,MArJJ4jB,EAAAnV,EAsJIvG,aAtJJ,IAAA0b,EAsJY/W,KAAKqT,SAAShY,MAtJ1B0b,EAAAC,EAAApV,EAuJItG,YAvJJ,IAAA0b,EAuJWhX,KAAKqT,SAAS/X,KAvJzB0b,EAAAC,EAAArV,EAwJIsV,aAxJJ,IAAAD,KAAAE,EAAAvV,EAyJIgS,YAzJJ,IAAAuD,EAyJW,CAAE/iB,WAAY,QAzJzB+iB,EA2JUC,EAAcpX,KAAKoT,WACtB1G,KAAKvZ,GACLkI,MAAMA,GACNC,KAAKA,GACLsY,KAAKA,GACL8D,OACER,EAjKT,CAAAO,EAAA/C,KAAA,eAAA+C,EAAA7C,OAAA,SAiKuBwC,GAjKvB,cAkKUC,EAAc,IAAIM,QAAJ,eAAA3R,EAAAtY,OAAAymB,EAAA,EAAAzmB,CAAA0mB,EAAA7a,EAAA8a,KAAY,SAAAuD,EAAOC,GAAP,IAAAC,EAAA,OAAA1D,EAAA7a,EAAAgb,KAAA,SAAAwD,GAAA,cAAAA,EAAAtD,KAAAsD,EAAArD,MAAA,cAAAqD,EAAArD,KAAA,EACN5U,EAAKsT,WAAW1G,KAAKvZ,GAAOukB,OADtB,OACxBI,EADwBC,EAAAlD,KAE9BgD,EAAQC,EAAU1pB,QAFY,wBAAA2pB,EAAAhD,SAAA6C,MAAZ,gBAAAI,GAAA,OAAAhS,EAAA7O,MAAA6I,KAAA7R,YAAA,IAlKxBspB,EAAA/C,KAAA,EAsKiCiD,QAAQM,IAAI,CAACb,EAAaC,IAtK3D,cAAAC,EAAAG,EAAA5C,KAAA0C,EAAA7pB,OAAAyW,EAAA,EAAAzW,CAAA4pB,EAAA,GAsKW9a,EAtKX+a,EAAA,GAsKkB9a,EAtKlB8a,EAAA,GAAAE,EAAA7C,OAAA,SAuKW,CAAEpY,QAAOC,QAAOpB,QAAOC,SAvKlC,yBAAAmc,EAAA1C,SAAA+B,EAAA9W,SAAA,yBAAA6W,EAAA1f,MAAA6I,KAAA7R,YAAA,KAAAF,IAAA,UAAAH,MAAA,eAAAoqB,EAAAxqB,OAAAymB,EAAA,EAAAzmB,CAAA0mB,EAAA7a,EAAA8a,KAAA,SAAA8D,EAgLgB9kB,EAAOvF,GAhLvB,IAAAsqB,EAAA,OAAAhE,EAAA7a,EAAAgb,KAAA,SAAA8D,GAAA,cAAAA,EAAA5D,KAAA4D,EAAA3D,MAAA,UAAA2D,EAAA5D,KAAA,EAkLW3mB,EAlLX,CAAAuqB,EAAA3D,KAAA,eAAA2D,EAAAzD,OAAA,SAkLyB,CAAE9mB,QAAO0O,MAAO,KAlLzC,cAAA6b,EAAA3D,KAAA,EAmL4B1U,KAAK2U,IAAI,CAC7BxhB,MAAMzF,OAAA4qB,EAAA,EAAA5qB,CAAA,GAAI2F,EAAQ,CAAEklB,OAAQ,IAAIC,OAAJ,IAAAhpB,OAAe1B,QApLnD,cAmLY6O,EAnLZ0b,EAAAxD,KAAAwD,EAAAzD,OAAA,SAuLa,CAAE9mB,QAAO0O,MAAOG,EAAQH,MAAM5O,IAAI,SAAC6H,GAAD,OAAOA,EAAEpC,OAvLxD,aAAAglB,EAAA5D,KAAA,EAAA4D,EAAAvD,GAAAuD,EAAA,SAyLY,IAAI1F,EAAJ0F,EAAAvD,GAAgCzhB,EAAOvF,GAzLnD,yBAAAuqB,EAAAtD,SAAAoD,EAAAnY,KAAA,4BAAAyY,EAAAC,GAAA,OAAAR,EAAA/gB,MAAA6I,KAAA7R,YAAA,KAAAF,IAAA,SAAAH,MAAA,eAAA6qB,EAAAjrB,OAAAymB,EAAA,EAAAzmB,CAAA0mB,EAAA7a,EAAA8a,KAAA,SAAAuE,EAkMepd,GAlMf,OAAA4Y,EAAA7a,EAAAgb,KAAA,SAAAsE,GAAA,cAAAA,EAAApE,KAAAoE,EAAAnE,MAAA,cAAAmE,EAAAjE,OAAA,SAmMW5U,KAAKoT,WAAW0F,QAAQ,CAAEtd,UAAW,CAAEuY,IAAKvY,KAAe6E,UAnMtE,wBAAAwY,EAAA9D,SAAA6D,EAAA5Y,SAAA,gBAAA+Y,GAAA,OAAAJ,EAAAxhB,MAAA6I,KAAA7R,YAAA,KAAAF,IAAA,YAAAH,MAAA,eAAAkrB,EAAAtrB,OAAAymB,EAAA,EAAAzmB,CAAA0mB,EAAA7a,EAAA8a,KAAA,SAAA4E,IAAA,OAAA7E,EAAA7a,EAAAgb,KAAA,SAAA2E,GAAA,cAAAA,EAAAzE,KAAAyE,EAAAxE,MAAA,cAAAwE,EAAAxE,KAAA,EA4MU1U,KAAKoT,WAAW/S,SA5M1B,cAAA6Y,EAAAxE,KAAA,EA6M4B1U,KAAKmT,GAAGC,WAAW,CACzC1f,KAAM,QACNylB,WA/MN,OA6MInZ,KAAKoT,WA7MT8F,EAAArE,KAAA,wBAAAqE,EAAAnE,SAAAkE,EAAAjZ,SAAA,yBAAAgZ,EAAA7hB,MAAA6I,KAAA7R,YAAA,KAAAF,IAAA,OAAAH,MAAA,eAAAsrB,EAAA1rB,OAAAymB,EAAA,EAAAzmB,CAAA0mB,EAAA7a,EAAA8a,KAAA,SAAAgF,IAAA,IAAA5d,EAAA6d,EAAAnrB,UAAA,OAAAimB,EAAA7a,EAAAgb,KAAA,SAAAgF,GAAA,cAAAA,EAAA9E,KAAA8E,EAAA7E,MAAA,cAwNajZ,IAxNb6d,EAAAlrB,OAAA,QAAAC,IAAAirB,EAAA,KAAAA,EAAA,GAAAC,EAAA3E,OAAA,SAyNW5U,KAAKoT,WAAWoG,KAAK/d,IAzNhC,wBAAA8d,EAAAxE,SAAAsE,EAAArZ,SAAA,yBAAAoZ,EAAAjiB,MAAA6I,KAAA7R,YAAA,KAAAF,IAAA,oBAAAH,MAAA,SAkOoB6V,GAChB,SAAAnU,OAAUwQ,KAAKyL,MAAM,OAAQ9H,EAAKiI,SAnOtC,CAAA3d,IAAA,cAAAH,MAAA,eAAA2rB,EAAA/rB,OAAAymB,EAAA,EAAAzmB,CAAA0mB,EAAA7a,EAAA8a,KAAA,SAAAqF,IAAA,IAAA9jB,EAAArC,EAAAomB,EAAArZ,EAAAN,KAAA4Z,EAAAzrB,UAAA,OAAAimB,EAAA7a,EAAAgb,KAAA,SAAAsF,GAAA,cAAAA,EAAApF,KAAAoF,EAAAnF,MAAA,UA2PoB9e,EA3PpBgkB,EAAAxrB,OAAA,QAAAC,IAAAurB,EAAA,GAAAA,EAAA,GA2P4B,GAAIrmB,EA3PhCqmB,EAAAxrB,OAAA,QAAAC,IAAAurB,EAAA,GAAAA,EAAA,GA2P0C,GACjChkB,EAAMxH,OA5Pf,CAAAyrB,EAAAnF,KAAA,cA6PY,IAAInI,MAAM,wBA7PtB,WAgQQhZ,EAAQ8M,OAhQhB,CAAAwZ,EAAAnF,KAAA,eAAAmF,EAAAnF,KAAA,EAiQY1U,KAAK8Z,YAjQjB,cAqQUH,EAAoBI,iBAAOnkB,EAAO,aAAahI,IAAI,SAACmgB,GAAD,OAAOzN,EAAKgV,UAAUvH,GAAG,KArQtF8L,EAAAjF,OAAA,SAuQW+C,QAAQM,IAAI0B,IAvQvB,wBAAAE,EAAA9E,SAAA2E,EAAA1Z,SAAA,yBAAAyZ,EAAAtiB,MAAA6I,KAAA7R,YAAA,KAAAF,IAAA,YAAAH,MAAA,eAAAksB,EAAAtsB,OAAAymB,EAAA,EAAAzmB,CAAA0mB,EAAA7a,EAAA8a,KAAA,SAAA4F,IAAA,IAAArkB,EAAAskB,EAAAC,EAAAC,EAAAjsB,UAAA,OAAAimB,EAAA7a,EAAAgb,KAAA,SAAA8F,GAAA,cAAAA,EAAA5F,KAAA4F,EAAA3F,MAAA,UA0QkB9e,EA1QlBwkB,EAAAhsB,OAAA,QAAAC,IAAA+rB,EAAA,GAAAA,EAAA,GA0Q0B,GAAIF,EA1Q9BE,EAAAhsB,OAAA,QAAAC,IAAA+rB,EAAA,IAAAA,EAAA,GA2QSxkB,GAAUA,EAAM4F,WAAc5F,EAAMG,SAASH,EAAMG,OAAS,GA3QrE,CAAAskB,EAAA3F,KAAA,cA4QY,IAAInI,MAAM,sCA5QtB,cAAA8N,EAAA3F,KAAA,EA8QiC1U,KAAKoT,WAC/B1G,KAAK,CAAElR,UAAW,CAAEuY,IAAKne,EAAM4F,aAC/Bkc,OAhRP,WA8QUyC,EA9QVE,EAAAxF,MAiRwBzmB,OAjRxB,CAAAisB,EAAA3F,KAAA,eAAA2F,EAAAzF,OAAA,SAkRa5U,KAAK8V,OAAOwE,gBAAM1kB,EAAO,CAAEgB,GAAI2jB,MAAUnmB,YAAY,IAAID,MAAOE,UAAWyd,KAAM,MAlR9F,UAoRSoI,EApRT,CAAAG,EAAA3F,KAAA,eAqRY,IAAInI,MAAM,wBArRtB,eAAA8N,EAAAzF,OAAA,SAuRW5U,KAAK8V,OACVwE,gBAAM1kB,EAAO,CACXgB,GAAIujB,EAAe,GAAGvjB,GACtBxC,WAAY+lB,EAAe,GAAG/lB,WAC9BwK,QAASub,EAAe,GAAGvb,QAAU,IAAMhJ,EAAMgJ,QAAU,OA3RnE,yBAAAyb,EAAAtF,SAAAkF,EAAAja,SAAA,yBAAAga,EAAA7iB,MAAA6I,KAAA7R,YAAA,KAAAF,IAAA,SAAAH,MAAA,eAAA0sB,EAAA9sB,OAAAymB,EAAA,EAAAzmB,CAAA0mB,EAAA7a,EAAA8a,KAAA,SAAAoG,EAgSe7kB,GAhSf,OAAAwe,EAAA7a,EAAAgb,KAAA,SAAAmG,GAAA,cAAAA,EAAAjG,KAAAiG,EAAAhG,MAAA,cAAAgG,EAAA9F,OAAA,SAiSW5U,KAAKoT,WAAWuH,aAAa/kB,IAjSxC,wBAAA8kB,EAAA3F,SAAA0F,EAAAza,SAAA,gBAAA4a,GAAA,OAAAJ,EAAArjB,MAAA6I,KAAA7R,YAAA,KAAAF,IAAA,YAAAH,MAAA,eAAA+sB,EAAAntB,OAAAymB,EAAA,EAAAzmB,CAAA0mB,EAAA7a,EAAA8a,KAAA,SAAAyG,EAoSkBllB,GApSlB,IAAAqgB,EAAA,OAAA7B,EAAA7a,EAAAgb,KAAA,SAAAwG,GAAA,cAAAA,EAAAtG,KAAAsG,EAAArG,MAAA,UAqSS9e,GAAUA,EAAMgB,GArSzB,CAAAmkB,EAAArG,KAAA,cAsSY,IAAInI,MAAM,4CAtStB,cAAAwO,EAAArG,KAAA,EAyS+B1U,KAAKoT,WAAW1G,KAAK,CAAE9V,GAAI,CAAEmd,IAAKne,EAAMgB,MAAQ8gB,OAzS/E,WAySUzB,EAzSV8E,EAAAlG,MA0SsBzmB,OA1StB,CAAA2sB,EAAArG,KAAA,cA2SY,IAAInI,MAAM,uCA3StB,cAAAwO,EAAAnG,OAAA,SA6SWqB,GA7SX,wBAAA8E,EAAAhG,SAAA+F,EAAA9a,SAAA,gBAAAgb,GAAA,OAAAH,EAAA1jB,MAAA6I,KAAA7R,YAAA,KAAAF,IAAA,QAAAH,MAAA,SAgTQ4E,EAAM5E,GACV,OAAQ4E,GACN,IAAK,OACH,OAAO5E,EAAQA,EAAM4d,UAAU,EAAG,IAAM,GAC1C,QACE,OAAO5d,OArTf0tB,EAAA,GA0TeC,EAAA,SAAAP,GAAA,OAAAQ,EAAAvkB,MAAA6I,KAAA7R,uDAAA,SAAAitB,EAAgBjI,GAAhB,IAAAC,EAAA,OAAAgB,EAAA7a,EAAAgb,KAAA,SAAA8G,GAAA,cAAAA,EAAA5G,KAAA4G,EAAA3G,MAAA,UACRvB,EADQ,CAAAkI,EAAA3G,KAAA,cACE,IAAIzC,EADN,WAGMkB,EAAGmI,YAAY1lB,MAHrB,CAAAylB,EAAA3G,KAAA,QAAA2G,EAAAvG,GAIT3B,EAAGmI,YAAY1lB,MAJNylB,EAAA3G,KAAA,sBAAA2G,EAAA3G,KAAA,EAKHvB,EAAGC,WAAW,CACpB1f,KAAM,aACNylB,WAPS,OAAAkC,EAAAvG,GAAAuG,EAAAxG,KAAA,cAGPzB,EAHOiI,EAAAvG,GAAAuG,EAAAzG,OAAA,SA0BN,IAAI4G,EAAWrI,EAAIC,IA1Bb,yBAAAiI,EAAAtG,SAAAqG,yCCnVAO,GAAA,CACb5tB,MAAO,iBACPyjB,QAAS,EACTC,YAAa,8BACb/e,KAAM,SACNgf,WAAY,CACVtd,WAAY,CACV1B,KAAM,SACNif,OAAO,GAET/a,GAAI,CACFlE,KAAM,SACNwG,SAAS,EACT0Y,OAAO,GAETrD,UAAW,CACT7b,KAAM,UACNqf,SAAS,GAEXlc,OAAQ,CACNnD,KAAM,UACNqf,SAAS,GAEX9a,UAAW,CACTvE,KAAM,UACNqf,SAAS,GAEX6J,kBAAmB,CACjBlpB,KAAM,UACNqf,SAAS,GAEXvD,QAAS,CACP9b,KAAM,UAER+b,SAAU,CACR/b,KAAM,UAERgc,SAAU,CACRhc,KAAM,UAER0D,SAAU,CACR1D,KAAM,SAER2C,WAAY,CACV3C,KAAM,UAGVmpB,SAAU,CAAC,aAAc,KAAM,WAAY,gdC3CtC,IAAMC,GAAb,SAAA5J,GAAAxkB,OAAA+U,EAAA,EAAA/U,CAAAouB,EAAA5J,GAAA,IAAAjS,EAAA8b,GAAAD,GACE,SAAAA,IAA8C,IAAAhc,EAAlCtI,EAAkCrJ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA9B,CAAEgkB,QAAS,IAAMlf,EAAa9E,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAAI,OAAAT,OAAAqS,EAAA,EAAArS,CAAAsS,KAAA8b,IAC5Chc,EAAAG,EAAAC,KAAAF,KAAMxI,IACDzJ,MAAQ,4BACb+R,EAAKkR,KAAO,qBACZlR,EAAKpE,KAAOzI,EACZ6M,EAAKqS,QAAL,UAAA3iB,OAAyBuF,KAAKwd,UAC5Btf,GADF,mDAAAzD,OAEmDgI,EAAE2a,SAPTrS,EADhD,OAAAgc,EAAA,CAAApuB,OAAA0kB,EAAA,EAAA1kB,CAAwC6e,QAgB3ByP,GAAb,SAAAvJ,GAAA/kB,OAAA+U,EAAA,EAAA/U,CAAAsuB,EAAAvJ,GAAA,IAAAC,EAAAqJ,GAAAC,GACE,SAAAA,IAA8C,IAAA1b,EAAlC9I,EAAkCrJ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA9B,CAAEgkB,QAAS,IAAMlf,EAAa9E,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAAI,OAAAT,OAAAqS,EAAA,EAAArS,CAAAsS,KAAAgc,IAC5C1b,EAAAoS,EAAAxS,KAAAF,KAAMxI,IACDzJ,MAAQ,yBACbuS,EAAK0Q,KAAO,uBACZ1Q,EAAK5E,KAAOzI,EACZqN,EAAK6R,QAAL,6BAAA3iB,OAA4CgI,EAAE2a,SALF7R,EADhD,OAAA0b,EAAA,CAAAtuB,OAAA0kB,EAAA,EAAA1kB,CAA0C6e,6BC2D3B+G,GAAA,CACX2I,eA9E0B,iBAAO,CACjC9oB,MAAO,CACHiB,WAAY,CACRuf,MAAM,IAAIxf,MAAO+nB,SAAS,EAAG,EAAG,EAAG,KAG3CtI,KAAM,aACN1e,OAAQ,SAAA0M,GAAA,MAAkC,CAAEhL,GAApCgL,EAAGhL,GAAqCxC,WAAxCwN,EAAOxN,WAA6Coa,QAApD5M,EAAmB4M,UAC3BnT,MAAO,KACPC,KAAM,IAsEN6gB,sBAnEiC,iBAAO,CACxChpB,MAAO,CACHiB,WAAY,CACRuf,MAAM,IAAIxf,MAAO+nB,SAAS,EAAG,EAAG,EAAG,KAG3CtI,KAAM,aACN1e,OAAQ,SAAA8Q,GAAA,OAAAA,EAAG3Q,YACXgG,MAAO,KACPC,KAAM,IA2DN8gB,WAxDsB,SAACC,GAAD,MAAe,CACrClpB,MAAO,CACHyD,GAAI,CACAmd,IAAKsI,IAGbnnB,OAAQ,SAACjC,GAAD,OAAYqpB,KAAKrpB,EAAQ,WAmDjCspB,qBAhDgC,SAACF,GAAD,MAAe,CAC/ClpB,MAAO,CACHiB,WAAY,CACR2f,IAAKsI,IAGbnnB,OAAQ,SAACjC,GAAD,OAAYqpB,KAAKrpB,EAAQ,WA2CjCupB,cAxCyB,SAACnpB,EAAOvF,GAAR,MAAmB,CAC5CqF,MAAMzF,OAAA4qB,EAAA,EAAA5qB,CAAA,GAAI2F,EAAQ,CAAEklB,OAAQ,IAAIC,OAAJ,IAAAhpB,OAAe1B,MAC3CoH,OAAQ,SAACjC,GAAD,OAAYA,EAAOI,MAuC3BopB,aApCwB,SAACphB,EAAOC,GAAR,MAAkB,CAC1CnI,MAAO,CACHiB,WAAY,CACRuf,MAAM,IAAIxf,MAAO+nB,SAAS,EAAG,EAAG,EAAG,KAG3CtI,KAAM,aACNvY,QACAC,SA6BAohB,cA1ByB,WAAyB,IAAxBrhB,EAAwBlN,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAhB,EAAGmN,EAAanN,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAN,EACtCwuB,EAAQ,IAAIxoB,KAGlB,OADAwoB,EAAMloB,QAAQkoB,EAAMjoB,UAAY,GACzB,CACHvB,MAAO,CACHiB,WAAY,CACRuf,KAAMgJ,EAAMT,SAAS,EAAG,EAAG,EAAG,IAElC5f,MAAO,CACHyX,IAAK,sBAGbH,KAAM,aACNvY,QACAC,UCpDFshB,cAEJ,SAAAA,EAAYzJ,EAAIC,EAAYxd,GAC1B,GADkClI,OAAAqS,EAAA,EAAArS,CAAAsS,KAAA4c,IAC7B5I,uBAAab,GAChB,MAAM,IAAI5G,MAAM,mCAElB,IAAK0H,yBAAeb,GAClB,MAAM,IAAI7G,MAAM,qCAElBvM,KAAKmT,GAAKA,EACVnT,KAAKoT,WAAaA,EAClBpT,KAAKpK,MAAQA,6FAoGF3C,EAAQ4pB,wGAEXC,EAAkB9c,KAAK+c,eAAe9pB,0BAEpC,IAAIsZ,MAAMuQ,0BAGwB9c,KAAKsV,UAAUriB,sBAAjD2D,OAAIxC,eAAYoa,aAGpBvb,EAAOwb,2CACHzO,KAAKgd,SAAS,CAClBpmB,GAAI,CACFmd,IAAK9gB,EAAOwb,WAEb,CAAEC,SAAU9X,6BAIX+gB,QAAQM,IACZhlB,EAAOoC,WAAWzH,IAAI,SAAAgU,GAAkC,IAA/BtM,EAA+BsM,EAA/BtM,UAAWM,EAAoBgM,EAApBhM,MAAOgJ,EAAagD,EAAbhD,OAEzC,IAAKtJ,IAAcM,IAAUgJ,EAC3B,OAAO+Y,QAAQE,UAGjB,IAAMjhB,EAAKhB,EAAMgB,GAEjB,MCjKwB,QDiKpBtB,EACKwK,EAAKlK,OAASkK,EAAKlK,MAAMqnB,eAAe,CAAErmB,KAAIgI,WCjK5B,WDoKvBtJ,EACKwK,EAAKlK,OAASkK,EAAKlK,MAAMsnB,eAAe,CAAEtmB,KAAIgI,gBADvD,kBAOEue,EAAUlqB,EAAOmD,SAASsW,KAAK,SAAA1G,GAAA,MC1KL,2BD0KKA,EAAG1P,4CAEhC0J,KAAKgd,SAAS,CAClB5oB,WAAY,CACV2f,IAAKoJ,EAAQC,UAEd,CAAExB,mBAAmB,qCAGnBiB,EAAU,CAAEjmB,KAAIxC,aAAYoa,WAAY5X,2CAEzC,IAAIklB,GAAJtH,EAAAM,GAA8B7hB,uUAWH,OAAxBI,mBAAQ,OAAMvF,UAEnBuvB,EAAW,SAAChqB,EAAOvF,GAEvB,OAAQuF,GACN,IAAK,KACH,OAAOiqB,GAAQlB,WAAWtuB,GAC5B,IAAK,YACH,OAAOwvB,GAAQf,qBAAqBzuB,GACtC,QACE,MAAM,IAAIye,MAAJ,qBAAA/c,OAA+B6D,EAA/B,mEAOW2M,KAAK8Y,QAAQuE,EAAShqB,EAAOvF,WAA5CmF,SAQFsqB,EAAiBtqB,EAAOwb,SACtBzB,EAAU/Z,EAAOyb,SAAW,GAAKzb,EAAOoC,sBAEvCkoB,oCAEsBvd,KAAK8Y,QAAQuE,EAAS,KAAME,YAAjDC,SAENxQ,EAAQyQ,KAARtmB,MAAA6V,EAAOtf,OAAAgwB,EAAA,EAAAhwB,CAAS8vB,EAAanoB,aAE7BkoB,EAAiBC,EAAa/O,uCAQ1BrY,EAAWnD,EAAOyb,SAAWzb,EAAOmD,SAAW,GAC/Cf,EAAapC,EAAOyb,SAAWzb,EAAOoC,WAAa,oCAE7CpC,GAAQ+Z,UAAS3X,aAAYe,sDAGnC,IAAI4lB,GAAJ7G,EAAAL,sLAUE6I,mHAAeC,sDAEjB3K,EAAQ4K,mBAASF,GAAcL,GAAQK,GAARxmB,MAAAmmB,GAAuBM,GAAQD,WACvD3d,KAAK2U,IAAI1B,iFAEhB,IAAI+I,GAAJpG,EAAAd,gRASCrZ,uDACFuE,KAAKoT,WAAWoG,KAAK/d,gLAadxI,2FAEN6qB,GAAY,IAAI3pB,MAAOE,UACvB0pB,eACJ3pB,WAAY0pB,GACT7qB,GACHsb,WAAW,EACX3X,GAAI2jB,0BAGCva,KAAK8V,OAAOiI,0CAEb,IAAIxR,MAAM,6VAgBhB,GANFpZ,UACA+B,eACAmG,mBAAQ,QACRC,kBAAO,QACP4b,0BACAtD,kBAAO,CAAExf,WAAY,kBAGC4L,KAAKoT,WACxB1G,KAAKvZ,GACLkI,MAAMA,GACNC,KAAKA,GACLsY,KAAKA,GACL8D,iBALGrZ,SAOA2f,EAAkB,SAAA/qB,GACtB,IAAMgrB,EAAYhrB,EAAOirB,SACzB,OAAOhpB,EAASA,EAAO+oB,GAAaA,GAEhCzhB,EAAQ6B,EAAQzQ,IAAIowB,GAErB9G,2CACI,CAAE1a,QAAOC,MAAOD,EAAMpO,iCAGJ4R,KAAKoT,WAC7B1G,KAAKvZ,GACLukB,sBAFGyG,2BAIC,CAAE3hB,QAAOC,MAAO0hB,EAAa/vB,qLASvBgwB,EAAU1iB,kGAEKsE,KAAKoT,WAAW0F,QAAQsF,GAAU1G,iBAAtD2G,+BAEE,IAAIrC,GAAqB,KAAMoC,EAAU1iB,mCAE1CsE,KAAK8V,OAALpoB,OAAA4oB,EAAA,EAAA5oB,CAAA,GAAiB2wB,EAAY9H,MAAU7a,2CAExC,IAAI6Q,MAAM,0MAIPtZ,4FACJ+M,KAAKoT,WAAWuH,aAAa1nB,mQAGtBE,UAAO+B,oBACA8K,KAAKoT,WACvB0F,QAAQ3lB,GACRukB,qBAFGzkB,2BAICiC,EAAOjC,EAAOirB,qJAGRjrB,GACb,OAAKA,EAAOub,QACRjhB,kBAAQ0F,EAAOoC,YAAoB,sCAChB,aAAnBpC,EAAOub,SAA2Bvb,EAAOsb,YAAahhB,kBAAQ0F,EAAOmD,YAAkB,kCAF/D,2EAgBjBkoB,GAAA,SAAAtD,EAAAE,GAAA,OAAAqD,GAAApnB,MAAA6I,KAAA7R,yDAAA,SAAA8qB,EAAgB9F,EAAIqL,GAApB,IAAApL,EAAA,OAAAgB,EAAA7a,EAAAgb,KAAA,SAAA2E,GAAA,cAAAA,EAAAzE,KAAAyE,EAAAxE,MAAA,WAEMvB,EAAGmI,YAAYjd,QAFrB,CAAA6a,EAAAxE,KAAA,QAAAwE,EAAApE,GAGT3B,EAAGmI,YAAYjd,QAHN6a,EAAAxE,KAAA,sBAAAwE,EAAAxE,KAAA,EAIHvB,EAAGC,WAAW,CACpB1f,KAAM,UACNylB,YANS,OAAAD,EAAApE,GAAAoE,EAAArE,KAAA,cAEPzB,EAFO8F,EAAApE,GAAAoE,EAAAtE,OAAA,SASN,IAAIgI,GAAQzJ,EAAIC,EAAYoL,IATtB,wBAAAtF,EAAAnE,SAAAkE,6BE9XA,IAAAwF,GAAA,CACb1wB,MAAO,kBACPyjB,QAAS,EACTC,YAAa,yBACb/e,KAAM,SACNgf,WAAY,CACVzjB,IAAK,CACHyE,KAAM,SACNwG,SAAS,GAEXpL,MAAO,CACL4E,KAAM,YCPNgsB,cAGJ,SAAAA,EAAYvL,EAAIC,GACd,GAD2B1lB,OAAAqS,EAAA,EAAArS,CAAAsS,KAAA0e,GAAA1e,KAF7BqT,SAAW,IAGJW,uBAAab,GAChB,MAAM,IAAI5G,MAAM,mCAElB,IAAK0H,yBAAeb,GAClB,MAAM,IAAI7G,MAAM,qCAElBvM,KAAKmT,GAAKA,EACVnT,KAAKoT,WAAaA,wLAETuL,iCAAY3e,KAAKqT,kBACErT,KAAKoT,WAAW1G,OAAOgL,qBAA7CkH,2BACCC,oBACLjxB,cAAI6V,eAAKmb,GAAiBA,EAAgBD,EAAW,SAAA/c,GAAA,MAAoB,CAApBA,EAAG3T,IAAH2T,EAAQ9T,sHAKpDgxB,GAAA,SAAA9J,GAAA,OAAA+J,GAAA5nB,MAAA6I,KAAA7R,yDAAA,SAAA+mB,EAAe/B,GAAf,IAAAC,EAAA,OAAAgB,EAAA7a,EAAAgb,KAAA,SAAAY,GAAA,cAAAA,EAAAV,KAAAU,EAAAT,MAAA,WAEMvB,EAAGmI,YAAYtoB,SAFrB,CAAAmiB,EAAAT,KAAA,QAAAS,EAAAL,GAGT3B,EAAGmI,YAAYtoB,SAHNmiB,EAAAT,KAAA,sBAAAS,EAAAT,KAAA,EAIHvB,EAAGC,WAAW,CAClB1f,KAAM,WACNylB,YANO,OAAAhE,EAAAL,GAAAK,EAAAN,KAAA,cAEPzB,EAFO+B,EAAAL,GAAAK,EAAAP,OAAA,SASN,IAAI8J,GAASvL,EAAIC,IATX,wBAAA+B,EAAAJ,SAAAG,iCClBT8J,cAGJ,SAAAA,EAAY7L,EAAIvd,EAAO3C,GACrB,GAD8BvF,OAAAqS,EAAA,EAAArS,CAAAsS,KAAAgf,GAAAhf,KAFhCif,cAAgB,IAGTjL,uBAAab,GAChB,MAAM,IAAI5G,MAAM,mCAElB,IAAK0H,yBAAere,EAAMwd,cAAgBa,yBAAehhB,EAAOmgB,YAC9D,MAAM,IAAI7G,MAAM,qCAElBvM,KAAKmT,GAAKA,EACVnT,KAAKpK,MAAQA,EACboK,KAAK/M,OAASA,sLAWQ+M,KAAKkf,+CACHlf,KAAKmf,iDACPnf,KAAKof,gDACLpf,KAAKqf,0DAHvBC,gBACAC,kBACAC,gBACAC,0DAGI,IAAIlT,MAAJiI,EAAAkL,oTAoBgB,CAAEC,MAAO,0BAEH3f,KAAK/M,OAAOggB,MAAM,+BAAxCyJ,2BACCkD,kBACLC,kBAAQnD,EAAclgB,MAAO,SAACvJ,GAAD,OAAY,IAAIkB,KAAKlB,EAAOmB,YAAY0rB,wBACrElyB,IAAI,SAAAgU,GAAA,IAAAoE,EAAAtY,OAAAyW,EAAA,EAAAzW,CAAAkU,EAAA,SAAqB,CACzBme,IADI/Z,EAAA,GAEJpH,OAFIoH,EAAA,GAEYmH,OAAO,SAACvO,EAAQ3L,GAAT,OAAoB2L,EAAS4U,OAAOvgB,EAAOokB,cAAc,gEAK3E,8TAoBiB,CAAEsI,MAAO,0BAEL3f,KAAK/M,OAAOggB,MAAM,+BAAxCyJ,SACAsD,EAAiBJ,kBACrBC,kBAAQnD,EAAclgB,MAAO,SAACvJ,GAAD,OAAY,IAAIkB,KAAKlB,EAAOmB,YAAY0rB,0CAGhEE,EAAepyB,IAAI,SAAA+Y,GAAoB,IAAA0G,EAAA3f,OAAAyW,EAAA,EAAAzW,CAAAiZ,EAAA,GAAlBoZ,EAAkB1S,EAAA,GACtC4S,EADsC5S,EAAA,GACRzf,IAAI,SAACqF,GAAD,OAAYugB,OAAOvgB,EAAOokB,eAElE,GAAkC,IAA9B5T,eAAKwc,GACP,MAAO,CACLF,MACAG,QAASD,EAAoB,GAC7BE,QAASF,EAAoB,GAC7BG,QAASH,EAAoB,GAC7BI,OAAQJ,EAAoB,GAC5BK,UAAWL,EAAoB,GAC/BM,UAAWN,EAAoB,IAInC,IAAMC,EAAUM,cAAIP,GACdE,EAAUM,cAAIR,GACdG,EAAUM,eAAKT,GAjBuBU,EAkBoB7gB,EAAKugB,OACnEJ,GADMI,EAlBoCM,EAkBpCN,OAAQ1hB,EAlB4BgiB,EAkB5BhiB,SAAkBiiB,EAlBUD,EAkBlBE,OAM1B,MAAO,CACLd,MACAG,UACAC,UACAC,UACAC,SACAC,UAT4BxgB,EAAKugB,OAAOO,EAA0BnxB,MAAM,EAAGkP,IAArE0hB,OAUNE,UAT4BzgB,EAAKugB,OAAOO,EAA0BnxB,MAAMkP,IAAlE0hB,oEAeH,mSAsB6BrgB,KAAKpK,MAAMqd,MAAMjT,KAAKpK,MAAM0d,QAAQC,oCAAzDuN,IAAPtkB,wBAGDskB,EAAWlzB,IAAI,SAACmzB,GAAD,MAAgB,CACpCniB,OAAQmiB,EAAUniB,OAClB7I,MAAOgrB,EAAUhrB,MACjB+b,KAAMiP,EAAUjP,KAChB/jB,MAAOuS,EAAK1K,MAAMD,kBAAkBorB,gEAI/B,uSAoByB/gB,KAAKpK,MAAMwd,WACxC1G,OACAsU,MAAM,QACNC,GAAG,GACH5lB,MAAM2E,KAAKif,eACXrL,KAAK,SACL8D,qBANGwJ,kBAQ6BlhB,KAAKpK,MAAMwd,WAC3C1G,OACAsU,MAAM,QACNC,GAAG,GACH5lB,MAAM2E,KAAKif,eACXrL,KAAK,QACL8D,qBANGyJ,kBAOsCnhB,KAAKpK,MAAMqd,MACrDjT,KAAKpK,MAAM0d,QAAQQ,oCADNsN,IAAP5kB,MAIHiH,eAAKyd,IAAuBzd,eAAK0d,IAA0B1d,eAAK2d,6CAC5D,qCACFC,kBACLH,EACAC,EACAC,EACA,eAACE,EAADnzB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAY,GAAIozB,EAAhBpzB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA8B,GAAIqzB,EAAlCrzB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAmD,GAAnD,MAA2D,CACzD2jB,KAAMwP,EAAWtd,EAAKpO,MAAMD,kBAAkB2rB,GAAY,GAC1DG,QAASF,EAAcvd,EAAKpO,MAAMD,kBAAkB4rB,GAAe,GACnEG,WAAYF,EAAiBxd,EAAKpO,MAAMD,kBAAkB6rB,GAAkB,gDAIhFzyB,QAAQC,IAAR4nB,EAAA9B,sBAEO,+IAOJ6M,GACL,IAAMC,EAAaD,EAAK/N,KAAK,SAACra,EAAGsoB,GAAJ,OAAUtoB,EAAIsoB,IACrCC,EAAcC,KAAKC,OAAOve,eAAKme,GAAc,GAAK,GACxD,OAAKA,EAAWE,GAET,CAAEzB,OAAQuB,EAAWE,GAAcnjB,SAAUmjB,EAAajB,OAAQe,GADhE,CAAEvB,OAAQuB,EAAW,GAAIjjB,SAAUmjB,EAAajB,OAAQe,YAKtDK,GAAA,SAAAjN,EAAAO,EAAAC,GAAA,OAAA0M,GAAA/qB,MAAA6I,KAAA7R,yDAAA,SAAAypB,EAAgBzE,EAAIqL,EAAe2D,GAAnC,OAAA/N,EAAA7a,EAAAgb,KAAA,SAAAwD,GAAA,cAAAA,EAAAtD,KAAAsD,EAAArD,MAAA,cAAAqD,EAAAnD,OAAA,SAMN,IAAIoK,GAAO7L,EAAIqL,EAAe2D,IANxB,wBAAApK,EAAAhD,SAAA6C,2CClOfwK,SAAYC,MAEZ,IAAMC,GAAiB,CACrB5uB,KAAM,YACN6uB,QAAS,MACTC,eAAe,GAGjB,SAAShE,GAAcrL,EAAIgG,GACzB,OAAQA,GACN,KAAK7H,EACH,OAAO4B,EAAMC,GACf,QACE,OAAOqI,EAAWrI,IAIT,IAAAsP,GAAA,kBAAAC,GAAAvrB,MAAA6I,KAAA7R,yDAAA,SAAAmmB,IAAA,IAAAqO,EAAAxJ,EAAA5lB,EAAA4f,EAAAvd,EAAAyI,EAAArL,EAAA4vB,EAAAC,EAAA10B,UAAA,OAAAimB,EAAA7a,EAAAgb,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAgBiO,EAAhBE,EAAAz0B,OAAA,QAAAC,IAAAw0B,EAAA,GAAAA,EAAA,GAA4B,GAAI1J,EAAhC0J,EAAAz0B,OAAA,QAAAC,IAAAw0B,EAAA,GAAAA,EAAA,GAAyCvR,EAChD/d,EADO7F,OAAA4oB,EAAA,EAAA5oB,CAAA,GACQ40B,GAAmBK,GAD3BnO,EAAAE,KAAA,EAEI0N,SAAY7uB,GAFhB,cAEP4f,EAFOqB,EAAAK,KAAAL,EAAAE,KAAA,EAGO8J,GAAcrL,EAAIgG,GAHzB,cAGPvjB,EAHO4e,EAAAK,KAAAL,EAAAE,KAAA,GAISkI,GAAQzJ,EAAIvd,GAJrB,eAIPyI,EAJOmW,EAAAK,KAAAL,EAAAE,KAAA,GAKUgK,GAASvL,EAAIgG,GALvB,eAKPnmB,EALOwhB,EAAAK,KAAAL,EAAAE,KAAA,GAMQsK,GAAO7L,EAAIvd,EAAOyI,GAN1B,eAMPukB,EANOpO,EAAAK,KAAAL,EAAAI,OAAA,SAON,CAAEzB,KAAIvd,QAAOyI,UAASrL,WAAU4vB,WAP1B,yBAAApO,EAAAO,SAAAT,6BCxBf,ICgBInB,GDdW2P,GAFI,eAAAlhB,EAAAlU,OAAAymB,EAAA,EAAAzmB,CAAA0mB,EAAA7a,EAAA8a,KAAG,SAAAC,IAAA,IAAAuO,EAAA10B,UAAA,OAAAimB,EAAA7a,EAAAgb,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAI,OAAA,SAAsBwN,GAAIjrB,WAAJ,EAAA0rB,IAAtB,wBAAArO,EAAAO,SAAAT,MAAH,yBAAA1S,EAAAzK,MAAA6I,KAAA7R,YAAA,uBEFN40B,GAAO,CAClBC,IAAK,CACHtjB,QAAS,UACT1G,MAAO,UACPiqB,OAAQ,oBACR9tB,QAAS,MACT+tB,qBAAsB,2BACtBC,2BAA4B,2BAC5BC,mBAAoB,2BACpBC,kBAAmB,mCAEnBC,YAAa,kBACbC,oBAAqB,kBACrBC,aAAc,kBACdC,YAAa,cACbC,aAAc,oCAEhBC,OAAQ,CACNjkB,QAAS,UACT1G,MAAO,UACPiqB,OAAQ,qBAEVW,QAAS,CACPlkB,QAAS,UACT1G,MAAO,UACPiqB,OAAQ,oBACRY,WAAY,2BACZC,SAAU,2BACVC,iBAAkB,4BAEpB/wB,SAAU,CACRgxB,aAAc,yBAEhBC,SAAU,CACRD,aAAc,wBACdE,YAAa,qBACbC,UAAW,sBACXC,aAAc,2BAEhBxB,OAAQ,CACNyB,KAAM,QAERC,OAAQ,CACNtrB,MAAO,QACPurB,UAAW,yBACXC,YAAa,2BACb9kB,QAAS,2BACT+kB,iBAAkB,4BAEpBhlB,SAAU,CACRC,QAAS,yBAEXglB,KAAM,CACJ1rB,MAAO,2BACP2rB,WAAY,2BACZC,SAAU,2BACVC,oBAAqB,4BAEvBC,KAAM,CACJplB,QAAS,UACTujB,OAAQ,oBACR8B,gBAAiB,kBACjBC,cAAe,UACfC,mBAAoB,4BAEtBC,UAAW,CACTC,WAAY,2BACZC,aAAc,CACZ1lB,QAAS,0BAGb2lB,YAAa,CACX3lB,QAAS,UACT4lB,YAAa,UACbC,kBAAmB,UACnBC,eAAgB,qBAChBC,YAAa,qBACbxC,OAAQ,oBACRyC,aAAc,2BACdC,UAAW,UACXC,UAAW,WAEbC,KAAM,CACJnmB,QAAS,wBACTomB,UAAW,qBACXC,eAAgB,sBAElBC,OAAQ,CACNtmB,QAAS,UACT1G,MAAO,UACPitB,WAAY,8BACZC,OAAQ,qCACRC,MAAO,qEAET9nB,QAAS,CACP0lB,iBAAkB,2BAClBqC,YAAa,2BACbC,0BAA2B,yBAC3BC,wBAAyB,UAGhBC,GAAU,CACrBvD,IAAK,CACHtjB,QAAS,UACT1G,MAAO,UACPiqB,OAAQ,kCACR9tB,QAAS,MACT+tB,qBAAsB,2BACtBC,2BAA4B,2BAC5BC,mBAAoB,2BACpBC,kBAAmB,mCAEnBC,YAAa,UACbC,oBAAqB,UACrBC,aAAc,UACdC,YAAa,cACbC,aAAc,oCAEhBC,OAAQ,CACNjkB,QAAS,UACT1G,MAAO,UACPiqB,OAAQ,mCAEVW,QAAS,CACPlkB,QAAS,UACT1G,MAAO,UACPiqB,OAAQ,kCACRY,WAAY,UACZC,SAAU,UACVC,iBAAkB,4BAEpBW,KAAM,CACJ1rB,MAAO,2BACP2rB,WAAY,2BACZC,SAAU,2BACVC,oBAAqB,4BAEvB7xB,SAAU,CACRgxB,aAAc,yBAEhBC,SAAU,CACRD,aAAc,wBACdE,YAAa,qBACbC,UAAW,sBACXC,aAAc,2BAEhBxB,OAAQ,CACNyB,KAAM,QAERC,OAAQ,CACNtrB,MAAO,QACPurB,UAAW,yBACXC,YAAa,wBACb9kB,QAAS,wBACT+kB,iBAAkB,4BAEpBhlB,SAAU,CACRC,QAAS,yBAEXolB,KAAM,CACJplB,QAAS,UACTujB,OAAQ,kCACR8B,gBAAiB,UACjBC,cAAe,kBACfC,mBAAoB,4BAEtBC,UAAW,CACTC,WAAY,UACZC,aAAc,CACZ1lB,QAAS,YAGb2lB,YAAa,CACX3lB,QAAS,UACT4lB,YAAa,UACbC,kBAAmB,UACnBC,eAAgB,qBAChBC,YAAa,qBACbxC,OAAQ,oBACRyC,aAAc,2BACdC,UAAW,UACXC,UAAW,WAEbC,KAAM,CACJnmB,QAAS,UACTomB,UAAW,qBACXC,eAAgB,sBAElBC,OAAQ,CACNtmB,QAAS,UACT1G,MAAO,UACPitB,WAAY,8BACZC,OAAQ,qCACRC,MAAO,qEAET9nB,QAAS,CACP0lB,iBAAkB,2BAClBqC,YAAa,2BACbC,0BAA2B,yBAC3BC,wBAAyB,UAGhBE,GAAQ,CACnBxD,IAAK,CACHtjB,QAAS,UACT1G,MAAO,UACPiqB,OAAQ,kCACR9tB,QAAS,MACT+tB,qBAAsB,2BACtBC,2BAA4B,2BAC5BC,mBAAoB,2BACpBC,kBAAmB,mCAEnBC,YAAa,UACbC,oBAAqB,cACrBE,YAAa,cACbD,aAAc,cACdE,aAAc,QAEhBC,OAAQ,CACNjkB,QAAS,UACT1G,MAAO,UACPiqB,OAAQ,mCAEVW,QAAS,CACPlkB,QAAS,UACT1G,MAAO,UACPiqB,OAAQ,kCACRY,WAAY,OACZC,SAAU,UACVC,iBAAkB,QAEpBW,KAAM,CACJ1rB,MAAO,UACP2rB,WAAY,UACZC,SAAU,2BACVC,oBAAqB,4BAEvB7xB,SAAU,CACRgxB,aAAc,4BAEhBC,SAAU,CACRD,aAAc,2BACdK,KAAM,OACNH,YAAa,yBACbC,UAAW,sBACXC,aAAc,QAEhBxB,OAAQ,CACNyB,KAAM,WAERC,OAAQ,CACNtrB,MAAO,OACPurB,UAAW,OACXC,YAAa,wBACb9kB,QAAS,wBACT+kB,iBAAkB,4BAEpBhlB,SAAU,CACRC,QAAS,yBAEXolB,KAAM,CACJplB,QAAS,UACTujB,OAAQ,kCACR8B,gBAAiB,UACjBC,cAAe,UACfC,mBAAoB,WAEtBC,UAAW,CACTC,WAAY,OACZC,aAAc,CACZ1lB,QAAS,YAGb2lB,YAAa,CACX3lB,QAAS,UACT4lB,YAAa,UACbC,kBAAmB,UACnBC,eAAgB,UAChBC,YAAa,2BACbxC,OAAQ,oBACRyC,aAAc,UACdC,UAAW,UACXC,UAAW,WAEbC,KAAM,CACJnmB,QAAS,UACTomB,UAAW,UACXC,eAAgB,4BAElBC,OAAQ,CACNtmB,QAAS,UACT1G,MAAO,UACPktB,OAAQ,OACRD,WAAY,OACZE,MAAO,QAET9nB,QAAS,CACP0lB,iBAAkB,OAClBqC,YAAa,2BACbC,0BAA2B,wBAC3BC,wBAAyB,SCvShBG,GAAe,0CCJrB,SAASC,GAAenrB,GAC7B,OAAKA,IAAUorB,KAAEp5B,QAAQgO,EAAOnM,SAAY,QAAQE,KAAKiM,GAClDA,EAAO9L,MAAM,GAAGmU,MAAM,KAAKuJ,OAAO,SAACyZ,EAAaC,GAAU,IAAAC,EAC1CD,EAAMjjB,MAAM,KAD8BmjB,EAAAr5B,OAAAyW,EAAA,EAAAzW,CAAAo5B,EAAA,GACxD74B,EADwD84B,EAAA,GACnDj5B,EADmDi5B,EAAA,GAEzDC,EAAMt5B,OAAA4oB,EAAA,EAAA5oB,CAAA,GAAQk5B,GAGpB,OADAI,EAAO/4B,GAAOH,EAAQm5B,mBAAmBn5B,EAAMqB,QAAQ,MAAO,MAAQ,GAC/D63B,GACN,IAPsE,OH4BvDE,GAXZ1nB,GAAUknB,GAAep4B,OAAO8iB,SAAS7V,QAAzCiE,MAEK2nB,GAAa,eAAAvlB,EAAAlU,OAAAymB,EAAA,EAAAzmB,CAAA0mB,EAAA7a,EAAA8a,KAAG,SAAAC,IAAA,OAAAF,EAAA7a,EAAAgb,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAC3BvB,GAAGA,GAAG9S,SADqBmU,EAAAE,KAAA,EAEhB0S,GAAUtY,IAAYnD,KAFN,OAE3BwH,GAF2BqB,EAAAK,KAAA,wBAAAL,EAAAO,SAAAT,MAAH,yBAAA1S,EAAAzK,MAAA6I,KAAA7R,YAAA,GAIb+kB,GAAQ,kBAAMC,GAAGvd,OACjB8oB,GAAW,kBAAMvL,GAAGngB,UACpB4pB,GAAU,kBAAMzJ,GAAG9U,SACnB2gB,GAAS,kBAAO7L,GAAKA,GAAGyP,OAASzP,IAsDjCkU,GAAuB,SAACC,GAAD,OAAc,SAAChrB,EAAOirB,GACxD,OAAIA,EAAO70B,OAAS6d,IACX+W,EAASC,EAAOC,QAAQlrB,MAAOirB,GAEjCD,EAAShrB,EAAOirB,KAGVE,IA3DKP,GAqBU,SAACQ,GAAD,OAC5B,IAAI/P,QAAJ,eAAA3R,EAAAtY,OAAAymB,EAAA,EAAAzmB,CAAA0mB,EAAA7a,EAAA8a,KAAY,SAAAa,EAAO2C,GAAP,IAAA8P,EAAArrB,EAAA,OAAA8X,EAAA7a,EAAAgb,KAAA,SAAAY,GAAA,cAAAA,EAAAV,KAAAU,EAAAT,MAAA,cAAAS,EAAAT,KAAA,EAEC0S,GAAUtY,IAAYnD,KAFvB,cAEVwH,GAFUgC,EAAAN,KAGJ8S,EAAeD,EAAME,WAHjBzS,EAAAL,GAKEwF,SALFnF,EAAAkB,GAKQ,GALRlB,EAAAqB,GAKYzG,IALZoF,EAAAT,KAAA,EAKoCvB,GAAGngB,SAAS60B,OALhD,cAAA1S,EAAA2S,GAAA3S,EAAAN,KAAAM,EAAAuK,IAAA,EAAAvK,EAAAL,IAAAK,EAAAkB,GAAAlB,EAAAqB,GAAArB,EAAA2S,IAAA3S,EAAAT,KAAA,GAMOvB,GAAG9U,QAAQ4U,MACxB,kBAPM,eAAAkC,EAAA4S,GAAA5S,EAAAN,KAAAM,EAAA6S,GAAA1R,EAAA,EAAAnB,EAAA8S,GAAA,GAAA9S,EAAAT,KAAA,GAUIvB,GAAGvd,MAAM+e,IAAI,CAAEtZ,MAAO2T,IAA2B1T,KAAM,IAV3D,eAAA6Z,EAAA+S,GAAA/S,EAAAN,KAAAM,EAAAgT,GAAA,CAWNxlB,QAASglB,EAAa/xB,MAAM+M,SAXtBwS,EAAAiT,KAAA,EAAAjT,EAAA6S,IAAA7S,EAAA8S,GAAA9S,EAAA+S,GAAA/S,EAAAgT,IAAAhT,EAAAT,KAAA,GAaMvB,GAAGyP,OAAOiF,OAbhB,QAAA1S,EAAAkT,IAAAlT,EAAAN,MAIJvY,EAJI,CAKRtJ,SALQmiB,EAAAuK,GAMRrhB,QANQ8W,EAAA4S,GASRnyB,MATQuf,EAAAiT,IAaRxF,OAbQzN,EAAAkT,MAgBJ7oB,MAAQ,CACZA,MACEA,IAAS8oB,EAAO9oB,IACZ8oB,EAAO9oB,IACP8oB,EAAOhsB,EAAMtJ,SAASwM,QAAU8oB,EAAM,QAC5C50B,KAAM8L,IAASlD,EAAMtJ,SAASwM,OEnEP,WFsEzBlD,EAAMisB,SAAW,CACf96B,OAAQ6O,EAAMtJ,SAASnF,MAAQ8gB,MAEjCkJ,EAAQnqB,OAAA4oB,EAAA,EAAA5oB,CAAA,GAAKi6B,EAAiBrrB,IA3BpB,yBAAA6Y,EAAAJ,SAAAG,MAAZ,gBAAAF,GAAA,OAAAhP,EAAA7O,MAAA6I,KAAA7R,YAAA,KAtB2B,SAACu5B,GAkB5B,OAjBAA,EAAM7d,SAAS,CACbnX,KAAM4d,MAER4W,GAAKQ,GAAOc,KACV,SAAClsB,GACCorB,EAAM7d,SAAS,CACbnX,KAAM6d,IACNiX,QAAS,CAAElrB,YAGf,SAAC7E,GACCiwB,EAAM7d,SAAS,CACbnX,KAAM8d,IACNgX,QAAS,CAAE/vB,aAIV,SAACid,GAAD,OAAU,SAAC6S,GAAD,OAAY7S,EAAK6S,mCI1CrB7W,gBAAe,CAC5B+X,GAAI,CACF7xB,GAAI,yBACJga,eAAgB,MAElB8X,OAAQ,CACN9xB,GAAI,6BACJga,eACE,oUCbC,IAeQ+X,GAfahwB,KAAOmG,IAAVrG,ihBCAzB,IAAMmwB,GAAgBpwB,aAAHqwB,MA4BJhqB,GAXUlG,KAAOmG,IAAVjG,KAQP+vB,4ECzBR,IAEQE,GAFanwB,KAAOmG,IAAViqB,2uBCAlB,IAkCQC,GAlCQrwB,KAAOmG,IAAVmqB,wHCAb,IAKQC,GALavwB,KAAOmG,IAAVqqB,ucCUlB,IAgFQC,GAhFf,SAAA5mB,GAAA9U,OAAA+U,EAAA,EAAA/U,CAAA07B,EAAA5mB,GAAA,IAAAvC,EAAAopB,GAAAD,GACE,SAAAA,EAAYtwB,GAAO,IAAAgH,EAAA,OAAApS,OAAAqS,EAAA,EAAArS,CAAAsS,KAAAopB,IACjBtpB,EAAAG,EAAAC,KAAAF,KAAMlH,IACDwD,MAAQ,CAAEsD,SAAS,EAAOiC,QAAS,KAAMynB,iBAAiB,GAC/DxpB,EAAKgD,WAAa,kBAAM,MAHPhD,EADrB,OAAApS,OAAAmV,EAAA,EAAAnV,CAAA07B,EAAA,EAAAn7B,IAAA,qBAAAH,MAAA,WASIkS,KAAKupB,YAAcxvB,KAAOyvB,UACxBzvB,KAAOC,OAAOS,aACduF,KAAKypB,UAAUlyB,KAAKyI,SAX1B,CAAA/R,IAAA,uBAAAH,MAAA,WAiBQkS,KAAKupB,aAAaxvB,KAAO2vB,YAAY1pB,KAAKupB,eAjBlD,CAAAt7B,IAAA,YAAAH,MAAA,SAoBY67B,EAAO9nB,GAAS,IAAAvB,EAAAN,KACpBA,KAAK1D,MAAMsD,SACfI,KAAKG,SAAS,CAAEP,SAAS,EAAMiC,WAAW,kBAAMvB,EAAKxH,MAAM8wB,aAtB/D,CAAA37B,IAAA,UAAAH,MAAA,SAAA8T,EAyBqBioB,GAAI,IAAbhjB,EAAajF,EAAbiF,MACRA,EAAMijB,QAAU,EACf,SAASC,IACR,IAAKljB,EAAMijB,SAAW,IAAO,EAE3B,OADAjjB,EAAMC,QAAU,OACT+iB,IAETG,WAAWD,EAAM,IALlB,KA3BL,CAAA97B,IAAA,cAAAH,MAAA,WAoCsC,IAAxBw7B,IAAwBn7B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,KAAAA,UAAA,GAClC6R,KAAKG,SAAS,CAAEmpB,sBArCpB,CAAAr7B,IAAA,SAAAH,MAAA,WAwCW,IAAAkW,EAAAhE,KACPA,KAAKlH,MAAMmxB,UACXjqB,KAAKkqB,QAAQlqB,KAAKmqB,QAAS,kBAAMnmB,EAAK7D,SAAS,CAAEP,SAAS,QA1C9D,CAAA3R,IAAA,SAAAH,MAAA,WA6CW,IAAAgY,EAAA9F,KACDoqB,EAAqBpqB,KAAK1D,MAAMuF,QACtC,OACE7B,KAAK1D,MAAMsD,SACTtG,EAAAC,EAAAC,cAAC6wB,GAAD,CAAc9pB,SAAU,SAAC4pB,GAAD,OAAcrkB,EAAKqkB,QAAUA,IACnD7wB,EAAAC,EAAAC,cAAC8wB,GAAD,KACEhxB,EAAAC,EAAAC,cAAC+wB,GAAD,KACGH,EACC9wB,EAAAC,EAAAC,cAAC4wB,EAAD,CACE/gB,YAAa,kBAAavD,EAAKuD,YAALlS,MAAA2O,EAAI3X,YAC9B2U,WAAY,SAAC+mB,GAAD,OAAS/jB,EAAKhD,WAAa+mB,KAEvC,MAENvwB,EAAAC,EAAAC,cAACgxB,GAAD,MACAlxB,EAAAC,EAAAC,cAACixB,GAAD,KACEnxB,EAAAC,EAAAC,cAACd,GAAA,EAAD,CAAQmI,QAAS,kBAAMiF,EAAK4iB,UAAU36B,MAAOuL,EAAAC,EAAAC,cAACkxB,GAAA,EAAqBxjB,GAASwhB,UAC5EpvB,EAAAC,EAAAC,cAACd,GAAA,EAAD,CACES,WAAS,EACTpL,MAAOuL,EAAAC,EAAAC,cAACkxB,GAAA,EAAqBxjB,GAASuhB,IACtCnf,QAAStJ,KAAK1D,MAAMgtB,gBACpBzoB,QAAS,WACHiF,EAAKhD,cACPgD,EAAK4iB,mBApEzBU,EAAA,CAA2BpoB,IAAMC,oBCRpBjO,GACTqJ,yBAH0B,SAACC,GAAD,OAAWA,EAAMtJ,UAKvC,SAACA,GAAD,OACIA,0BCDG0d,gBAAe,CAC5BgU,KAAM,CACJ9tB,GAAI,iCACJga,eAAgB,QAElB5d,SAAU,CACR4D,GAAI,qCACJga,eAAgB,YAElBqT,SAAU,CACRrtB,GAAI,qCACJga,eAAgB,YAElBvS,QAAS,CACPzH,GAAI,oCACJga,eAAgB,gBAElB+Z,WAAY,CACV/zB,GAAI,uCACJga,eAAgB,eAElBga,cAAe,CACbh0B,GAAI,0CACJga,eAAgB,o0ICnBb,IAAM/R,GAAYlG,KAAOmG,IAAV+rB,KAEA,SAAC/xB,GAAD,OAClBA,EAAM0G,OAAS1G,EAAM0G,MAAMwjB,IAAItjB,QAAU5G,EAAM0G,MAAMwjB,IAAItjB,QAAU,WAC5D,SAAC5G,GAAD,OAAYA,EAAM0G,OAAS1G,EAAM0G,MAAMwjB,IAAIhqB,MAAQF,EAAM0G,MAAMwjB,IAAIhqB,MAAQ,YAiBpE,SAACF,GAAD,OACdA,EAAM0G,OAAS1G,EAAM0G,MAAMwjB,IAAIC,OAASnqB,EAAM0G,MAAMwjB,IAAIC,OAAS,sBAGxD6H,GAAYnyB,KAAOoyB,GAAVC,KAGV,SAAClyB,GAAD,OAAYA,EAAMmyB,OAAS,OAAS,uBAKnCC,GAA0BvyB,KAAOmG,IAAVC,MAK9BosB,GAASxyB,KAAOmG,IAAVO,KAMM,SAACvG,GAAD,OACdA,EAAM0G,OAAS1G,EAAM0G,MAAMwjB,IAAIC,OAASnqB,EAAM0G,MAAMwjB,IAAIC,OAAS,sBAE/DmI,GAAKzyB,KAAO0yB,GAAV9rB,MAWF+rB,GAAgB3yB,aAAO4yB,OAAP5yB,CAAH6yB,KAUR,SAAC1yB,GAAD,OACPA,EAAM0G,OAAS1G,EAAM0G,MAAMokB,QAAQ5qB,MAC/BF,EAAM0G,MAAMokB,QAAQ5qB,MACpB,4BAEK,SAACF,GAAD,OACTA,EAAM0G,OAAS1G,EAAM0G,MAAMokB,QAAQC,WAC/B/qB,EAAM0G,MAAMokB,QAAQC,WACpB,6BAGD,SAAS4H,GAAW3yB,GACzB,OACEQ,EAAAC,EAAAC,cAAC2xB,GAAD,KACE7xB,EAAAC,EAAAC,cAAC8xB,GAAD,CAAeI,GAAI5yB,EAAM4yB,GAAI7qB,QAAS/H,EAAM+H,SAC1CvH,EAAAC,EAAAC,cAACmyB,GAAApyB,EAAD,CAAS7F,KAAMoF,EAAMa,OADvB,IACgCL,EAAAC,EAAAC,cAAC4xB,GAAD,KAAKtyB,EAAMiI,YAYzBpI,KAAOmG,IAAV8sB,MAMDjzB,KAAOwP,MAAV0jB,KAcJ,SAAC/yB,GAAD,OACTA,EAAM0G,OAAS1G,EAAM0G,MAAMokB,QAAQG,iBAC/BjrB,EAAM0G,MAAMokB,QAAQG,iBACpB,4BAIK,SAACjrB,GAAD,OACTA,EAAM0G,OAAS1G,EAAM0G,MAAMokB,QAAQG,iBAC/BjrB,EAAM0G,MAAMokB,QAAQG,iBACpB,4BAKK,SAACjrB,GAAD,OACTA,EAAM0G,OAAS1G,EAAM0G,MAAMokB,QAAQG,iBAC/BjrB,EAAM0G,MAAMokB,QAAQG,iBACpB,4BAKK,SAACjrB,GAAD,OACTA,EAAM0G,OAAS1G,EAAM0G,MAAMokB,QAAQG,iBAC/BjrB,EAAM0G,MAAMokB,QAAQG,iBACpB,4BAIK,SAACjrB,GAAD,OACTA,EAAM0G,OAAS1G,EAAM0G,MAAMokB,QAAQG,iBAC/BjrB,EAAM0G,MAAMokB,QAAQG,iBACpB,6BA4CD,IAAM+H,GAAOnzB,KAAOmG,IAAVitB,KAIE,SAACjzB,GAAD,OACfA,EAAM0G,OAAS1G,EAAM0G,MAAMwjB,IAAIC,OAASnqB,EAAM0G,MAAMwjB,IAAIC,OAAS,sBA6B/D+I,GAAOrzB,KAAOszB,GAAVC,KACC,SAACpzB,GAAD,OACPA,EAAM0G,OAAS1G,EAAM0G,MAAMokB,QAAQ5qB,MAC/BF,EAAM0G,MAAMokB,QAAQ5qB,MACpB,4BACO,SAACF,GAAD,OAAYA,EAAMqzB,MAAQ,MAAQ,OAIhC,SAACrzB,GAAD,OAAYA,EAAMszB,UAAY,OAG3C,SAACtzB,GAAD,OAAaA,EAAMuzB,UAAYvzB,EAAMwzB,OA9B1B,SAACxzB,GAAD,uFAAAtJ,OAKbsJ,EAAM0G,OAAS1G,EAAM0G,MAAMokB,QAAQC,WAC/B/qB,EAAM0G,MAAMokB,QAAQC,WACpB,2BAPS,UA8BmCyI,CAAOxzB,GAAS,IAE9D,SAACA,GAAD,OAAYA,EAAMyzB,QArBX,uFAqB6B,IACpC,SAACzzB,GAAD,OAAYA,EAAMuzB,SAAW,mCAAqC,KAEhEG,GAAI7zB,KAAO8zB,EAAVC,KAOY,SAAC5zB,GAAD,OAAYA,EAAM6zB,QAAU,IAAM,OACjC,SAAC7zB,GAAD,OAAYA,EAAM6zB,QAAU,MAAQ,KAC7C,SAAC7zB,GAAD,OA5BO8zB,EA4Ba9zB,EAAMgrB,SA5BP9qB,EA4BiBF,EAAM0G,MAAMokB,QAAQC,WA5B1B+I,EAAa5zB,EAAQ,UAA7C,IAAC4zB,EAAY5zB,IA4CxB6zB,GAAQl0B,aAAO4yB,OAAP5yB,CAAHm0B,KAGP,SAACh0B,GAAD,OAAYA,EAAMyzB,QAjBN,SAACzzB,GAAD,sBAAAtJ,OAEdsJ,EAAM0G,OAAS1G,EAAM0G,MAAMokB,QAAQC,WAC/B/qB,EAAM0G,MAAMokB,QAAQC,WACpB,2BAJU,OAiBgB0I,CAAQzzB,GAVrB,SAACA,GAAD,sBAAAtJ,OAEjBsJ,EAAM0G,OAAS1G,EAAM0G,MAAMokB,QAAQ5qB,MAC/BF,EAAM0G,MAAMokB,QAAQ5qB,MACpB,2BAJa,OAU8B+zB,CAAWj0B,IAI/C,SAACA,GAAD,OACTA,EAAM0G,OAAS1G,EAAM0G,MAAMokB,QAAQC,WAC/B/qB,EAAM0G,MAAMokB,QAAQC,WACpB,6BAIFmJ,GAAkBr0B,KAAOs0B,KAAVC,MAcfC,IAHsBx0B,aAAOq0B,GAAPr0B,CAAHy0B,MAGGz0B,aAAOq0B,GAAPr0B,CAAH00B,OAGnBC,GAAwB30B,aAAOq0B,GAAPr0B,CAAH40B,MAGrBC,GAAiB,SAAChf,GAItB,OAAIA,IAAY2B,IACP7W,EAAAC,EAAAC,cAAC2zB,GAAD,CAAqBp/B,MAAO,SAEjCygB,IAAY4B,IACP9W,EAAAC,EAAAC,cAAC8zB,GAAD,CAAuBv/B,MAAO,gBADvC,GAIK,SAAS0/B,GAAS30B,GACvB,OACEQ,EAAAC,EAAAC,cAACwyB,GAAD,CACEG,MAAOrzB,EAAMqzB,MACbG,OAAQxzB,EAAMwzB,OACdF,UAAWtzB,EAAMszB,UACjBG,QAASzzB,EAAMyzB,QACf1rB,QAAS,SAACJ,GAAD,OAAW3H,EAAM+H,QAAU/H,EAAM+H,QAAQJ,GAAS,MAC3D4rB,SAAUvzB,EAAMuzB,UAGdvzB,EAAM4yB,GACJpyB,EAAAC,EAAAC,cAACqzB,GAAD,CAAOnB,GAAI5yB,EAAM4yB,GAAIa,QAASzzB,EAAMyzB,SAClCjzB,EAAAC,EAAAC,cAACgzB,GAAD,CAAG1I,SAAUhrB,EAAMgrB,UAChBhrB,EAAMiI,WACJjI,EAAMwD,OAASkxB,GAAe10B,EAAMwD,SAIzChD,EAAAC,EAAAC,cAACgzB,GAAD,CAAG1I,SAAUhrB,EAAMgrB,SAAU6I,QAAS7zB,EAAM6zB,SACzC7zB,EAAMiI,WACJjI,EAAMwD,OAASkxB,GAAe10B,EAAMwD,uBCrPrD,IAAMoN,GAAkBC,mCAAyB,CAC/C+jB,gBACA16B,YACA26B,SCjFAtxB,yBAhByB,SAACC,GAAD,OAAWA,EAAMrJ,QAgBX,SAACsJ,GAAD,OAC7BA,EAAS3F,OD2FEgT,yBAAQF,GARvB,SAA4BG,GAC1B,MAAO,CACLgB,WAAY,SAAC5X,GAAD,OAAY4W,EAASgB,aAAW5X,KAC5C23B,cAAe,SAACv3B,EAAOvF,EAAO8/B,GAAf,OAA4B/jB,EE1FxC,SAAuBxW,EAAOvF,EAAO8/B,GAC1C,MAAO,CACLl7B,KAAM8O,KACNnO,QACAvF,QACA8/B,YFqFoDhD,CAAcv3B,EAAOvF,EAAO8/B,KAChFziB,wBAAyB,SAACnY,GAAD,OAAc6W,EAASsB,aAAwBnY,OAI7D4W,CAA6CikB,qBAnF5D,SAAqB/0B,GACnB,IAAMg1B,EAAYh1B,EAAMi1B,OAAOj1B,EAAMi1B,OAAO3/B,OAAS,GAAGsF,KACxD,OACE4F,EAAAC,EAAAC,cAACw0B,GAAD,KACE10B,EAAAC,EAAAC,cAACsyB,GAAD,KACExyB,EAAAC,EAAAC,cAACsxB,GAAD,CAAWG,QAAM,GACf3xB,EAAAC,EAAAC,cAACi0B,GAAD,CAAUlB,QAAuB,SAAduB,EAAsBpC,GAAG,QAAQU,WAAS,EAACE,QAAM,GAClEhzB,EAAAC,EAAAC,cAACkxB,GAAA,EAAqBxjB,GAASwd,OAEjCprB,EAAAC,EAAAC,cAACi0B,GAAD,CAAUlB,QAAuB,aAAduB,EAA0BpC,GAAG,iBAAiBU,WAAS,EAACE,QAAM,GAC/EhzB,EAAAC,EAAAC,cAACkxB,GAAA,EAAqBxjB,GAASlU,WAEjCsG,EAAAC,EAAAC,cAACi0B,GAAD,CAAUlB,QAAuB,aAAduB,EAA0B1B,WAAS,EAACE,QAAM,EAACD,UAAQ,GACpE/yB,EAAAC,EAAAC,cAACkxB,GAAA,EAAqBxjB,GAAS+c,YAMnC3qB,EAAAC,EAAAC,cAACsxB,GAAD,KACExxB,EAAAC,EAAAC,cAACi0B,GAAD,CAAUlB,QAAuB,YAAduB,EAAyBpC,GAAG,gBAAgBU,WAAS,EAACE,QAAM,GAC7EhzB,EAAAC,EAAAC,cAACkxB,GAAA,EAAqBxjB,GAAS7I,UAQjC/E,EAAAC,EAAAC,cAAC0xB,GAAD,CAAyB+C,UAAS1vB,KAAiBN,cAChDnF,EAAM40B,WAAWlxB,MAAM5O,IAAI,SAACqF,GAAD,OAC1BqG,EAAAC,EAAAC,cAACi0B,GAAD,CACEx/B,IAAKgF,EAAOmB,WACZ0vB,SAAU7wB,EAAO2D,KAAOkC,EAAM60B,SAC9B9sB,QAAS,WAEP/H,EAAM+R,WAAW5X,EAAO2D,IACxBkC,EAAMo1B,OAAOzQ,KAAK,kBAEpBnhB,MAAOrJ,EAAOub,QACd2d,OAAK,EACLC,WAAS,EACTE,QAAM,GAELp9B,OAAO+D,EAAOmB,kBASzBkF,EAAAC,EAAAC,cAACiyB,GAAD,CAAYC,GAAG,gBAAgB/xB,KAAK,QAAQkH,QAAS,WACnD/H,EAAMqS,wBAAwBrS,EAAM9F,YAEpCsG,EAAAC,EAAAC,cAACkxB,GAAA,EAAqBxjB,GAASyjB,iBGvFxBwD,GACE,CAAExgC,KAAM,QAASokB,SAAS,GAD5Boc,GAEA,CAAExgC,KAAM,QAASokB,SAAS,GAF1Boc,GAGC,CAAExgC,KAAM,QAASokB,SAAS,GAH3Boc,GAIC,CAAExgC,KAAM,QAASokB,SAAS,GAJ3Boc,GAKI,CAAExgC,KAAM,QAASokB,SAAS,GAL9Boc,GAMH,CAAExgC,KAAM,UAAWokB,SAAS,GANzBoc,GAQW,CAAExgC,KAAM,OAAQokB,SAAS,GARpCoc,GASS,CAAExgC,KAAM,KAAMokB,SAAS,GAThCoc,GAUM,CAAExgC,KAAM,MAAOokB,SAAS,GAV9Boc,GAWO,CAAExgC,KAAM,QAASokB,SAAS,GAXjCoc,GAaI,CAAExgC,KAAM,QAASokB,SAAS,iECGhCqc,GAAqB,CAChCC,GAAI,oCACJC,GAAI,qCAGNC,aAAcC,MACdD,aAAcE,MAEP,IAAMC,GAA4B,SAA5BA,EAA6BjhC,EAAQyZ,GAChD,IAAMynB,EACJlhC,IAAWkhB,KACP+f,EAA0B/f,KAAgBigB,IAC1C,GACN,OAAOlhC,OAAOC,KAAKuZ,GAAUiG,OAAO,SAAC0hB,EAAmB5gC,GACtD,IAAIkkB,EAAUjL,EAASjZ,GAIvB,OAHKkkB,GAAW1kB,IAAWkhB,OACzBwD,EAAUwc,EAAyB1gC,IAE9BP,OAAOgM,OAAOm1B,EAAdnhC,OAAA4qB,EAAA,EAAA5qB,CAAA,GAAoCO,EAAMkkB,KAChD,KAGQ2c,GAAsB,CACjCT,GAAIK,GAA0B,KAAME,IACpCN,GAAII,GAA0B,KAAMK,eCnChCC,GAAiB,SAAC1yB,GAAD,OAAWA,EAAMisB,UAMlC0G,GAAmB,kBAAM5yB,yBAC7B2yB,GACA,SAACE,GAAD,OAAmBA,EAAczhC,oMCL5B,IAAM0hC,GAAOx2B,KAAOs0B,KAAVmC,2cCaXC,6KAGFrvB,KAAKlH,MAAMw2B,aAAaC,GAAoB5hC,KAAMqS,KAAKsvB,aAAa/3B,KAAKyI,OAEzEA,KAAKupB,YAAcxvB,KAAOyvB,UACxBzvB,KAAOC,OAAOE,gCACd8F,KAAKwvB,WAAWj4B,KAAKyI,sDAMnBA,KAAKupB,aAAaxvB,KAAO2vB,YAAY1pB,KAAKupB,uDAK9CxvB,KAAO01B,QAAQ11B,KAAOC,OAAOC,sBAAuB,CAElDuC,MAAO1P,aAAashC,GAAoBpuB,KAAKlH,MAAMrL,QACnDk8B,MAAO5vB,KAAOC,OAAOE,yEAOvB,OAFA8F,KAAK0vB,kBAEEH,GAAoBxd,2CAGlB4X,EAAO97B,GAChBmS,KAAKlH,MAAM62B,eAAe9hC,oCAGnB,IAAAiS,EAAAE,KACP,OACE1G,EAAAC,EAAAC,cAAC21B,GAAD,CAAMphC,MAAOiS,KAAKlH,MAAMrL,OAAQoT,QAAS,kBAAMf,EAAK4vB,oBACjD1vB,KAAKlH,MAAMiI,iBAtCOC,IAAMC,WAmD3ByI,GAAkBrN,yBACtB4yB,KACA,SAACxhC,GAAD,MAAa,CACXA,YASWmc,qBACbF,GANyB,SAACG,GAAD,MAAe,CACxC8lB,eAAgB,SAAC9hC,GAAD,OAAUgc,EAASrX,aAAco9B,IAAwB/hC,KACzEgc,aAGaD,CAGbimB,oBAAUR,KClFZ,IAAMS,GAAc,SAACxzB,GAAD,OAAWA,EAAMkD,uLCG9B,IAAM2vB,GAAOx2B,KAAOs0B,KAAV8C,2cCcXC,6KAGFhwB,KAAKlH,MAAMw2B,aACTC,GAAqB5hC,KACrBqS,KAAKsvB,aAAa/3B,KAAKyI,OAGzBA,KAAKupB,YAAcxvB,KAAOyvB,UACxBzvB,KAAOC,OAAOG,iCACd6F,KAAKiwB,YAAY14B,KAAKyI,sDAMpBA,KAAKupB,aAAaxvB,KAAO2vB,YAAY1pB,KAAKupB,uDCpC3C,IAAuB2G,EDyC1Bn2B,KAAO01B,QAAQ11B,KAAOC,OAAOC,sBAAuB,CAElDuC,OC3CwB0zB,ED2CHlwB,KAAKlH,MAAM0G,MC1C7B9R,OAAOC,KAAK26B,GAAQ16B,IAAI,SAAC4R,GAAD,MAAY,CACzC1R,MAAO0R,EACPzR,MAAK,sCAAAyB,OAAwCgQ,GAC7CxR,OAAQwR,IAAU0wB,MDwChBvG,MAAO5vB,KAAOC,OAAOG,0EAOvB,OAFA6F,KAAK0vB,kBAEEH,GAAqBxd,4CAGlB4X,EAAOnqB,GACjBQ,KAAKlH,MAAMq3B,cAAc3wB,oCAGlB,IAAAM,EAAAE,KACP,OACE1G,EAAAC,EAAAC,cAAC42B,GAAD,CAAMriC,MAAOiS,KAAKlH,MAAM0G,MAAOqB,QAAS,kBAAMf,EAAK4vB,oBAChD1vB,KAAKlH,MAAMiI,iBAzCMC,IAAMC,WAqD1ByI,GAAkBrN,yBF5DtBA,yBAAeyzB,GAAa,SAACO,GAAD,OAAgBA,EAAW38B,OE4DK,SAAC8L,GAAD,MAAY,CACxEA,WAQaoK,qBAAQF,GALI,SAACG,GAAD,MAAe,CACxCsmB,cAAe,SAAC3wB,GAAD,OAAWqK,EAASrX,aAAco9B,IAAyBpwB,KAC1EqK,aAGaD,CACbimB,oBAAUG,sdE3EZ,IAOMM,GAAaC,aAAHC,KAEL,SAAC13B,GAAD,OATQ+N,EASa/N,EAAM+N,OANhCA,EAAM3N,QAAgB,UACtB2N,EAAM4pB,UAAkB,UAHP,oBADL,IAAC5pB,IAwBb6pB,GAAY/3B,aAAO4yB,OAAP5yB,CAAHg4B,KAAkBL,IAC3BM,GAAQj4B,KAAOY,EAAVs3B,KAAcP,IAuBVQ,OArBf,SAAWh4B,GACT,OAAIA,EAAM4yB,GAENpyB,EAAAC,EAAAC,cAACk3B,GAAc53B,EACZA,EAAMiI,UAMXzH,EAAAC,EAAAC,cAACo3B,GAAU93B,EACRA,EAAMiI,+wBCxCN,IAAMlC,GAAYlG,KAAOmG,IAAViyB,KAIA,SAACj4B,GAAD,OAClBA,EAAM0G,OAAS1G,EAAM0G,MAAMwjB,IAAItjB,QAC3B5G,EAAM0G,MAAMwjB,IAAItjB,QAChB,WACG,SAAC5G,GAAD,OACPA,EAAM0G,OAAS1G,EAAM0G,MAAMmkB,OAAO3qB,MAC9BF,EAAM0G,MAAMmkB,OAAO3qB,MACnB,YAEQ,SAACF,GAAD,OACZA,EAAM0G,OAAS1G,EAAM0G,MAAMwjB,IAAIC,OAC3BnqB,EAAM0G,MAAMwjB,IAAIC,OAChB,sBAGK+N,GAAYr4B,KAAOmG,IAAVmyB,MAcTC,GAAgBv4B,KAAOmG,IAAVqyB,MAEbC,GAAiBz4B,KAAOmG,IAAVuyB,MAEdC,GAAgB34B,KAAOs0B,KAAVsE,MCtCX7gB,gBAAe,CAC5BgU,KAAM,CACJ9tB,GAAI,4BACJga,eAAgB,QAElB4gB,KAAM,CACJ56B,GAAI,4BACJga,eAAgB,QAElB6gB,QAAS,CACP76B,GAAI,+BACJga,eAAgB,OAElB8gB,UAAW,CACT96B,GAAI,iCACJga,eAAgB,aAElB0X,OAAQ,CACN1xB,GAAI,8BACJga,eAAgB,UAElB+gB,KAAM,CACJ/6B,GAAI,4BACJga,eAAgB,UCdL,SAASua,KACtB,OACE7xB,EAAAC,EAAAC,cAACo4B,GAAD,KACEt4B,EAAAC,EAAAC,cAACw3B,GAAD,KACE13B,EAAAC,EAAAC,cAAC03B,GAAD,KACE53B,EAAAC,EAAAC,cAAC83B,GAAD,KACEh4B,EAAAC,EAAAC,cAACq4B,GAAD,CAAGnG,GAAG,sBAAsBhnB,OAAO,SAASmC,MAAO,CAAE3N,SAAS,IAC5DI,EAAAC,EAAAC,cAACmyB,GAAApyB,EAAD,CAAS7F,KAAK,SACd4F,EAAAC,EAAAC,cAACkxB,GAAA,EAAqBxjB,GAASwd,QAGnCprB,EAAAC,EAAAC,cAAC83B,GAAD,KACEh4B,EAAAC,EAAAC,cAACq4B,GAAD,CACEntB,OAAO,SACPotB,KAAK,+CAELx4B,EAAAC,EAAAC,cAACmyB,GAAApyB,EAAD,CAAS7F,KAAK,UACd4F,EAAAC,EAAAC,cAACkxB,GAAA,EAAqBxjB,GAASsqB,QAGnCl4B,EAAAC,EAAAC,cAAC83B,GAAD,KACEh4B,EAAAC,EAAAC,cAACq4B,GAAD,CACEntB,OAAO,SACPotB,KAAK,iEAELx4B,EAAAC,EAAAC,cAACmyB,GAAApyB,EAAD,CAAS7F,KAAK,QACd4F,EAAAC,EAAAC,cAACkxB,GAAA,EAAqBxjB,GAASuqB,YAIrCn4B,EAAAC,EAAAC,cAAC43B,GAAD,KACE93B,EAAAC,EAAAC,cAACu4B,GAAD,KACEz4B,EAAAC,EAAAC,cAAC83B,GAAD,KACEh4B,EAAAC,EAAAC,cAACq4B,GAAD,KACEv4B,EAAAC,EAAAC,cAACmyB,GAAApyB,EAAD,CAAS7F,KAAK,UACd4F,EAAAC,EAAAC,cAACkxB,GAAA,EAAqBxjB,GAASwqB,cAIrCp4B,EAAAC,EAAAC,cAACw4B,GAAD,KACE14B,EAAAC,EAAAC,cAAC83B,GAAD,KACEh4B,EAAAC,EAAAC,cAACq4B,GAAD,KACEv4B,EAAAC,EAAAC,cAACmyB,GAAApyB,EAAD,CAAS7F,KAAK,aACd4F,EAAAC,EAAAC,cAACkxB,GAAA,EAAqBxjB,GAASohB,WAIrChvB,EAAAC,EAAAC,cAAC83B,GAAD,KACEh4B,EAAAC,EAAAC,cAACq4B,GAAD,CAAGntB,OAAO,SACRotB,KAAK,6BACLjrB,MAAO,CAAE4pB,WAAW,IACpBn3B,EAAAC,EAAAC,cAACmyB,GAAApyB,EAAD,CAAS7F,KAAK,WACd4F,EAAAC,EAAAC,cAACkxB,GAAA,EAAqBxjB,GAASyqB,q4FC5D7C,IAAMnzB,GAAkBhG,aAAHy5B,MAQfxzB,GAAiBjG,aAAH05B,MAYdxzB,GAAW,SAACC,EAAUC,GAAX,SAAApP,OAAyBmP,EAAzB,MAAAnP,OAAsCoP,EAAtC,QAEJC,GAAYlG,KAAOmG,IAAVqzB,KAUlB,SAACr5B,GAAD,OAAYA,EAAMkG,KAAON,GAAS,OAAQ5F,EAAMkG,MAAQ,IAAO,SAAClG,GAAD,OAC7DA,EAAMmG,MAAQP,GAAS,QAAS5F,EAAMmG,OAAS,IAAM,SAACnG,GAAD,OACrDA,EAAMoG,IAAMR,GAAS,MAAO5F,EAAMoG,KAAO,IAAM,SAACpG,GAAD,OAC/CA,EAAMqG,OAAST,GAAS,SAAU5F,EAAMqG,QAAU,KAG3CC,GAAUzG,KAAOmG,IAAVszB,KAGG5zB,GACjBC,GACcD,GACdC,GACSD,GACTC,IA4DOa,GAAU3G,KAAOmG,IAAVuzB,KA+ChB,SAACv5B,GAAD,MAAgC,OAApBA,EAAM6G,UAzFd,4HAyFwC,IAAO,SAAC7G,GAAD,MAC7B,SAApBA,EAAM6G,UAjGF,wLAiGgC,IAAM,SAAC7G,GAAD,MACtB,SAApBA,EAAM6G,UAjFF,4OAiFgC,IAEtC,SAAC7G,GAAD,OAAYA,EAAM8G,QAlET,0ZAkE6B,scC/JxBoB,IAAMC,UCCTyP,aAAe,CAC5B4hB,YAAa,CACX17B,GAAI,4CACJga,eAAgB,sBAElB2hB,kBAAmB,CACjB37B,GAAI,mDACJga,eAAgB,wBAElB4hB,mBAAoB,CAClB57B,GAAI,oDACJga,eACE,ocCXC,IAAM/R,GAAYlG,KAAOmG,IAAV2zB,MCwCPC,OA3Cf,WAqBE,OAGEp5B,EAAAC,EAAAC,cAACm5B,GAAD,KAcEr5B,EAAAC,EAAAC,cAAA,OAAKo5B,UAAW,cCpCPliB,gBAAe,CAC5BC,SAAU,CACR/Z,GAAI,yCACJga,eAAgB,w0FCFpB,IAWawY,GAAQzwB,KAAOmG,IAAV+zB,KACd,SAAC/5B,GAAD,OAAYA,EAAM8G,QAZL,gEAOC,yBAQLkzB,GAAUn6B,KAAOmG,IAAVi0B,KAsBI,SAACj6B,GAAD,OAClBA,EAAM0G,OAAS1G,EAAM0G,MAAM6lB,YAAY3lB,QACnC5G,EAAM0G,MAAM6lB,YAAY3lB,QACxB,YAoBGszB,GAAUr6B,KAAOwP,MAAV8qB,KAYT,SAACn6B,GAAD,OACPA,EAAM0G,OAAS1G,EAAM0G,MAAM6lB,YAAYK,aACnC5sB,EAAM0G,MAAM6lB,YAAYK,aACxB,WACc,SAAC5sB,GAAD,OAClBA,EAAM0G,OAAS1G,EAAM0G,MAAM6lB,YAAYG,eACnC1sB,EAAM0G,MAAM6lB,YAAYG,eACxB,sBAUK,SAAC1sB,GAAD,OACPA,EAAM0G,OAAS1G,EAAM0G,MAAM6lB,YAAYK,aACnC5sB,EAAM0G,MAAM6lB,YAAYK,aACxB,4BACqB,SAAC5sB,GAAD,OACzBA,EAAM0G,OAAS1G,EAAM0G,MAAM6lB,YAAYK,aACnC5sB,EAAM0G,MAAM6lB,YAAYK,aACxB,6BAQGwN,GAAUv6B,KAAOw6B,GAAVC,KACR,SAACt6B,GAAD,OACRA,EAAM0G,OAAS1G,EAAM0G,MAAM6lB,YAAYpC,OACnCnqB,EAAM0G,MAAM6lB,YAAYpC,OACxB,qBACc,SAACnqB,GAAD,OAClBA,EAAM0G,OAAS1G,EAAM0G,MAAM6lB,YAAYC,YACnCxsB,EAAM0G,MAAM6lB,YAAYC,YACxB,YAWF3hB,GAAO,SAAC7K,GAAD,4CAAAtJ,OAGTsJ,EAAM0G,OAAS1G,EAAM0G,MAAM6lB,YAAYM,UACnC7sB,EAAM0G,MAAM6lB,YAAYM,UACxB,UALK,mEAAAn2B,OAUTsJ,EAAM0G,OAAS1G,EAAM0G,MAAM6lB,YAAYpC,OACnCnqB,EAAM0G,MAAM6lB,YAAYpC,OACxB,oBAZK,yVAwDAoQ,GAAc16B,KAAOszB,GAAVqH,KACpB,SAACx6B,GAAD,OAAW6K,GAAK7K,IAAU,SAACA,GAAD,OAAYA,EAAMyzB,QA1B/B,0WA0BuD,IAAO,SAC7EzzB,GAD6E,OAEzEA,EAAMgrB,SAXS,SAAChrB,GAAD,+BAAAtJ,OAEjBsJ,EAAM0G,OAAS1G,EAAM0G,MAAM6lB,YAAYE,kBACnCzsB,EAAM0G,MAAM6lB,YAAYE,kBACxB,UAJa,OAWEgO,CAAaz6B,GAAS,KAGhC06B,GAAgB76B,KAAOmG,IAAV20B,MAIbC,GAAO/6B,KAAOg7B,IAAVC,KAaK,SAAC96B,GAAD,OAClBA,EAAM0G,OAAS1G,EAAM0G,MAAM6lB,YAAYI,YACnC3sB,EAAM0G,MAAM6lB,YAAYI,YACxB,sBACG,SAAC3sB,GAAD,OACPA,EAAM0G,OAAS1G,EAAM0G,MAAM6lB,YAAYO,UACnC9sB,EAAM0G,MAAM6lB,YAAYO,UACxB,YAGKiO,GAAYl7B,KAAOszB,GAAV6H,KAClBnwB,GAGe,SAAC7K,GAAD,OACfA,EAAM0G,OAAS1G,EAAM0G,MAAM6lB,YAAYpC,OACnCnqB,EAAM0G,MAAM6lB,YAAYpC,OACxB,2dCjNF8Q,4CACJ,SAAAA,EAAYj7B,EAAOk7B,GAAS,IAAAl0B,EAAA,OAAApS,OAAAqS,EAAA,EAAArS,CAAAsS,KAAA+zB,IAC1Bj0B,EAAAG,EAAAC,KAAAF,KAAMlH,EAAOk7B,IACR13B,MAAQ,CACXE,MAAO,GACPmtB,MAAO,GACP/pB,SAAS,EACTkkB,SAAU,EACV3b,MAAO,GACP8rB,OAAQ,GACRC,cAAehtB,GAASyJ,SACxBwjB,uBAAuB,GAVCr0B,mEAgB1BE,KAAKlH,MAAMw2B,aACTC,GAA0B5hC,KAC1BqS,KAAKo0B,YAAY78B,KAAKyI,OAExBA,KAAKlH,MAAMw2B,aACTC,GAA+B5hC,KAC/BqS,KAAKq0B,SAAS98B,KAAKyI,OAErBA,KAAKlH,MAAMw2B,aACTC,GAA6B5hC,KAC7BqS,KAAKs0B,OAAO/8B,KAAKyI,OAEnBA,KAAKlH,MAAMw2B,aACTC,GAA2B5hC,KAC3BqS,KAAKu0B,kBAAkBh9B,KAAKyI,OAG9BA,KAAKupB,YAAcxvB,KAAOyvB,UACxBzvB,KAAOC,OAAOC,sBACd+F,KAAKw0B,MAAMj9B,KAAKyI,sDAMdA,KAAKupB,aAAaxvB,KAAO2vB,YAAY1pB,KAAKupB,4CAGzC5lB,GACL,OAAO3D,KAAKg0B,QAAQS,KACjBC,cAAc,CAAE99B,GAAI+M,EAAK5V,QACzBU,cACAC,SAASsR,KAAK1D,MAAM23B,OAAOxlC,oDAGnBgS,GACXT,KAAKG,SAAS,CAAE8zB,OAAQxzB,EAAMiE,OAAO5W,sCAGjC67B,EAAOxX,GACXnS,KAAKG,SAALzS,OAAA4oB,EAAA,EAAA5oB,CAAA,CACEo2B,SAAU,EACVlkB,SAAS,EACTq0B,OAAQ,GACRE,uBAAuB,EACvBD,cAAehtB,GAASyJ,UACrBwB,IAELnS,KAAK20B,YAAYC,2CAIjB50B,KAAKG,SAAS,CACZ2jB,UAAW9jB,KAAK1D,MAAMwnB,SAAW,GAAK9jB,KAAK1D,MAAME,MAAMpO,SAEzD4R,KAAK60B,gDAID70B,KAAK1D,MAAMwnB,SACb9jB,KAAKG,SAAS,CACZ2jB,UAAW9jB,KAAK1D,MAAMwnB,SAAW,GAAK9jB,KAAK1D,MAAME,MAAMpO,SAGzD4R,KAAKG,SAAS,CAAE2jB,SAAU9jB,KAAK1D,MAAME,MAAMpO,OAAS,IAEtD4R,KAAK60B,2DAML,OAFA70B,KAAK80B,aAEEvF,GAA2Bxd,+CAK9B/R,KAAK1D,MAAMwnB,SAAW,EACxB9jB,KAAK+0B,UAAUC,UAAY,EACM,IAAxBh1B,KAAK1D,MAAMwnB,WACpB9jB,KAAK+0B,UAAUC,UAAY,IAE7Bh1B,KAAK+0B,UAAUC,UAA+C,IAA5Bh1B,KAAK1D,MAAMwnB,SAAW,EAA5B,0CAO5B,OAFA9jB,KAAKi1B,QAEE1F,GAA0Bxd,8CAGrBtR,GACZ,IAAMiE,EACmC,SAAvCjE,EAAMiE,OAAOwwB,QAAQzmC,cACjBgS,EAAMiE,OAAOywB,cACb10B,EAAMiE,OACN/F,EAAW+F,EAAO0wB,aAAa,OACA,UAAjC1wB,EAAOwwB,QAAQzmC,gBACkB,OAAjCiW,EAAOwwB,QAAQzmC,cAInBuR,KAAKG,SAAS,CAAE2jB,SAAUnlB,IAHxBqB,KAAKi1B,mDAMSx0B,GAChB,IAAMiE,EACmC,SAAvCjE,EAAMiE,OAAOwwB,QAAQzmC,cACjBgS,EAAMiE,OAAOywB,cACb10B,EAAMiE,OACyB,UAAjCA,EAAOwwB,QAAQzmC,eACfuR,KAAK20B,cAAgBU,SAASC,gBACG,OAAjC5wB,EAAOwwB,QAAQzmC,cAIfiW,EAAO6wB,UAAUC,SAAS,cAC1B9wB,EAAO0wB,aAAa,SAAWp1B,KAAK1D,MAAMwnB,UAC9C9jB,KAAK80B,aALH90B,KAAKi1B,8CASP,IAAMQ,EAAez1B,KAAK1D,MAAME,MAAMy3B,OAAOj0B,KAAKi0B,OAAO18B,KAAKyI,OAC5DA,KAAK1D,MAAMwnB,UAET2R,EACFz1B,KAAKi1B,MAAMQ,EAAa3nC,OAGtBkS,KAAK1D,MAAM63B,uBAAuBn0B,KAAKi1B,MAAMj1B,KAAK1D,MAAM23B,sCAGxDyB,GACJ11B,KAAKG,SAAS,CAAEP,SAAS,IACrB81B,GAAM37B,KAAO01B,QAAQzvB,KAAK1D,MAAMqtB,MAAO+L,GAC3C37B,KAAO01B,QAAQ11B,KAAOC,OAAOK,sDAGtB,IAAAiG,EAAAN,KACP,OACE1G,EAAAC,EAAAC,cAACm8B,GAAD,CAAO/1B,QAASI,KAAK1D,MAAMsD,SACzBtG,EAAAC,EAAAC,cAACs5B,GAAD,CACE8C,YAAa,SAACn1B,GAAD,OAAWH,EAAKu1B,cAAcp1B,IAC3Cq1B,UAAW,SAACr1B,GAAD,OAAWH,EAAKy1B,kBAAkBt1B,KAE7CnH,EAAAC,EAAAC,cAACw5B,GAAD,CACEzyB,SAAU,SAAC4H,GACT7H,EAAKq0B,YAAcxsB,GAErByqB,UAAW,YACXlgC,KAAK,OACL5E,MAAOkS,KAAK1D,MAAM23B,OAClBvtB,SAAU,SAACjG,GAAD,OAAWH,EAAK01B,aAAav1B,MAEzCnH,EAAAC,EAAAC,cAAC05B,GAAD,CACE3yB,SAAU,SAAC4yB,GACT7yB,EAAKy0B,UAAY5B,IAGlBtmC,aACCmT,KAAK1D,MAAME,MACRy3B,OAAO,SAACtwB,GAAD,OAAUrD,EAAK2zB,OAAOtwB,KAC7B/V,IAAI,SAAC+V,EAAMsyB,GAAP,OACH38B,EAAAC,EAAAC,cAAC65B,GAAD,CACEplC,IAAK0V,EAAK7V,MACVy+B,QAAS5oB,EAAK3V,OACd81B,SAAUxjB,EAAKhE,MAAMwnB,WAAamS,EAClCC,IAAKD,GAEJtyB,EAAKwyB,KACF78B,EAAAC,EAAAC,cAACg6B,GAAD,KACAl6B,EAAAC,EAAAC,cAACk6B,GAAD,KACG/vB,EAAKwyB,OAGR,KACJ78B,EAAAC,EAAAC,cAACkxB,GAAA,EAAD,CAAkB9zB,GAAI+M,EAAK5V,WAGjCuL,EAAAC,EAAAC,cAACq6B,GAAD,CAAWjB,UAAW,aACpBt5B,EAAAC,EAAAC,cAACkxB,GAAA,EAAqB1qB,KAAK1D,MAAM43B,2BAtMvBlzB,IAAMC,WAgNhC8yB,GAAYqC,aAAe,CACzB3B,KAAM4B,YAAUC,OAAOC,YAOV1G,2BAAUkE,wlDChOlB,IAAMyC,GAAU79B,KAAOuJ,QAAVu0B,KAYE,SAAC39B,GAAD,OAClBA,EAAM0G,OAAS1G,EAAM0G,MAAMwjB,IAAItjB,QAC3B5G,EAAM0G,MAAMwjB,IAAItjB,QAChB,WACG,SAAC5G,GAAD,OACPA,EAAM0G,OAAS1G,EAAM0G,MAAMwjB,IAAIhqB,MAAQF,EAAM0G,MAAMwjB,IAAIhqB,MAAQ,YAEvD,SAACF,GAAD,OAAYA,EAAM49B,KAAO,YAAc,QAQ/B,SAAC59B,GAAD,OAAWA,EAAM0G,OAAS1G,EAAM0G,MAAMwjB,IAAIK,kBAAoBvqB,EAAM0G,MAAMwjB,IAAIK,kBAAoB,oCAIlG,SAACvqB,GAAD,OAAWA,EAAM0G,OAAS1G,EAAM0G,MAAMwjB,IAAII,mBAAqBtqB,EAAM0G,MAAMwjB,IAAII,mBAAqB,4BAKpG,SAACtqB,GAAD,OAAWA,EAAM0G,OAAS1G,EAAM0G,MAAMwjB,IAAIG,2BAA6BrqB,EAAM0G,MAAMwjB,IAAIG,2BAA6B,6BAI3HwT,GAAUh+B,KAAOi+B,QAAVC,MAQdC,GAAmBn+B,KAAOi+B,QAAVG,KAEA,SAACj+B,GAAD,OAClBA,EAAM0G,OAAS1G,EAAM0G,MAAMwjB,IAAItjB,QAC3B5G,EAAM0G,MAAMwjB,IAAItjB,QAChB,WACG,SAAC5G,GAAD,OACPA,EAAM0G,OAAS1G,EAAM0G,MAAMwjB,IAAIhqB,MAAQF,EAAM0G,MAAMwjB,IAAIhqB,MAAQ,YAIhD,SAACF,GAAD,OACfA,EAAM0G,OAAS1G,EAAM0G,MAAMwjB,IAAIC,OAC3BnqB,EAAM0G,MAAMwjB,IAAIC,OAChB,sBAMF+T,GAAuBr+B,KAAOs0B,KAAVgK,KAWF,SAACn+B,GAAD,OACpBA,EAAM0G,OAAS1G,EAAM0G,MAAMwjB,IAAIhqB,MAAQF,EAAM0G,MAAMwjB,IAAIhqB,MAAQ,4BACrD,SAACF,GAAD,OACVA,EAAM0G,OAAS1G,EAAM0G,MAAMwjB,IAAItjB,QAAU5G,EAAM0G,MAAMwjB,IAAItjB,QAAU,gBAIjEw3B,GAAcv+B,KAAOs0B,KAAVkK,MAMJC,GAAU,kBACrB99B,EAAAC,EAAAC,cAACs9B,GAAD,KACEx9B,EAAAC,EAAAC,cAACw9B,GAAD,KACE19B,EAAAC,EAAAC,cAAC09B,GAAD,CACEr2B,QAAS,kBAAMvS,OAAO+oC,OAAOC,mBAAmBC,aACjDj+B,EAAAC,EAAAC,cAACmyB,GAAApyB,EAAD,CAAS7F,KAAK,WAEjB4F,EAAAC,EAAAC,cAACw9B,GAAD,KACE19B,EAAAC,EAAAC,cAAC09B,GAAD,CACEr2B,QAAS,kBAAMvS,OAAO+oC,OAAOC,mBAAmBE,cAAgBlpC,OAAO+oC,OAAOC,mBAAmBG,aAAenpC,OAAO+oC,OAAOC,mBAAmBI,aAClJp+B,EAAAC,EAAAC,cAACmyB,GAAApyB,EAAD,CAAS7F,KAAK,uBAEjB4F,EAAAC,EAAAC,cAACw9B,GAAD,KACE19B,EAAAC,EAAAC,cAAC09B,GAAD,CACEr2B,QAAS,kBAAMvS,OAAO+oC,OAAOC,mBAAmBrC,UACjD37B,EAAAC,EAAAC,cAACmyB,GAAApyB,EAAD,CAAS7F,KAAK,UC9GNgd,gBAAe,CAC5B/F,aAAc,CACZ/T,GAAI,yCACJga,eAAgB,iBAElB4e,WAAY,CACV54B,GAAI,uCACJga,eAAgB,mBAElBqf,YAAa,CACXr5B,GAAI,wCACJga,eAAgB,gBAElB+mB,YAAa,CACX/gC,GAAI,wCACJga,eAAgB,gBAElBgnB,eAAgB,CACdhhC,GAAI,2CACJga,eAAgB,kBAElBinB,QAAS,CACPjhC,GAAI,oCACJga,eAAgB,kBAElBknB,YAAa,CACXlhC,GAAI,oCACJga,eAAgB,WAElBmnB,YAAa,CACXnhC,GAAI,oCACJga,eAAgB,aCjCPonB,GAAyB,qeCiChCC,4CACJ,SAAAA,EAAYn/B,GAAO,IAAAgH,EAAA,OAAApS,OAAAqS,EAAA,EAAArS,CAAAsS,KAAAi4B,IACjBn4B,EAAAG,EAAAC,KAAAF,KAAMlH,IACDwD,MAAQ,CAAEo6B,MAAM,GAFJ52B,kEAObxR,OAAO4pC,YACTl4B,KAAKlH,MAAMo1B,OAAOzQ,KAAK,sDAIN,IAAAnd,EAAAN,KAEnBA,KAAKlH,MAAMw2B,aAAaC,GAAwB5hC,KAAMqS,KAAKm4B,eAAe5gC,KAAKyI,OAG/EA,KAAKlH,MAAMw2B,aAAaC,GAAqB5hC,KAAMqS,KAAKo4B,qBAAqB7gC,KAAKyI,OAGlFA,KAAKlH,MAAMw2B,aAAaC,GAAwB5hC,KAAM,kBAAM2S,EAAKxH,MAAM+Q,SCxDhE,CACHnX,KAAMsX,OD0DVhK,KAAKlH,MAAMw2B,aAAaC,GAAsB5hC,KAAM,WAClDoB,QAAQC,IAAI,UACZsR,EAAKxH,MAAM+Q,SAASiB,gBACpBxK,EAAKxH,MAAMo1B,OAAOzQ,KAAK,mBAIzBzd,KAAKlH,MAAMw2B,aAAaC,GAAiB5hC,KAAM,kBAAMw5B,OAGrDnnB,KAAKupB,YAAcxvB,KAAOyvB,UACxBzvB,KAAOC,OAAOW,gBACdqF,KAAKq4B,eAAe9gC,KAAKyI,sDAMvBA,KAAKupB,aAAaxvB,KAAO2vB,YAAY1pB,KAAKupB,uDAM9CxvB,KAAO01B,QAAQ11B,KAAOC,OAAOC,sBAAuB,CAClDuC,MAAO,CACL,CACE1O,MAAOyhC,GAAsB5hC,KAC7BI,MAAOmZ,GAASyD,aAAa/T,GAC7Bu/B,KAAM5G,GAAsB5hC,MAE9B,CACEG,MAAOyhC,GAAqB5hC,KAC5BI,MAAOmZ,GAASywB,YAAY/gC,GAC5Bu/B,KAAM5G,GAAqB5hC,MAE7B,CACEG,MAAOyhC,GAAoB5hC,KAC3BI,MAAOmZ,GAASsoB,WAAW54B,GAC3Bu/B,KAAM5G,GAAoB5hC,MAE5B,CACEG,MAAOyhC,GAAqB5hC,KAC5BI,MAAOmZ,GAAS+oB,YAAYr5B,GAC5Bu/B,KAAM5G,GAAqB5hC,MAE7B,CACEG,MAAOyhC,GAAwB5hC,KAC/BI,MAAOmZ,GAAS0wB,eAAehhC,GAC/Bu/B,KAAM5G,GAAwB5hC,MAEhC,CACEG,MAAOyhC,GAAiB5hC,KACxBI,MAAOmZ,GAAS2wB,QAAQjhC,GACxBu/B,KAAM5G,GAAiB5hC,OAG3Bg8B,MAAO5vB,KAAOC,OAAOW,2DAOvB,OAFAqF,KAAK0vB,kBAEEH,GAAwBxd,+CAGlB4X,EAAO2O,GAEpBC,IAAcC,QAAQF,kDAItBv+B,KAAO01B,QAAQ11B,KAAOC,OAAOS,aAAcwO,uCAGpC,IAAAjF,EAAAhE,KACP,OACE1G,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACi/B,EAAAl/B,EAAD,CACEm/B,cAAc,eACdC,aAAa,UACbC,KAAM,CACJ,CACEllC,KAAM,cACNmO,QAAS,8CAKd7B,KAAKlH,MAAM6J,UAAY4N,KACtBjX,EAAAC,EAAAC,cAACg9B,GAAD,CAASE,KAAM12B,KAAK1D,MAAMo6B,MACvBpoC,OAAO4pC,YAAc5+B,EAAAC,EAAAC,cAACq/B,GAAD,MACtBv/B,EAAAC,EAAAC,cAACm9B,GAAD,KACEr9B,EAAAC,EAAAC,cAACs/B,GAAD,MACC93B,IAAM+3B,SAASC,QAAQh5B,KAAKlH,MAAMiI,WAErCzH,EAAAC,EAAAC,cAACy/B,GAAD,MACA3/B,EAAAC,EAAAC,cAAC0/B,GAAD,MACA5/B,EAAAC,EAAAC,cAAC2/B,GAAD,OAGJ7/B,EAAAC,EAAAC,cAAC4/B,GAAD,CACExP,OAAQ,kBAAM5lB,EAAK7D,SAAS,CAAEu2B,MAAM,KACpCzM,QAAS,kBAAMjmB,EAAK7D,SAAS,CAAEu2B,MAAM,eAhI7B11B,IAAMC,WA6IlByI,GAAkBC,mCAAyB,CAAEhH,QE5KjDtG,yBAHwB,SAACC,GAAD,OAAWA,EAAM+8B,OAGX,SAAC98B,GAAD,OAAcA,EAASoG,YFkLxCiH,yBACbF,GALF,SAA4BG,GAC1B,MAAO,CAAEA,aAGID,CAGbimB,oBAAUhC,qBAAWoK,ucG7KhB,IAAMqB,GAAb,SAAAC,GAAA7rC,OAAA+U,EAAA,EAAA/U,CAAA4rC,EAAAC,GAAA,IAAAt5B,EAAAu5B,GAAAF,GAAA,SAAAA,IAAA,OAAA5rC,OAAAqS,EAAA,EAAArS,CAAAsS,KAAAs5B,GAAAr5B,EAAA9I,MAAA6I,KAAA7R,WAAA,OAAAT,OAAAmV,EAAA,EAAAnV,CAAA4rC,EAAA,EAAArrC,IAAA,SAAAH,MAAA,WAEI,OACEwL,EAAAC,EAAAC,cAACkxB,GAAA,EAAD,CAAcj9B,OAAQuS,KAAKlH,MAAMrL,OAAQQ,IAAK+R,KAAKlH,MAAMrL,OAAQyZ,SAAUlH,KAAKlH,MAAMoO,SAASlH,KAAKlH,MAAMrL,SACvGuT,IAAM+3B,SAASU,KAAKz5B,KAAKlH,MAAMiI,eAJxCu4B,EAAA,CAAsCt4B,IAAM04B,eAiBtChwB,GAAkBrN,yBACtB4yB,KACA,SAACxhC,GAAD,MAAa,CAAEA,YASFmc,yBAAQF,GANvB,SAA4BG,GAC1B,MAAO,CACLA,aAIWD,CAA6C0vB,IChB5D,IAAM5vB,GAAkBrN,yBvBftBA,yBAAeyzB,GAAa,SAACO,GAAD,OAAgBA,EAAW7wB,QuBeC,SAACA,GAAD,MAAY,CACpEA,WAGaoK,qBAAQF,GAARE,CAjBR,SAAuB9Q,GAC5B,OACEQ,EAAAC,EAAAC,cAACmgC,GAAA,EAAD,CAAqBn6B,MAAO1G,EAAM0G,OAC/BwB,IAAM+3B,SAASU,KAAK3gC,EAAMiI,0CCC3B64B,GAAe,GAENC,GAAA,WAAwC,IAA9Bv9B,EAA8BnO,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAtByrC,GAAcrS,EAAQp5B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACrD,OAAQk5B,EAAO70B,MACb,KAAKonC,KAEH,OADA/qC,QAAQC,IAAI,UAAWu4B,GAChB75B,OAAA4oB,EAAA,EAAA5oB,CAAA,GAAK4O,EAAZ5O,OAAA4qB,EAAA,EAAA5qB,CAAA,GAAoB65B,EAAOt5B,IAAMs5B,EAAOz5B,QAC1C,KAAKisC,KAEH,OADAhrC,QAAQC,IAAI,QAASu4B,EAAOpV,SACrB7V,EACT,QACE,OAAOA,ICpBP09B,GAAoB,CACxBC,0BAA2B,KAC3Bt3B,QAAS2N,KA6BI4pB,OAvBf,WAAyD,IAAnC59B,EAAmCnO,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA3B6rC,GAAmBzS,EAAQp5B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACvD,OAAQk5B,EAAO70B,MAEb,KAAKynC,kBACH,OAAOzsC,OAAA4oB,EAAA,EAAA5oB,CAAA,GACF4O,EADL,CAEE29B,0BAA2B1S,EAAOC,UAEtC,KAAKjX,IACH,OAAO7iB,OAAA4oB,EAAA,EAAA5oB,CAAA,GACF4O,EADL,CAEEqG,QAAS4N,MAEb,KAAKC,IACH,OAAO9iB,OAAA4oB,EAAA,EAAA5oB,CAAA,GACF4O,EADL,CAEEqG,QAAS6N,MAEb,QACE,OAAOlU,aCdPs9B,GAAe,CAAEn9B,MAAO,EAAGD,MAAO,IA0BzB49B,OAXf,WAAkD,IAA9B99B,EAA8BnO,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAtByrC,GAAcrS,EAAQp5B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAChD,OAAQk5B,EAAO70B,MACb,KAAKf,KACH,OAhBN,SAA0B2K,EAAOirB,GAE/B,OADmBjrB,EAAME,MAAMkQ,KAAK,SAAA9K,GAAA,OAAAA,EAAGhL,KAAgB2wB,EAAO3wB,KAErD0F,EAEF5O,OAAA4oB,EAAA,EAAA5oB,CAAA,GAAK4O,EAAZ,CAAmBE,MAAOF,EAAME,MAAMhN,OAAO,CAAC+3B,IAAU9qB,MAAOH,EAAMG,MAAQ,IAWlE49B,CAAiB/9B,EAAOirB,EAAO7rB,MACxC,KAAKgG,KACH,OAVN,SAAuBpF,EAAOirB,GAAQ,IAAA+S,EACX/S,EAAOlpB,QAAxB7B,EAD4B89B,EAC5B99B,MAAOC,EADqB69B,EACrB79B,MACf,OAAO/O,OAAA4oB,EAAA,EAAA5oB,CAAA,GAAK4O,EAAZ,CAAmBE,QAAOC,UAQfmuB,CAActuB,EAAOirB,GAC9B,QACE,OAAOjrB,cCtCAi+B,GACX,0EC0CIX,GAAe,CAEnBrrB,WAAW,EACX1Y,QAAQ,EACRoB,WAAW,EACX2kB,mBAAmB,EACnBpN,QAAS,KACTC,cAAUpgB,EACVqgB,cAAUrgB,EACV+H,SAAU,GACVf,WAAY,IAoEd,SAASmlC,GAAkBl+B,GACzB,GAAIA,EAAME,MAAMpO,QAAU,EACxB,OAAOV,OAAA4oB,EAAA,EAAA5oB,CAAA,GACF4O,EADL,CAEE+a,YAAa,OACbojB,YAAa,OACbC,aAAc,OACdpkC,OAAQ,OAGZ,IAAMqkC,EAAgBr+B,EAAME,MACzBy3B,OAAO,SAACtwB,GAAD,OAAUA,EAAKi3B,QACtBhtC,IAAI,SAAC+V,GAAD,OAAUA,EAAK/E,OAAS+E,EAAK5N,OAAS4N,EAAKk3B,UAAY,KAC3D1tB,OAAO,SAAC5T,EAAGsoB,GAAJ,OAAUtoB,EAAIsoB,GAAG,GACrBiZ,EAAmBx+B,EAAME,MAC5By3B,OAAO,SAACtwB,GAAD,OAAUA,EAAKo3B,WACtBntC,IAAI,SAAC+V,GAAD,OAAUA,EAAKq3B,cAAgBr3B,EAAK5N,OAAS4N,EAAKk3B,UAAY,KAClE1tB,OAAO,SAAC5T,EAAGsoB,GAAJ,OAAUtoB,EAAIsoB,GAAG,GAC3B9yB,QAAQC,IAAIsN,EAAOq+B,EAAeG,GAClC,IAAMG,EAAoBN,EAAgBG,EACpCI,EAAuB5+B,EAAMu+B,SAC/BI,EAAoBA,EAAoB3+B,EAAMu+B,SAC9CI,EAIE5jB,GAHoB/a,EAAM6+B,IAC5BD,EAAuBA,EAAuB5+B,EAAM6+B,IACpDD,GACkCluC,QAAQ,GACxCytC,EA3CR,SAA2Bn+B,EAAO+a,GAChC,OAAI/a,EAAMA,QAAU4T,KAAqBmH,EAAc,EAC9C,OAEF/a,EAAMhG,SAAWG,IAAsB4gB,EAAc+jB,WAAW9+B,EAAMm+B,aAuCzDY,CAAkB/+B,EAAO+a,GACvCqjB,EArCR,SAA4Bp+B,EAAOm+B,EAAapjB,GAE9C,IAAMqjB,GAAgBD,EAAcpjB,GAAarqB,QAAQ,GACzD,OAAIsP,EAAMA,QAAU4T,KAAqBmH,EAAc,EAC9CqjB,EAEFD,EAAc,EAAIC,EAAe,OA+BnBY,CAAmBh/B,EAAOm+B,EAAapjB,GAG5D,OAFAtoB,QAAQC,IAAIqoB,EAAaojB,EAAaC,GAE/BhtC,OAAA4oB,EAAA,EAAA5oB,CAAA,GAAK4O,EAAZ,CAAmB+a,cAAaojB,cAAaC,iBA8E/C,SAASa,GAAsBj/B,EAAOirB,GACpC,IAAMiU,EAAyBl/B,EAAMjH,WAAWomC,UAC9C,SAAA90B,GAAA,OAAAA,EAAG/Q,MAAkB4F,YAAc+rB,EAAOmU,qBAC5C,OAAgC,IAA5BF,EACKl/B,EAGF5O,OAAA4oB,EAAA,EAAA5oB,CAAA,GACF4O,EADL,CAEEjH,WAAU,GAAA7F,OAAA9B,OAAAgwB,EAAA,EAAAhwB,CACL4O,EAAMjH,WAAW5F,MAAM,EAAG+rC,IADrB9tC,OAAAgwB,EAAA,EAAAhwB,CAEL4O,EAAMjH,WAAW5F,MAAM+rC,EAAyB,OA6IzD,SAAS1wB,KACP,OAAOpd,OAAA4oB,EAAA,EAAA5oB,CAAA,GAAKksC,IA8FCQ,OAzDf,WAAkD,IAA9B99B,EAA8BnO,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAtByrC,GAAcrS,EAAQp5B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAChD,OAAQk5B,EAAO70B,MACb,KAAKzB,KACH,OA/ON,SAA0BqL,EAAOirB,GAAQ,IAC/Bh0B,EAAuBg0B,EAAvBh0B,QAASwtB,EAAcwG,EAAdxG,UACjB,IAAKxtB,EAAQooC,aAAoC,IAArB5a,EAAUniB,OACpC,OAAO28B,GAAsBj/B,EAAO,CAAEo/B,mBAAoB3a,EAAUvlB,YAKtE,GAH0Bc,EAAMjH,WAAWqX,KAAK,SAAA9K,GAAA,IAAGtM,EAAHsM,EAAGtM,UAAH,OAAAsM,EAAcpG,YAC9CulB,EAAUvlB,WAAalG,IAAc/B,EAAQqoC,gBAEtC,CACrB,IAAMvmC,EAAaiH,EAAMjH,WAAWzH,IAAI,SAAC0H,GAAD,OACtCA,EAAUkG,YAAculB,EAAUvlB,WAAalG,EAAUA,YAAc/B,EAAQqoC,cAA/EluC,OAAA4oB,EAAA,EAAA5oB,CAAA,GACO4H,EADP,CACkBsJ,OAAQrL,EAAQooC,YAAcrmC,EAAUsJ,OAAS,EAAImiB,EAAUniB,SAAWtJ,IAE9F,OAAO5H,OAAA4oB,EAAA,EAAA5oB,CAAA,GAAK4O,EAAZ,CAAmBjH,eAGrB,OAAO3H,OAAA4oB,EAAA,EAAA5oB,CAAA,GACF4O,EADL,CACYjH,WAAU,CAAA3H,OAAA4oB,EAAA,EAAA5oB,CAAA,GACfqzB,EADe,CAElBzrB,UAAW/B,EAAQqoC,cACnBh9B,OAAQrL,EAAQooC,YAAc,EAAI5a,EAAUniB,UAH1BpP,OAAA9B,OAAAgwB,EAAA,EAAAhwB,CAId4O,EAAMjH,eA0NHwmC,CAAiBv/B,EAAOirB,EAAO7rB,MACxC,KAAKvK,KACH,OAAOoqC,GAAsBj/B,EAAOirB,EAAO7rB,MAC7C,KAAKxK,KACH,OA1NN,SAA8BoL,EAAOirB,GAEnC,GAAsB,IAAlBA,EAAO3oB,OACT,OAAO28B,GAAsBj/B,EAAO,CAAEo/B,mBAAoBnU,EAAO/rB,YAOnE,GAJ0Bc,EAAMjH,WAAWqX,KAAK,SAAA1G,GAAA,IAAG1Q,EAAH0Q,EAAG1Q,UAAH,OAAA0Q,EAAcxK,YAC9C+rB,EAAO/rB,WAAalG,IAAciyB,EAAOjyB,YAGlC,CACrB,IAAMD,EAAaiH,EAAMjH,WAAWzH,IAAI,SAAC0H,GAAD,OACtCA,EAAUkG,YAAc+rB,EAAO/rB,WAAalG,EAAUA,YAAciyB,EAAOjyB,UAA3E5H,OAAA4oB,EAAA,EAAA5oB,CAAA,GACO4H,EADP,CACkBsJ,OAAQ2oB,EAAO3oB,SAAWtJ,IAE9C,OAAO5H,OAAA4oB,EAAA,EAAA5oB,CAAA,GAAK4O,EAAZ,CAAmBjH,eAGrB,OAAO3H,OAAA4oB,EAAA,EAAA5oB,CAAA,GAAK4O,EAAZ,CAAmBjH,WAAU,CAAGkyB,GAAH/3B,OAAA9B,OAAAgwB,EAAA,EAAAhwB,CAAc4O,EAAMjH,eAwMtCymC,CAAqBx/B,EAAOirB,EAAO7rB,MAC5C,KAAKtK,KACH,OAtLN,SAA+BkL,EAAOirB,GAEpC,IAAMlyB,EAAaiH,EAAMjH,WAAWzH,IAAI,SAAC0H,GAAD,OACtCA,EAAUkG,YAAc+rB,EAAO/rB,UAA/B9N,OAAA4oB,EAAA,EAAA5oB,CAAA,GACO4H,EAAciyB,GAAWjyB,IAGlC,OAAO5H,OAAA4oB,EAAA,EAAA5oB,CAAA,GAAK4O,EAAZ,CAAmBjH,eA+KR0mC,CAAsBz/B,EAAOirB,EAAO7rB,MAC7C,KAAKrK,KACH,OA7KN,SAA6BiL,EAAOirB,GAIlC,GAFgBjrB,EAAMlG,SAASsW,KAAK,SAAAW,GAAA,OAAAA,EAAG/W,SAAwBixB,EAAOjxB,SAEzD,CACX,IAAMF,EAAWkG,EAAMlG,SAASxI,IAC9B,SAAAyI,GAAO,OAAIA,EAAQC,SAAWixB,EAAOjxB,OAA1B5I,OAAA4oB,EAAA,EAAA5oB,CAAA,GAAyC2I,EAAYkxB,GAAYlxB,IAC9E,OAAO3I,OAAA4oB,EAAA,EAAA5oB,CAAA,GAAK4O,EAAZ,CAAmBlG,aAGrB,OAAO1I,OAAA4oB,EAAA,EAAA5oB,CAAA,GACF4O,EADL,CAEElG,SAAQ,GAAA5G,OAAA9B,OAAAgwB,EAAA,EAAAhwB,CAAM4O,EAAMlG,UAAZ,CAAA1I,OAAA4oB,EAAA,EAAA5oB,CAAA,CAAwB0vB,QAAS,KAAMxe,OAAQ,MAAS2oB,OAiKvDpd,CAAoB7N,EAAOirB,EAAO7rB,MAC3C,KAAKlK,KACH,OA/JN,SAAiC8K,EAAOirB,GAItC,GAFgBjrB,EAAMlG,SAASsW,KAAK,SAAAsvB,GAAA,OAAAA,EAAG1lC,SAAwBI,MAElD,CACX,IAAMN,EAAWkG,EAAMlG,SAASxI,IAC9B,SAAAyI,GAAO,OAAIA,EAAQC,SAAWI,IAAnBhJ,OAAA4oB,EAAA,EAAA5oB,CAAA,GAAkD2I,EAAlD,CAA2DuI,OAAQ2oB,IAAYlxB,IAC5F,OAAO3I,OAAA4oB,EAAA,EAAA5oB,CAAA,GAAK4O,EAAZ,CAAmBlG,aAGrB,OAAOkG,EAqJI8N,CAAwB9N,EAAOirB,EAAO7rB,MAC/C,KAAKjK,KACH,OApJN,SAAoC6K,GAIlC,GAFgBA,EAAMlG,SAASsW,KAAK,SAAAuB,GAAA,OAAAA,EAAG3X,SAAwBI,MAElD,CACX,IAAMN,EAAWkG,EAAMlG,SAASxI,IAC9B,SAAAyI,GAAO,OAAIA,EAAQC,SAAWI,IAAnBhJ,OAAA4oB,EAAA,EAAA5oB,CAAA,GAAkD2I,EAAlD,CAA2DuI,OAAQ,OAAUvI,IAC1F,OAAO3I,OAAA4oB,EAAA,EAAA5oB,CAAA,GAAK4O,EAAZ,CAAmBlG,aAGrB,OAAOkG,EA0IIoO,CAA2BpO,EAAOirB,EAAO7rB,MAClD,KAAK/J,KACH,OAAOmZ,GAAoByc,EAAO7rB,MACpC,KAAK7J,KACH,OA3IN,SAAoByK,EAAOirB,GAEzB,OADAx4B,QAAQC,IAAI,iBAAkBu4B,GACvBA,EAyII1c,CAAWvO,EAAOirB,EAAO7rB,MAClC,KAAK5J,KACL,KAAKC,KACH,OAxIN,SAAyBuK,EAAOirB,GAAQ,IAC9B3xB,EAAwB2xB,EAAxB3xB,MAAUN,EADoB5H,OAAA2L,GAAA,EAAA3L,CACN65B,EADM,WAGtC,GAAyB,IAArBjyB,EAAUsJ,OACZ,OAAO28B,GAAsBj/B,EAAO,CAAEo/B,mBAAoB9lC,EAAM4F,YAMlE,GAH0Bc,EAAMjH,WAAWqX,KAAK,SAAAuvB,GAAY,OAC1DA,EAAarmC,MAAM4F,YAAc5F,EAAM4F,YAElB,CACrB,IAAMnG,EAAaiH,EAAMjH,WAAWzH,IAAI,SAACquC,GAAD,OACtCA,EAAarmC,MAAM4F,YAAc5F,EAAM4F,UAAvC9N,OAAA4oB,EAAA,EAAA5oB,CAAA,GACOuuC,EADP,CACqBr9B,OAAQq9B,EAAar9B,OAAS,GAAMtJ,GAAc2mC,IAEzE,OAAOvuC,OAAA4oB,EAAA,EAAA5oB,CAAA,GAAK4O,EAAZ,CAAmBjH,eAKrB,OAFAtG,QAAQC,IAAI4G,EAAON,GAEZ5H,OAAA4oB,EAAA,EAAA5oB,CAAA,GACF4O,EADL,CACYjH,WAAU,CAAA3H,OAAA4oB,EAAA,EAAA5oB,CAAA,CAClBkI,QAAOgJ,OAAQ,GAAMtJ,IADH9F,OAAA9B,OAAAgwB,EAAA,EAAAhwB,CAEd4O,EAAMjH,eAiHH6mC,CAAgB5/B,EAAOirB,EAAO7rB,MAIvC,KAAKyF,KACH,OAAOq5B,GAAkBl+B,GAC3B,KAAKxE,KACH,OAtSN,SAA0BwE,EAAOirB,GAC/B,OAAO75B,OAAA4oB,EAAA,EAAA5oB,CAAA,GACF4O,EADL,CAEEE,MAAOF,EAAME,MAAM5O,IAAI,SAAC+V,GAAD,OACrBA,EAAKnI,YAAc+rB,EAAO5jB,KAAKnI,UAA/B9N,OAAA4oB,EAAA,EAAA5oB,CAAA,GAAgDiW,EAAS4jB,EAAO7rB,MAASiI,MAkSlEw4B,CAAiB7/B,EAAOirB,GACjC,KAAKlvB,KACH,OA/RN,SAAyBiE,EAAOirB,GAC9B,OAAO75B,OAAA4oB,EAAA,EAAA5oB,CAAA,GAAK4O,EAAZ,CAAmB6+B,IAAK5T,EAAO4T,IAAM,MA8R1BiB,CAAgB9/B,EAAOirB,GAChC,KAAKjvB,KACH,OA7RN,SAA8BgE,EAAOirB,GACnC,OAAO75B,OAAA4oB,EAAA,EAAA5oB,CAAA,GAAK4O,EAAZ,CAAmBu+B,SAAUtT,EAAOsT,SAAW,MA4RpCwB,CAAqB//B,EAAOirB,GACrC,KAAKtvB,KACH,OA/FN,SAAkCqE,GAChC,IAAME,EAAQF,EAAME,MAAM5O,IAAI,SAAC+V,GAAD,OAC3BA,EAAKo3B,UAAap3B,EAAKi3B,MAAkEj3B,EAA1FjW,OAAA4oB,EAAA,EAAA5oB,CAAA,GAAqCiW,EAArC,CAA2Cq3B,cAAer3B,EAAK/E,OAAQm8B,UAAU,MAEnF,OAAOrtC,OAAA4oB,EAAA,EAAA5oB,CAAA,GACF4O,EADL,CAEEE,UAyFS8/B,CAAyBhgC,GAClC,KAAKtE,KACH,OAjHN,SAA+BsE,EAAOirB,GACpC,IAAM/qB,EAAQF,EAAME,MAAM5O,IAAI,SAAC+V,GAAD,OAC5BA,EAAKnI,YAAc+rB,EAAO5jB,KAAKnI,UAA/B9N,OAAA4oB,EAAA,EAAA5oB,CAAA,GAEOiW,EAFP,CAGIq3B,cAAezT,EAAOz5B,MACtBitC,UAAU,IAEVp3B,IAEN,OAAOjW,OAAA4oB,EAAA,EAAA5oB,CAAA,GACF4O,EADL,CAEEE,UAqGS+/B,CAAsBjgC,EAAOirB,GACtC,KAAKxvB,KACH,OAzFN,SAAmCuE,EAAOirB,GACxC,IAAM/qB,EAAQF,EAAME,MAAM5O,IAAI,SAAC+V,GAAD,OAC5BA,EAAKnI,YAAc+rB,EAAO5jB,KAAKnI,UAC3B8gB,gBAAK5uB,OAAA4oB,EAAA,EAAA5oB,CAAA,GAAKiW,EAAN,CAAY/E,OAAQ+E,EAAKq3B,gBAAiB,CAAC,gBAAiB,aAChE1e,gBAAK3Y,EAAM,WAEjB,OAAOjW,OAAA4oB,EAAA,EAAA5oB,CAAA,GACF4O,EADL,CAEEE,UAiFSggC,CAA0BlgC,EAAOirB,GAC1C,KAAKl1B,KACH,OAAOyY,KAGT,KAAKyvB,GACH,OAlEN,SAAgCj+B,EAAOirB,GACrC,OAAIjrB,EAAMA,QAAU4T,IACXxiB,OAAA4oB,EAAA,EAAA5oB,CAAA,GAAK4O,EAAZ,CAAmBhG,OAAQixB,EAAOjxB,SAGhCgG,EAAM+a,aAAe,EAChB3pB,OAAA4oB,EAAA,EAAA5oB,CAAA,GAAK4O,EAAZ,CAAmBhG,OAAQixB,EAAOjxB,OAAQmkC,YAAa,OAAQC,aAAc,SAG3EnT,EAAOjxB,SAAWG,IACb/I,OAAA4oB,EAAA,EAAA5oB,CAAA,GACF4O,EADL,CAEEhG,OAAQixB,EAAOjxB,OACfmkC,YAAan+B,EAAM+a,YACnBqjB,aAAc,SAIXhtC,OAAA4oB,EAAA,EAAA5oB,CAAA,GAAK4O,EAAZ,CAAmBhG,OAAQixB,EAAOjxB,SAgDvBmmC,CAAuBngC,EAAOirB,GACvC,KAAK7vB,KACH,OArXN,SAA8B4E,EAAOirB,GACnC,IAAKA,EAAO3oB,OACV,OAAOlR,OAAA4oB,EAAA,EAAA5oB,CAAA,GAAK4O,EAAZ,CAAmBm+B,YAAa,GAAIC,aAAc,SAEpD,IAAMrjB,EAAc+jB,WAAW9+B,EAAM+a,aAC/BqlB,EAAmB1vC,aAAQu6B,EAAO3oB,OAAQ,EAAGtC,EAAMm+B,aAEnDC,GADcU,WAAWsB,GACKrlB,GAAarqB,QAAQ,GACzD,OAAOU,OAAA4oB,EAAA,EAAA5oB,CAAA,GAAK4O,EAAZ,CAAmBm+B,YAAaiC,EAAkBhC,iBA6WvCiC,CAAqBrgC,EAAOirB,GACrC,KAAK5vB,KACH,OAnZN,SAAmC2E,EAAOirB,GACxC,IAAKA,EAAOqV,GACV,OAAOtgC,EAET,IAAM+a,EAAc+jB,WAAW9+B,EAAM+a,aAE/BwlB,GADczB,WAAW9+B,EAAMm+B,aACMlT,EAAOqV,IAAI5vC,QAAQ,GAC9D,GAAI6vC,GAAuB,OACzB,OAAOvgC,EAET,IAAMo+B,GAAgBU,WAAWyB,GAAuBxlB,GAAarqB,QAAQ,GAC7E,OAAOU,OAAA4oB,EAAA,EAAA5oB,CAAA,GAAK4O,EAAZ,CAAmBm+B,YAAaoC,EAAqBnC,iBAwY1CoC,CAA0BxgC,EAAOirB,GAC1C,KAAK3vB,KACH,OAvYN,SAAmC0E,EAAOirB,GACxC,IAAKA,EAAOqV,GACV,OAAOtgC,EAET,IAAM+a,EAAc+jB,WAAW9+B,EAAM+a,aAE/B0lB,GADc3B,WAAW9+B,EAAMm+B,aACMlT,EAAOqV,IAAI5vC,QAAQ,GAC9D,GAAI+vC,GAAuB,EACzB,OAAOzgC,EAET,IAAMo+B,GAAgBU,WAAW2B,GAAuB1lB,GAAarqB,QAAQ,GAC7E,OAAOU,OAAA4oB,EAAA,EAAA5oB,CAAA,GAAK4O,EAAZ,CAAmBm+B,YAAasC,EAAqBrC,iBA4X1CsC,CAA0B1gC,EAAOirB,GAC1C,QACE,OAAOjrB,aC3cPs9B,GAAe,CACnBp9B,MAAO,GACPC,MAAO,EACPpB,MAAO2T,IACP1T,KAAM,EACNqH,SAAS,GA6BIy3B,OAbf,WAAkD,IAA9B99B,EAA8BnO,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAtByrC,GAAcrS,EAAQp5B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAChD,OAAQk5B,EAAO70B,MACb,KAAK3C,KACH,OAAOrC,OAAA4oB,EAAA,EAAA5oB,CAAA,GAAK4O,EAAZ,CAAmBqG,SAAS,IAC9B,KAAK7S,KACH,OAlBN,SAAqBwM,EAAOirB,GAC1B,OAAO75B,OAAA4oB,EAAA,EAAA5oB,CAAA,GACF4O,EADL,CAEEE,MAAOF,EAAME,MAAM5O,IAAI,SAACmzB,GAAD,OACrBA,EAAUvlB,YAAc+rB,EAAO3xB,MAAM4F,UAAY+rB,EAAO3xB,MAAQmrB,MAczDlmB,CAAYyB,EAAOirB,GAC5B,KAAKr3B,KACH,OAXN,SAAsBoM,EAAOirB,GAC3B,OAAO75B,OAAA4oB,EAAA,EAAA5oB,CAAA,GAAK65B,EAAO3xB,MAAnB,CAA0B+M,SAAS,IAUxB7H,CAAawB,EAAOirB,GAC7B,QACE,OAAOjrB,wBCRPs9B,GAAe,CACnBhkC,MAAO,GACP3C,OAAQ,GACRsI,OAAQ,CACN3F,MAAO,GACP3C,OAAQ,GACRgqC,KAAM,IAERtgC,QAAS,CACP/G,MAAO,CAAE4F,UAAW,IACpB6C,QAAS,IAEXzB,MAAO,CAAE7B,aAAa,EAAO8B,cAAc,GAC3CqgC,WAAY,CAAE7+B,QAAS,CAAEjI,UAAU,EAAMqG,OAAO,EAAM0gC,KAAK,IAC3Dx6B,QAAS,CAAEtE,SAAS,GACpB++B,OAAQ,CACNjgB,QAAS,OAiHEid,OA7Gf,WAAkD,IAA9B99B,EAA8BnO,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAtByrC,GAAcrS,EAAQp5B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAChD,OAAQk5B,EAAO70B,MAGb,KAAKpB,KACH,OAAO5D,OAAA4oB,EAAA,EAAA5oB,CAAA,GACF4O,EADL,CAEE8gC,OAAO1vC,OAAA4oB,EAAA,EAAA5oB,CAAA,GACF4O,EAAM8gC,OADL,CAEJjgB,QAAS,SAGf,KAAK5rB,KACH,OAAO7D,OAAA4oB,EAAA,EAAA5oB,CAAA,GACF4O,EADL,CAEE8gC,OAAO1vC,OAAA4oB,EAAA,EAAA5oB,CAAA,GACF4O,EAAM8gC,OADL,CAEJjgB,QAASoK,EAAO7rB,SAGtB,KAAK3J,KACL,KAAKD,KACH,OAAOpE,OAAA4oB,EAAA,EAAA5oB,CAAA,GACF4O,EADL,CAEErJ,OAAQqnB,iBAAM,GAAIhe,EAAMrJ,OAAXvF,OAAA4qB,EAAA,EAAA5qB,CAAA,GACV65B,EAAO7rB,KAAK9F,MAAM4F,UAAY,CAAEoD,OAAQ,KAAMuN,cAAe,UAIpE,KAAKrU,KACH,OAAOpK,OAAA4oB,EAAA,EAAA5oB,CAAA,GACF4O,EADL,CAEErJ,OAAQqnB,iBAAM,GAAIhe,EAAMrJ,OAAXvF,OAAA4qB,EAAA,EAAA5qB,CAAA,GACV65B,EAAO5jB,KAAKnI,UAAY,CAAEoD,OAAQ,KAAMuN,cAAe,UAG9D,KAAKtU,KACH,OAAOnK,OAAA4oB,EAAA,EAAA5oB,CAAA,GACF4O,EADL,CAEErJ,OAAQqnB,iBAAM,GAAIhe,EAAMrJ,OAAXvF,OAAA4qB,EAAA,EAAA5qB,CAAA,GAAsB65B,EAAO/rB,UAAY+rB,EAAO7rB,SAEjE,KAAK5K,KACH,OAAOpD,OAAA4oB,EAAA,EAAA5oB,CAAA,GACF4O,EADL,CAEE1G,MAAO0kB,iBAAM,GAAIhe,EAAM1G,MAAXlI,OAAA4qB,EAAA,EAAA5qB,CAAA,GAAqB65B,EAAO/rB,UAAY+rB,EAAO7rB,SAG/D,KAAK5L,KACH,OAAOpC,OAAA4oB,EAAA,EAAA5oB,CAAA,GACF4O,EADL,CAEE1G,MAAO0mB,gBAAKhgB,EAAM1G,MAAO2xB,EAAO3xB,MAAM4F,aAE1C,KAAK9K,KACH,OAAOhD,OAAA4oB,EAAA,EAAA5oB,CAAA,GAAK4O,EAAZ,CAAmBf,OAAO7N,OAAA4oB,EAAA,EAAA5oB,CAAA,GAAM4O,EAAMf,OAAb,CAAqB3F,MAAO2xB,EAAOhsB,QAAU,OACxE,KAAK1K,KACH,OAAOnD,OAAA4oB,EAAA,EAAA5oB,CAAA,GACF4O,EADL,CAEEK,QAAQjP,OAAA4oB,EAAA,EAAA5oB,CAAA,GACH4O,EAAMK,QADJ,CAEL/G,MAAMlI,OAAA4oB,EAAA,EAAA5oB,CAAA,GAAM4O,EAAMK,QAAQ/G,MAArBlI,OAAA4qB,EAAA,EAAA5qB,CAAA,GAA6B65B,EAAOl0B,MAAQk0B,EAAO/qB,OAAS,SAGvE,KAAKtK,KACH,OAAOxE,OAAA4oB,EAAA,EAAA5oB,CAAA,GACF4O,EADL,CAEEK,QAAQjP,OAAA4oB,EAAA,EAAA5oB,CAAA,GACH4O,EAAMK,QADJ,CAEL0B,QAASkpB,EAAO7rB,MAAQ,OAG9B,KAAK3K,KACH,OAAOrD,OAAA4oB,EAAA,EAAA5oB,CAAA,GAAK4O,EAAZ,CAAmBM,MAAMlP,OAAA4oB,EAAA,EAAA5oB,CAAA,GAAM4O,EAAMM,MAAblP,OAAA4qB,EAAA,EAAA5qB,CAAA,GAAqB65B,EAAOzyB,OAASyyB,EAAOz5B,UACtE,KAAKiP,KACH,OAAOrP,OAAA4oB,EAAA,EAAA5oB,CAAA,GACF4O,EADL,CAEE4gC,WAAWxvC,OAAA4oB,EAAA,EAAA5oB,CAAA,GACN4O,EAAM4gC,WADD,CAER7+B,QAAQ3Q,OAAA4oB,EAAA,EAAA5oB,CAAA,GAAM4O,EAAM4gC,WAAW7+B,QAAxB,CAAiC8+B,KAAM7gC,EAAM4gC,WAAW7+B,QAAQ8+B,UAG7E,KAAK9qC,KACH,OAAO3E,OAAA4oB,EAAA,EAAA5oB,CAAA,GACF4O,EADL,CAEE4gC,WAAWxvC,OAAA4oB,EAAA,EAAA5oB,CAAA,GACN4O,EAAM4gC,WADD,CAER7+B,QAAQ3Q,OAAA4oB,EAAA,EAAA5oB,CAAA,GAAM4O,EAAM4gC,WAAW7+B,QAAxB,CAAiC8+B,KAAK,QAGnD,KAAKrgC,KACH,OAAOpP,OAAA4oB,EAAA,EAAA5oB,CAAA,GACF4O,EADL,CAEE4gC,WAAWxvC,OAAA4oB,EAAA,EAAA5oB,CAAA,GACN4O,EAAM4gC,WADD,CAER7+B,QAAQ3Q,OAAA4oB,EAAA,EAAA5oB,CAAA,GAAM4O,EAAM4gC,WAAW7+B,QAAxB,CAAiC5B,OAAQH,EAAM4gC,WAAW7+B,QAAQ5B,YAG/E,KAAKuF,KACH,OAAOtU,OAAA4oB,EAAA,EAAA5oB,CAAA,GACF4O,EADL,CAEE4gC,WAAWxvC,OAAA4oB,EAAA,EAAA5oB,CAAA,GACN4O,EAAM4gC,WADD,CAER7+B,QAAQ3Q,OAAA4oB,EAAA,EAAA5oB,CAAA,GAAM4O,EAAM4gC,WAAW7+B,QAAxB,CAAiCjI,UAAWkG,EAAM4gC,WAAW7+B,QAAQjI,eAGlF,QACE,OAAOkG,cCtJPs9B,GAAe,CAAEta,WAAY,GAAIC,aAAc,GAAIC,WAAY,GAAIC,WAAY,IAuBtE4d,OAVf,WAAqD,IAA9B/gC,EAA8BnO,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAtByrC,GAAcrS,EAAQp5B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACnD,OAAQk5B,EAAO70B,MAEb,KAAKH,KACH,OAfN,SAA4B+J,EAAOirB,GAGjC,OADEx4B,QAAQC,IAAIu4B,GACTA,EAAO+V,MAEL5vC,OAAA4oB,EAAA,EAAA5oB,CAAA,GACF4O,EADL5O,OAAA4qB,EAAA,EAAA5qB,CAAA,GAEG65B,EAAO+V,MAAQ/V,EAAO7rB,OAJChO,OAAA4oB,EAAA,EAAA5oB,CAAA,GAAI4O,EAAUirB,EAAO7rB,MAYpC6hC,CAAmBjhC,EAAOirB,GACnC,QACE,OAAOjrB,IC9BAkhC,GAAgB,mCCSvB5D,GAAe,CACnBnsC,OAAQkhB,MAiBK8uB,OAdf,WAA+D,IAA9BnhC,EAA8BnO,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAtByrC,GAAcrS,EAAQp5B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC7D,OAAQk5B,EAAO70B,MACb,KAAK8qC,GACH,IAAM/vC,EAAS85B,EAAO95B,OACtB,OAAIA,GAAU2gC,GAAmB3gC,GACxB,CAAEA,UAEJ6O,EAET,QACE,OAAOA,ICjBLkD,GAAUknB,GAAep4B,OAAO8iB,SAAS7V,QAAzCiE,MAEFo6B,GAAe,CAEnBp6B,MAAOA,IAAS8oB,EAAO9oB,IAAS8oB,EAAO9oB,IAAS8oB,EAAM,QACtD50B,KAAM8L,ItDVqB,WsD6Bdk+B,OAhBf,WAA4D,IAA9BphC,EAA8BnO,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAtByrC,GAAcrS,EAAQp5B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC1D,OAAQk5B,EAAO70B,MACb,KAAK+zB,GAEH,OAAI6B,EAAOf,EAAO/nB,OACT,CACLA,MAAO8oB,EAAOf,EAAO/nB,OACrB9L,KAAM6zB,EAAO/nB,OAGVlD,EACT,QACE,OAAOA,ICJE,SAASqhC,GAAcC,GACpC,OAAOvW,GAAqBwW,2BAAgBnwC,OAAA4oB,EAAA,EAAA5oB,CAAA,CAC1CsF,SAAU8qC,GACVz/B,QAAS0/B,GACT9qC,OAAQ+qC,GACRpoC,MAAOqoC,GACPz+B,MAAOk+B,GACPrE,MAAOa,GACP3R,SAAUkV,GACV/gC,IAAKwhC,GACLtb,OAAQya,IAELO,iCC7BGprC,IAAV,SAAUA,GAAc+0B,GAAxB,IAAAt5B,EAAAH,EAAA,OAAAsmB,EAAA7a,EAAAgb,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAAAF,EAAAC,KAAA,EAEYxmB,EAAes5B,EAAft5B,IAAKH,EAAUy5B,EAAVz5B,MAFjB0mB,EAAAM,GAGY7mB,EAHZumB,EAAAE,KAAAF,EAAAM,KAIW8a,IAJX,EAAApb,EAAAM,KAQW8a,IARX,GAAApb,EAAAM,KAYW8a,IAZX,GAAApb,EAAAM,KAaW8a,IAbX,GAAApb,EAAAM,KAcW8a,IAdX,GAAApb,EAAAM,KAeW8a,IAfX,GAAApb,EAAAM,KAgBW8a,IAhBX,GAAApb,EAAAM,KAiBW8a,IAjBX,GAAApb,EAAAM,KAkBW8a,IAlBX,GAAApb,EAAAM,KAmBW8a,IAnBX,GAAApb,EAAAM,KAoBW8a,IApBX,GAAApb,EAAAM,KAqBW8a,IArBX,GAAApb,EAAAM,KAsBW8a,IAtBX,GAAApb,EAAAM,KAuBW8a,IAvBX,mBAKQ,OALRpb,EAAAE,KAAA,EAKcxU,aAAK,SAACi+B,GAAD,OAAazf,KAAWtL,WAAW0C,OAAOqoB,IAAU,CAAElwC,MAAKH,UAL9E,OAMQ,OANR0mB,EAAAE,KAAA,EAMc0pB,aCRL,CACL1rC,KAAM+zB,GACNjnB,MDM0B1R,IAN9B,cAAA0mB,EAAAI,OAAA,oBASQ,OATRJ,EAAAE,KAAA,GAScxU,aAAK,SAACi+B,GAAD,OAAazf,KAAWtL,WAAW0C,OAAOqoB,IAAU,CAAElwC,MAAKH,UAT9E,QAUQ,OAVR0mB,EAAAE,KAAA,GAUc0pB,aEVL,CACL1rC,KAAM8qC,GACN/vC,OFQ2BK,IAV/B,eAAA0mB,EAAAI,OAAA,oBAwBQ,OAxBRJ,EAAAE,KAAA,GAwBcxU,aAAK,SAACi+B,GAAD,OAAazf,KAAWtL,WAAW0C,OAAOqoB,IAAU,CAAElwC,MAAKH,UAxB9E,eAAA0mB,EAAAI,OAAA,2BAAAJ,EAAAI,OAAA,kBA8BI,OA9BJJ,EAAAE,KAAA,GA8BU0pB,aAAI,CAAE1rC,KAAMonC,KAA+B7rC,MAAKH,UA9B1D,QAAA0mB,EAAAE,KAAA,iBAgCI,OAhCJF,EAAAC,KAAA,GAAAD,EAAA6B,GAAA7B,EAAA,SAAAA,EAAAE,KAAA,GAgCU0pB,aAAI,CAAE1rC,KAAMqnC,KAA6B5nB,QAASqC,EAAA6B,GAAElE,UAhC9D,yBAAAqC,EAAAO,SAAAspB,GAAA,eAoCeC,oBAAU3rC,KAAuBH,gBG3CtCmP,IAAV,SAAUA,GAAa4lB,GAAvB,IAAA1lB,EAAAC,EAAAy8B,EAAAC,EAAAC,EAAA,OAAArqB,EAAA7a,EAAAgb,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAAAF,EAAAC,KAAA,EAGY5S,EAA0C0lB,EAA1C1lB,QAASC,EAAiCylB,EAAjCzlB,SAHrBy8B,EAGsDhX,EAAvBzd,KACrB00B,EAAO,IAAIj6B,KAAK,CAAC1C,GAAU,CAAEnP,UAJvC,IAAA6rC,EAGsC,YAHtCA,KAKUE,EAAepJ,SAAS77B,cAAc,MAC/BklC,aAAa,OAAQpwC,OAAOqwC,IAAIC,gBAAgBJ,IAC7DC,EAAaC,aAAa,WAAY58B,GACtC28B,EAAat5B,QACbs5B,EAAap+B,SATjBmU,EAAAE,KAAA,iBAWI,OAXJF,EAAAC,KAAA,GAAAD,EAAAM,GAAAN,EAAA,SAAAA,EAAAE,KAAA,GAWU0pB,aAAI,CAAE1rC,KAAMmc,KAA4BsD,QAASqC,EAAAM,GAAE3C,UAX7D,yBAAAqC,EAAAO,SAAA8pB,GAAA,eAeeP,oBAAUv8B,KAAsBJ,gBCZrCi2B,IAAV,SAAUA,KAAV,IAAAhiC,EAAAyI,EAAA,OAAA+V,EAAA7a,EAAAgb,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAEkB,OAFlBF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEwBxU,aAAK,kBAAMgT,KAAQsG,SAF3C,OAGoB,OADV5jB,EAFV4e,EAAAK,KAAAL,EAAAE,KAAA,EAG0BxU,aAAK,kBAAM0c,KAAUpD,SAH/C,OAII,OADMnb,EAHVmW,EAAAK,KAAAL,EAAAE,KAAA,EAIU0pB,aAAI,CACR1rC,KAAMqP,KACNF,QAAS9M,KAAKwd,UAAU,CAAE3c,MAAOA,EAAMkpC,KAAMzgC,QAASA,EAAQygC,OAC9Dh9B,SAAQ,mBAAAtS,QAAqB,IAAI2E,MAAO2rB,qBAAqB3wB,QAAQ,MAAO,KAApE,WAPd,OAAAqlB,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAM,GAAAN,EAAA,kCAAAA,EAAAO,SAAAgqB,GAAA,eAaeT,oBAAUtG,GAAwBJ,gBCZvCoH,IAAV,SAAUA,GAAazX,GAAvB,OAAAnT,EAAA7a,EAAAgb,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAEI,OAFJF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEU0pB,aAAI1wC,OAAA4oB,EAAA,EAAA5oB,CAAA,GACL65B,EADI,CAEP70B,KAAM60B,EAAO6W,OAJnB,OAMI,OANJ5pB,EAAAE,KAAA,EAMU0pB,aAAI1wC,OAAA4oB,EAAA,EAAA5oB,CAAA,GACL65B,EADI,CAEP70B,KAAMyO,QARZ,OAAAqT,EAAAE,KAAA,gBAYI,OAZJF,EAAAC,KAAA,EAAAD,EAAAM,GAAAN,EAAA,SAAAA,EAAAE,KAAA,GAYU0pB,aAAI,CAAE1rC,KAAM0O,KAA4B+Q,QAASqC,EAAAM,GAAE3C,UAZ7D,yBAAAqC,EAAAO,SAAAkqB,GAAA,cAgBeX,oBAAUpmC,KAAsB8mC,mCCZrCE,IAAV,SAAUA,GAAY3X,GAAtB,IAAA4X,EAAAlsC,EAAAD,EAAAosC,EAAAC,EAAAC,EAAA,OAAAlrB,EAAA7a,EAAAgb,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAM2B,OAN3BF,EAAAC,KAAA,EAAA0qB,EAEiC5X,EAAO7rB,KAA5BzI,EAFZksC,EAEYlsC,OAAQD,EAFpBmsC,EAEoBnsC,SAEhBjE,QAAQC,IAAI,gBAAiBiE,GAJjCuhB,EAAAE,KAAA,EAMiCxU,aAAK,eAAAq/B,EAAA,OAAaA,EAAA3iB,MAAU4iB,OAAVroC,MAAAooC,EAAApxC,YAA2BkgB,aAAepb,IAAS,GANtG,OAyBa,OAnBHmsC,EANV5qB,EAAAK,KAQUwqB,EARV3xC,OAAA4oB,EAAA,EAAA5oB,CAAA,GAQ+BuF,EAAWmsC,GAEhCE,EAAgBjoC,aAAcrE,EAAUqsC,GAVlD7qB,EAAAM,GAwBUspB,KAxBV5pB,EAAAE,KAAA,GAyBmB+qB,aAAO,SAAC/X,GAAD,OAAWA,EAAM9xB,MAAMyF,QAzBjD,QA0BY,OA1BZmZ,EAAA6B,GAAA7B,EAAAK,KAAAL,EAAAE,KAAA,GA0BkB+qB,aAAO,SAAC/X,GAAD,OAAWA,EAAM9xB,MAAM0F,OA1BhD,QAwBI,OAxBJkZ,EAAAgC,GAAAhC,EAAAK,KAAAL,EAAAsT,GA2BY93B,KA3BZwkB,EAAAkL,GAAA,CAyBMrkB,MAzBNmZ,EAAA6B,GA0BM/a,KA1BNkZ,EAAAgC,GA2BM9jB,KA3BN8hB,EAAAsT,IAAAtT,EAAAE,KAAA,IAwBI,EAAAF,EAAAM,IAAAN,EAAAkL,IAxBJ,QA+BI,OA/BJlL,EAAAE,KAAA,GA+BU0pB,aAAI,CACRv8B,QAASy9B,EACT/rC,QAAS,CACPmsC,YAAa1sC,EAAS0sC,YACtBC,UAAW3sC,EAAS4sC,UACpBC,aAAc,OACd1Z,MAAO,CACLzzB,KAAM,SACN5E,MAAOuxC,EAAcjrC,YAEvB0rC,OAAQ,GAEVptC,KAAMN,OA3CZ,QA+CI,OA/CJoiB,EAAAE,KAAA,GA+CU0pB,aAAIxzB,aAAoBy0B,IA/ClC,QAAA7qB,EAAAE,KAAA,iBAmDI,OAnDJF,EAAAC,KAAA,GAAAD,EAAAuT,GAAAvT,EAAA,SAiDIzlB,QAAQ0I,MAAR+c,EAAAuT,IAjDJvT,EAAAE,KAAA,GAmDU0pB,aAAI,CAAE1rC,KAAM2O,KAA2B8Q,QAASqC,EAAAuT,GAAE5V,UAnD5D,yBAAAqC,EAAAO,SAAAgrB,GAAA,eAuDezB,oBAAU5sC,KAAsBwtC,gBC1DrCc,IAAV,SAAUA,GAAYzY,GAAtB,IAAA4X,EAAArxC,EAAAuF,EAAAJ,EAAA,OAAAmhB,EAAA7a,EAAAgb,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAGmB,OAHnBF,EAAAC,KAAA,EAAA0qB,EAE6B5X,EAAO7rB,KAAxB5N,EAFZqxC,EAEYrxC,MAAOuF,EAFnB8rC,EAEmB9rC,MAFnBmhB,EAAAE,KAAA,EAGyBxU,aACnB,SAACpS,EAAOuF,GAAR,OACEupB,KAAUqjB,KAAK,CAAEnyC,QAAOuF,WAC1BvF,EACAuF,GAPN,OASW,OANDJ,EAHVuhB,EAAAK,KAAAL,EAAAE,KAAA,EASiB0pB,aAAIrzB,aAAkB9X,IATvC,cAAAuhB,EAAAI,OAAA,SAAAJ,EAAAK,MAAA,QAWI,OAXJL,EAAAC,KAAA,GAAAD,EAAAM,GAAAN,EAAA,SAAAA,EAAAE,KAAA,GAWU0pB,aAAI,CAAE1rC,KAAMwO,KAA0BiR,QAASqC,EAAAM,GAAE3C,UAX3D,yBAAAqC,EAAAO,SAAAmrB,GAAA,eAee5B,oBAAU1sC,KAAoBouC,gBCdnCG,IAAV,SAAUA,GAAe5Y,GAAzB,IAAA4X,EAAA9rC,EAAAvF,EAAAsyC,EAAA5jB,EAAA,OAAApI,EAAA7a,EAAAgb,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAGqC,OAHrCF,EAAAC,KAAA,EAAA0qB,EAE6B5X,EAAO7rB,KAAxBrI,EAFZ8rC,EAEY9rC,MAAOvF,EAFnBqxC,EAEmBrxC,MAFnB0mB,EAAAE,KAAA,EAG2CxU,aAAK,kBAAa0c,KAAU3J,MAAM,gBAAiB5f,EAAOvF,IAAQuF,EAAOvF,GAHpH,OAII,OAJJsyC,EAAA5rB,EAAAK,KAGmB2H,EAHnB4jB,EAGY5jC,MAHZgY,EAAAE,KAAA,EAIU0pB,aAAIlzB,aAAwBsR,IAJtC,OAAAhI,EAAAE,KAAA,iBAMI,OANJF,EAAAC,KAAA,GAAAD,EAAAM,GAAAN,EAAA,SAAAA,EAAAE,KAAA,GAMU0pB,aAAInzB,aAAqBuJ,EAAAM,KANnC,yBAAAN,EAAAO,SAAAsrB,GAAA,eAUe/B,oBAAUtsC,KAA2BmuC,gBCT1CG,IAJV,SAASC,GAAMC,EAAMjtC,GAClBjF,OAAOmyC,YAAYC,KAAK,eAAgBF,EAAMjtC,GAGjD,SAAU+sC,GAAY/Y,GAAtB,IAAA1lB,EAAAtO,EAAA,OAAA6gB,EAAA7a,EAAAgb,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAWI,OAXJF,EAAAC,KAAA,EAEY5S,EAAqB0lB,EAArB1lB,QAAStO,EAAYg0B,EAAZh0B,QAEdjF,OAAO4pC,WACRqI,GAAM1+B,EAAStO,GAGfxE,QAAQC,IAAI,eAAgB6S,EAAStO,GAR3CihB,EAAAE,KAAA,EAWU0pB,aAAI1wC,OAAA4oB,EAAA,EAAA5oB,CAAA,GACL65B,EADI,CAEP70B,KAAM4O,QAbZ,OAAAkT,EAAAE,KAAA,gBAiBI,OAjBJF,EAAAC,KAAA,EAAAD,EAAAM,GAAAN,EAAA,SAAAA,EAAAE,KAAA,GAiBU0pB,aAAI,CAAE1rC,KAAM6O,KAA2B4Q,QAASqC,EAAAM,GAAE3C,UAjB5D,yBAAAqC,EAAAO,SAAA4rB,GAAA,cAqBerC,oBAAUlsC,KAAqBkuC,gBCvBpC1V,IAAV,SAAUA,GAAcrD,GAAxB,IAAAl0B,EAAAvF,EAAA8/B,EAAAvvB,EAAA,OAAA+V,EAAA7a,EAAAgb,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAIoB,OAJpBF,EAAAC,KAAA,EAEYphB,EAA2Bk0B,EAA3Bl0B,MAAOvF,EAAoBy5B,EAApBz5B,MAAO8/B,EAAarG,EAAbqG,SAF1BpZ,EAAAE,KAAA,EAI0BxU,aACpB,mBAAA5M,EAAAnF,UAAAC,OAAImF,EAAJ,IAAAC,MAAAF,GAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAAIF,EAAJE,GAAAtF,UAAAsF,GAAA,OACEJ,EACIupB,KAAUjI,IAAI,CACZxhB,MAAMzF,OAAA4qB,EAAA,EAAA5qB,CAAA,GACH6F,EAAQF,MADN3F,OAAA4qB,EAAA,EAAA5qB,CAAA,GAEA6F,EAAQq6B,SAAWr6B,EAAQzF,QAGhCopB,OAAO,IAET0F,KAAU3J,MAAM2J,KAAUtJ,QAAQmJ,aAAapM,IAA4B,KACjFhd,EACAvF,EACA8/B,GAlBN,OAqBW,OAjBDvvB,EAJVmW,EAAAK,KAoBI9lB,QAAQC,IAAIqP,GApBhBmW,EAAAE,KAAA,EAqBiB0pB,aAAI,CACf1rC,KAAMgP,KACNrD,YAvBN,cAAAmW,EAAAI,OAAA,SAAAJ,EAAAK,MAAA,QA0BI,OA1BJL,EAAAC,KAAA,GAAAD,EAAAM,GAAAN,EAAA,SAAAA,EAAAE,KAAA,GA0BU0pB,aAAI,CAAE1rC,KAAM+O,KAA6B0Q,QAASqC,EAAAM,GAAE3C,UA1B9D,yBAAAqC,EAAAO,SAAA6rB,GAAA,eA8BetC,oBAAU98B,KAAuBopB,gBC5BtCiW,IAAV,SAAUA,GAAetZ,GAAzB,IAAAld,EAAA+1B,EAAA5jC,EAAAvJ,EAAAsX,EAAA,OAAA6J,EAAA7a,EAAAgb,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAM6B,OAN7BF,EAAAC,KAAA,EAEkBpK,EAAckd,EAApB7rB,KAER3M,QAAQC,IAAI,aAAcqb,GAJ9BmK,EAAAE,KAAA,EAMmCxU,aAC7B,SAACmK,GAAD,OAAeuS,KAAU3J,MAAM,uBAAwB5I,IACvDA,GARN,UAAA+1B,EAAA5rB,EAAAK,KAMYrY,EANZ4jC,EAMY5jC,MAKM,IAXlB4jC,EAMmB3jC,MANnB,CAAA+X,EAAAE,KAAA,SAYa,OAZbF,EAAAE,KAAA,GAYmB0pB,aAAI5zB,aAA6B,oBAZpD,eAAAgK,EAAAI,OAAA,SAAAJ,EAAAK,MAAA,YAeU5hB,EAASuJ,EAAM,KAELvJ,EAAOgE,UAjB3B,CAAAud,EAAAE,KAAA,SAkBa,OAlBbF,EAAAE,KAAA,GAkBmB0pB,aAAI5zB,aAA6B,oBAlBpD,eAAAgK,EAAAI,OAAA,SAAAJ,EAAAK,MAAA,YAqBQ5hB,EAAO2oB,kBArBf,CAAApH,EAAAE,KAAA,SAsBa,OAtBbF,EAAAE,KAAA,GAsBmB0pB,aAAI5zB,aAA6B,oBAtBpD,eAAAgK,EAAAI,OAAA,SAAAJ,EAAAK,MAAA,cAyBUtK,EAAgBxT,aAAqB,CAAE9D,aAExB,GA3BzB,CAAAuhB,EAAAE,KAAA,SA4Ba,OA5BbF,EAAAE,KAAA,GA4BmB0pB,aAAI5zB,aAA6B,oBA5BpD,eAAAgK,EAAAI,OAAA,SAAAJ,EAAAK,MAAA,QA+BI,OADA9lB,QAAQC,IAAI,iBAAkBub,GA9BlCiK,EAAAE,KAAA,GA+BU0pB,aAAI9zB,aAA+BC,IA/B7C,QAAAiK,EAAAE,KAAA,iBAkCI,OAlCJF,EAAAC,KAAA,GAAAD,EAAAM,GAAAN,EAAA,SAiCIzlB,QAAQC,IAAI,gBAAZwlB,EAAAM,IAjCJN,EAAAE,KAAA,GAkCU0pB,aAAI5zB,aAA6BgK,EAAAM,GAAM3C,UAlCjD,yBAAAqC,EAAAO,SAAA+rB,GAAA,eAsCexC,oBAAUhtC,KAAmCuvC,qCCxClDE,IAAV,SAAUA,GAAexZ,GAAzB,IAAAv0B,EAAAotC,EAAA5jC,EAAAwkC,EAAA1B,EAAA,OAAAlrB,EAAA7a,EAAAgb,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAIsB,OAJtBF,EAAAC,KAAA,EAEUzhB,EAAWu0B,EAAO7rB,KAF5B8Y,EAAAE,KAAA,EAI4BxU,aAAK,kBAAM0c,KAAU3J,MAAM,2BAJvD,UAAAmtB,EAAA5rB,EAAAK,MAIYrY,EAJZ4jC,EAIY5jC,QAEOA,EAAMpO,OANzB,CAAAomB,EAAAE,KAAA,eAAAF,EAAAI,OAAA,iBAkBI,OARMosB,EAAgB,CACpBrqC,sBAAsB,EACtBP,SAAU,GACVf,WAAY4rC,KAAQzkC,IAGhB8iC,EAAgBjoC,aAAcrE,EAAUguC,GAhBlDxsB,EAAAE,KAAA,GAkBU0pB,aAAI,CACRv8B,QAASy9B,EACTI,YAAa1sC,EAAS0sC,YACtBE,UAAW5sC,EAAS4sC,UACpBltC,KAAMN,OAtBZ,QAAAoiB,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAM,GAAAN,EAAA,SA0BIzlB,QAAQ0I,MAAM,sCAAd+c,EAAAM,IA1BJ,yBAAAN,EAAAO,SAAAmsB,GAAA,eA8Be5C,oBAAUnsC,KAAmC4uC,gBC3BlDnmC,IAAV,SAAUA,GAAY2sB,GAAtB,IAAAxG,EAAAxtB,EAAA,OAAA6gB,EAAA7a,EAAAgb,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAGI,OAHJF,EAAAC,KAAA,EAEmBsM,EAAuBwG,EAA9B3xB,MAAkBrC,EAAYg0B,EAAZh0B,QAF9BihB,EAAAE,KAAA,EAGU0pB,aAAI,CAAE1rC,KAAM3C,OAHtB,OAII,OAJJykB,EAAAE,KAAA,EAIUxU,aAAK,eAAAihC,EAAA,OAAaA,EAAAjuB,MAAQssB,OAARroC,MAAAgqC,EAAAhzC,YAAyB4yB,EAAWxtB,GAJhE,OAOI,OAPJihB,EAAAE,KAAA,EAOU0pB,aAAI,CACR1rC,KAAM1C,KACNqL,MAAO2T,IACP1T,KAAM,IAVZ,OAAAkZ,EAAAE,KAAA,iBAeI,OAfJF,EAAAC,KAAA,GAAAD,EAAAM,GAAAN,EAAA,SAaIzlB,QAAQ0I,MAAR+c,EAAAM,IAbJN,EAAAE,KAAA,GAeU0pB,aAAI,CAAE1rC,KAAM/C,KAA2BwiB,QAASqC,EAAAM,GAAE3C,UAf5D,yBAAAqC,EAAAO,SAAAqsB,GAAA,eAmBe9C,oBAAU5uC,KAAqBkL,gBCtBpCC,IAAV,SAAUA,GAAY0sB,GAAtB,IAAAxG,EAAAsgB,EAAA,OAAAjtB,EAAA7a,EAAAgb,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAIyB,OAJzBF,EAAAC,KAAA,GAEmBsM,EAAcwG,EAArB3xB,OACEG,MAAQqlC,WAAWra,EAAUhrB,OAH3Cye,EAAAE,KAAA,EAI+BxU,aACzB,eAAAihC,EAAA,OAAaA,EAAAjuB,MAAQouB,OAARnqC,MAAAgqC,EAAAhzC,YACb4yB,GANN,OAQI,OAJMsgB,EAJV7sB,EAAAK,KAAAL,EAAAE,KAAA,EAQU0pB,aAAI,CAAE1rC,KAAM5C,KAA6B8F,MAAOyrC,IAR1D,OAAA7sB,EAAAE,KAAA,iBAYI,OAZJF,EAAAC,KAAA,GAAAD,EAAAM,GAAAN,EAAA,SAAAA,EAAAE,KAAA,GAYU0pB,aAAI,CAAE1rC,KAAM7C,KAA2BsiB,QAASqC,EAAAM,GAAE3C,UAZ5D,yBAAAqC,EAAAO,SAAAwsB,GAAA,eAgBejD,oBAAU1uC,KAAqBiL,gBCfpCC,IAAV,SAAUA,GAAaysB,GAAvB,IAAAlsB,EAAAC,EAAAnI,EAAAyC,EAAA,OAAAwe,EAAA7a,EAAAgb,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAGkB,OAHlBF,EAAAC,KAAA,EAEYpZ,EAA+BksB,EAA/BlsB,MAAOC,EAAwBisB,EAAxBjsB,KAAcnI,EAAUo0B,EAAlBhsB,OAFzBiZ,EAAAE,KAAA,EAGwBxU,aAAK,eAAAihC,EAAA,OAAaA,EAAAjuB,MAAQyB,IAARxd,MAAAgqC,EAAAhzC,YAAsB,CAC1DkN,MAAOA,GAAS2T,IAChB1T,OACAnI,UANN,OAQI,OALMyC,EAHV4e,EAAAK,KAAAL,EAAAE,KAAA,EAQU0pB,aAAI,CAAE1rC,KAAMxC,KAA8B0F,UARpD,OAAA4e,EAAAE,KAAA,gBAUI,OAVJF,EAAAC,KAAA,EAAAD,EAAAM,GAAAN,EAAA,SAAAA,EAAAE,KAAA,GAUU0pB,aAAI,CAAE1rC,KAAMzC,KAA4BkiB,QAASqC,EAAAM,GAAE3C,UAV7D,yBAAAqC,EAAAO,SAAAysB,GAAA,cAcelD,oBAAUtuC,KAAsB8K,gBCbrCC,IAAV,SAAUA,GAAYwsB,GAAtB,IAAA/rB,EAAAH,EAAAC,EAAAC,EAAA3F,EAAA,OAAAwe,EAAA7a,EAAAgb,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAGkB,OAHlBF,EAAAC,KAAA,EAEYjZ,EAAmC+rB,EAAnC/rB,UAAWH,EAAwBksB,EAAxBlsB,MAAOC,EAAiBisB,EAAjBjsB,KAAMC,EAAWgsB,EAAXhsB,OAFpCiZ,EAAAE,KAAA,EAGwBxU,aAAK,eAAAihC,EAAA,OAAaA,EAAAjuB,MAAQ7S,OAARlJ,MAAAgqC,EAAAhzC,YAAyBqN,GAHnE,OAII,OADM5F,EAHV4e,EAAAK,KAAAL,EAAAE,KAAA,EAIU0pB,aAAI,CAAE1rC,KAAMrC,KAA6BuF,UAJnD,OAKI,OALJ4e,EAAAE,KAAA,EAKU0pB,aAAI,CACR1rC,KAAM1C,KACNqL,MAAOA,GAAS2T,IAChB1T,KAAMA,GAAQ,EACdC,WATN,OAAAiZ,EAAAE,KAAA,iBAYI,OAZJF,EAAAC,KAAA,GAAAD,EAAAM,GAAAN,EAAA,SAAAA,EAAAE,KAAA,GAYU0pB,aAAI,CAAE1rC,KAAMtC,KAA2B+hB,QAASqC,EAAAM,GAAE3C,UAZ5D,yBAAAqC,EAAAO,SAAA0sB,GAAA,eAgBenD,oBAAUnuC,KAAqB4K,gBCrBpCC,IAAV,SAAUA,GAAYusB,GAAtB,IAAA9rB,EAAA7F,EAAA,OAAAwe,EAAA7a,EAAAgb,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAGkB,OAHlBF,EAAAC,KAAA,EAEYhZ,EAAY8rB,EAAZ9rB,QAFZ+Y,EAAAE,KAAA,EAGwBxU,aAAK,eAAAihC,EAAA,OAAaA,EAAAjuB,MAAQsG,KAARriB,MAAAgqC,EAAAhzC,YAAuBsN,GAHjE,OAII,OADM7F,EAHV4e,EAAAK,KAAAL,EAAAE,KAAA,EAIU0pB,aAAI,CACR1rC,KAAMqP,KACNF,QAAS9M,KAAKwd,UAAU3c,EAAMkpC,MAC9Bh9B,SAAQ,SAAAtS,QAAW,IAAI2E,MAAO2rB,qBAAqB3wB,QAAQ,MAAO,KAA1D,WAPd,OAAAqlB,EAAAE,KAAA,gBAUI,OAVJF,EAAAC,KAAA,EAAAD,EAAAM,GAAAN,EAAA,SAAAA,EAAAE,KAAA,GAUU0pB,aAAI,CAAE1rC,KAAMnC,KAA2B4hB,QAASqC,EAAAM,GAAE3C,UAV5D,yBAAAqC,EAAAO,SAAA2sB,GAAA,cAcepD,oBAAUhuC,KAAqB0K,gBCTpCC,IAAV,SAAUA,GAAYssB,GAAtB,IAAAhsB,EAAAF,EAAAC,EAAA,OAAA8Y,EAAA7a,EAAAgb,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAGI,OAHJF,EAAAC,KAAA,EAEYlZ,EAAwBgsB,EAAxBhsB,OAAQF,EAAgBksB,EAAhBlsB,MAAOC,EAASisB,EAATjsB,KAF3BkZ,EAAAE,KAAA,EAGU0pB,aAAI,CACR1rC,KAAM1C,KACNqL,MAAOA,GAAS2T,IAChB1T,KAAMA,GAAQ,EACdC,WAPN,OASI,OATJiZ,EAAAE,KAAA,EASU0pB,aAAI,CACR1rC,KAAMhC,KACN6K,WAXN,OAAAiZ,EAAAE,KAAA,gBAcI,OAdJF,EAAAC,KAAA,EAAAD,EAAAM,GAAAN,EAAA,SAAAA,EAAAE,KAAA,GAcU0pB,aAAI,CAAE1rC,KAAMjC,KAA2B0hB,QAASqC,EAAAM,GAAE3C,UAd5D,yBAAAqC,EAAAO,SAAA4sB,GAAA,cAkBerD,oBAAU9tC,KAAqByK,gBCrBpC2mC,IAAV,SAAUA,GAAara,GAAvB,IAAAl0B,EAAAvF,EAAAsyC,EAAA5jC,EAAA,OAAA4X,EAAA7a,EAAAgb,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAGsB,OAHtBF,EAAAC,KAAA,EAEYphB,EAAiBk0B,EAAjBl0B,MAAOvF,EAAUy5B,EAAVz5B,MAFnB0mB,EAAAE,KAAA,EAG4BxU,aACtB,eAAAihC,EAAA,OAAaA,EAAAjuB,MAAQvW,QAARxF,MAAAgqC,EAAAhzC,YACbkF,EACAvF,GANN,OAQI,OARJsyC,EAAA5rB,EAAAK,KAGYrY,EAHZ4jC,EAGY5jC,MAHZgY,EAAAE,KAAA,EAQU0pB,aAAI,CACR1rC,KAAM7B,KACNwC,QACAmJ,UAXN,OAAAgY,EAAAE,KAAA,iBAcI,OAdJF,EAAAC,KAAA,GAAAD,EAAAM,GAAAN,EAAA,SAAAA,EAAAE,KAAA,GAcU0pB,aAAI,CAAE1rC,KAAM9B,KAAgCuhB,QAASqC,EAAAM,GAAE3C,UAdjE,yBAAAqC,EAAAO,SAAA8sB,GAAA,eAkBevD,oBAAU3tC,KAA0BixC,gBCnBzCE,IAAV,SAAUA,KAAV,IAAAva,EAAA+V,EAAAyE,EAAAlf,EAAA10B,UAAA,OAAAimB,EAAA7a,EAAAgb,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UAA4B6S,EAA5B1E,EAAAz0B,OAAA,QAAAC,IAAAw0B,EAAA,GAAAA,EAAA,GAAqC,GAArCrO,EAAAC,KAAA,EAEY6oB,EAAU/V,EAAV+V,MAEHte,KAJT,CAAAxK,EAAAE,KAAA,eAAAF,EAAAI,OAAA,iBAMsB,OANtBJ,EAAAE,KAAA,EAM6B4oB,EAAsCp9B,aAAK,kBAAM8e,KAASse,OAAlDp9B,aAAK,kBAAM8e,KAAS6I,SANzD,OAQI,OAFMka,EANVvtB,EAAAK,KAOI9lB,QAAQC,IAAI,YAAa+yC,GAP7BvtB,EAAAE,KAAA,GAQU0pB,aAAI,CACR1rC,KAAMH,KAUNmJ,KAAMqmC,EACNzE,UApBN,QAAA9oB,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAM,GAAAN,EAAA,SA+DIzlB,QAAQ0I,MAAR+c,EAAAM,IA/DJ,yBAAAN,EAAAO,SAAAitB,GAAA,eAmEe1D,oBAAUhsC,KAAwBwvC,oBC3DlC,SAAAG,KAAA,OAAA7tB,EAAA7a,EAAAgb,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACb,OADaF,EAAAE,KAAA,EACPuD,aAAI,CACRiqB,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACArB,KApBW,wBAAAttB,EAAAO,SAAAquB,ICJf,IAAMC,GAAiBC,ygBCRvBC,aAAYC,0JCSL,SAASC,GAAW/b,GACzB,IAAMgc,EAAQ,CACZ75B,SAAU85B,KACVna,UAAWma,KACX/b,SAAU+b,KACVC,eAAgBD,KAChBE,QAASF,KACT/F,cAAekG,MAEjBC,KACEC,KAAWtc,EAAOgc,GAClB,+DAOG,SAASO,GAAmBvc,EAAOwc,GACxC,OAAO,SAAuBxwC,EAAMywC,GAC7BD,GAAST,GAAW/b,GAEzBqc,KACElmB,KAASnqB,KAAUnG,KAAQmG,IAASiwC,KAAWQ,GAC/C,uFAGEC,QAAQC,IAAI3c,EAAMkW,cAAelqC,KAErCg0B,EAAMkW,cAAclqC,GAAQywC,EAC5Bzc,EAAMkc,eAAejG,GAAcjW,EAAMkW,kBAOtC,SAAS0G,GAAiB5c,EAAOwc,GACtC,OAAO,SAAqBK,GACrBL,GAAST,GAAW/b,GAEzBqc,KACEvwC,MAAM4hB,QAAQmvB,GACd,2FAGFC,MACGj3C,KAAQg3C,GACT,oEAGFA,EAAM32C,IAAI85B,EAAMmc,UCzDpB,IAAMY,GAAe,SAACr2B,GACpBrf,QAAQ0I,MAAM,8BAA+B2W,IAGzCs2B,GAAa,SAACrhC,GAAD,OAAQ,SAACshC,GAC1BthC,EAAG,KAAMshC,GAAmBA,EAAgB5yB,QAAU4yB,EAAgB5yB,QAAU4yB,scCyClF,IACMC,GAAgBC,iBAChBnd,GJzCS,WAAoD,IAA5BkS,EAA4BzrC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAb,GAAI6e,EAAS7e,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAI3Dy2C,EAAc,CAClBzB,GACA0B,2BAAiB/3B,GACjBg4B,IAGIC,EAAY,CAChBC,mBAAe/tC,WAAf,EAAmB2tC,IAKfK,EAK4CC,WAE5C1d,EAAQ2d,uBACZ1H,KACA/D,EACAuL,EAAgBhuC,WAAhB,EAAoB8tC,IAqBtB,OAjBAvd,EAAMmc,QAAUR,GAAeiC,IAC/B5d,EAAMmc,QAAQU,IACd7c,EAAMkW,cAAgB,GAeflW,EINK6d,CAFO,GAEsBX,IAKrC53B,GAAUw4B,+BAAqBZ,GAAeld,GAAO,CACzD+d,oBzClD8B,WAC9B,IAAIC,EAEJ,OAAO,SAACppC,GACN,IAAMqpC,EAAerpC,EAAM+8B,MAI3B,OAHKuM,mBAAQD,EAAcD,KACzBA,EAAmBC,GAEdD,GyC0CYG,KAIjBC,GAAY,CAChBC,UAAW9N,GACX+N,YDpDa,SAAsBte,GAAO,IAAAue,EDwDrC,SAA2Bve,GAGhC,OAFA+b,GAAW/b,GAEJ,CACLwe,cAAejC,GAAmBvc,GAAO,GACzCye,YAAa7B,GAAiB5c,GAAO,IC3DA0e,CAAkB1e,GAEzD,OAJ0Cue,EAElCC,cAFkCD,EAEnBE,YAEhB,CACL,CACEE,KAAM,QACN3yC,KAAM,OACN4yC,aAHF,SAGeC,EAAWljC,GACtB,IAAMmjC,EAAgB7uB,QAAQM,IAAI,CAACvrB,EAAA8K,EAAA,GAAAgxB,KAAA97B,EAAA6K,KAAA,aAE7BkvC,EAAc/B,GAAWrhC,GAE/BmjC,EAAche,KAAK,SAAA5mB,GAAiB,IAAfmkC,EAAer4C,OAAAyW,EAAA,EAAAzW,CAAAkU,EAAA,MAClC6kC,EAAYV,KAGdS,EAAcE,MAAMjC,MAGxB,CACE4B,KAAM,iBACN3yC,KAAM,WACN4yC,aAHF,SAGeC,EAAWljC,GACtB,IAAMmjC,EAAgB7uB,QAAQM,IAAI,CAACvrB,EAAA8K,EAAA,GAAAgxB,KAAA97B,EAAA6K,KAAA,aAE7BkvC,EAAc/B,GAAWrhC,GAE/BmjC,EAAche,KAAK,SAAA7hB,GAAiB,IAAfo/B,EAAer4C,OAAAyW,EAAA,EAAAzW,CAAAiZ,EAAA,MAClC8/B,EAAYV,KAGdS,EAAcE,MAAMjC,MAGxB,CACE4B,KAAM,iBACN3yC,KAAM,WACN4yC,aAHF,SAGeC,EAAWljC,GACtB,IAAMmjC,EAAgB7uB,QAAQM,IAAI,CAACN,QAAAM,IAAA,CAAAvrB,EAAA8K,EAAA,GAAA9K,EAAA8K,EAAA,KAAAgxB,KAAA97B,EAAA6K,KAAA,aAE7BkvC,EAAc/B,GAAWrhC,GAE/BmjC,EAAche,KAAK,SAAAwT,GAAiB,IAAf+J,EAAer4C,OAAAyW,EAAA,EAAAzW,CAAAsuC,EAAA,MAClCyK,EAAYV,KAGdS,EAAcE,MAAMjC,MAGxB,CACE4B,KAAM,sBACN3yC,KAAM,UACN4yC,aAHF,SAGeC,EAAWljC,GACtB,IAAMmjC,EAAgB7uB,QAAQM,IAAI,CAACvrB,EAAA8K,EAAA,GAAAgxB,KAAA97B,EAAA6K,KAAA,aAE7BkvC,EAAc/B,GAAWrhC,GAE/BmjC,EAAche,KAAK,SAAAla,GAAiB,IAAfy3B,EAAer4C,OAAAyW,EAAA,EAAAzW,CAAA4gB,EAAA,MAClCm4B,EAAYV,KAGdS,EAAcE,MAAMjC,MAGxB,CACE4B,KAAM,IACN3yC,KAAM,WACN4yC,aAHF,SAGeC,EAAWljC,GACtB3W,EAAA8K,EAAA,GAAAgxB,KAAA97B,EAAA6K,KAAA,WACGixB,KAAKkc,GAAWrhC,IAChBqjC,MAAMjC,OCnBFkC,CAAajf,KAGPkf,iKAEjB,IAAM1/B,EAAWlH,KAAKlH,MAAMoO,SAE5B,OACE5N,EAAAC,EAAAC,cAACqtC,EAAA,SAAD,CAAUnf,MAAOA,IACfpuB,EAAAC,EAAAC,cAACstC,GAAD,KACExtC,EAAAC,EAAAC,cAACutC,GAAD,CAAkB7/B,SAAUA,GAC1B5N,EAAAC,EAAAC,cAACwtC,EAAA,OAAD,CACEh6B,QAASA,GACT+gB,OAAQ+X,GACRmB,OAGEC,gCAAsBC,mCAdJnmC,IAAMC,YC9DxC,WACE,IAAMgmC,EAAS,SAAC//B,GAAD,OACbkgC,IAASH,OAAO3tC,EAAAC,EAAAC,cAAC6tC,GAAD,CAAKngC,SAAUA,IAAcmuB,SAASiS,eAAe,UAYlEh5C,OAAOi5C,KAeVN,EAAOnY,IAdP,IAAInX,QAAQ,SAACE,GACXA,EAAQF,QAAAM,IAAA,CAAAvrB,EAAA8K,EAAA,GAAA9K,EAAA8K,EAAA,MAAAgxB,KAAA97B,EAAA86C,EAAAjwC,KAAA,gBAEPixB,KAAK,kBACJ7Q,QAAQM,IAAI,CACVvrB,EAAA8K,EAAA,IAAAgxB,KAAA97B,EAAA86C,EAAAjwC,KAAA,aACA7K,EAAA8K,EAAA,IAAAgxB,KAAA97B,EAAA86C,EAAAjwC,KAAA,iBAGHixB,KAAK,kBAAMye,EAAOnY,MAClB4X,MAAM,SAACt4B,GACN,MAAMA,IzGsGR,kBAAmB7f,WACrBA,UAAUk5C,cAAcC,MAAMlf,KAAK,SAAAmf,GACjCA,EAAaC,eyG/FnBC,oCC1CAn7C,EAAAC,EAAAC,EAAA,sBAAA+F,IAAAjG,EAAAC,EAAAC,EAAA,sBAAAmtC,IAAArtC,EAAAC,EAAAC,EAAA,sBAAAktC,IAMO,IAAMnnC,EAAwB,wCACxBonC,EAA8B,8BAC9BD,EAAgC,ooBCKhCgO,EAAe,SAACxrC,GAAD,OAAWA,EAAMrJ,QAEhCy6B,EAAa,SAACpxB,GAAD,OAAWA,EAAM+B,SAE9B0pC,EACT1rC,yBACIyrC,EACA,SAAC70C,GAAD,OAC0B,IAArBA,EAAOsb,WACJtb,EAAOyb,WAIVs5B,EACT3rC,yBACIyrC,EACA,SAAC70C,GAAD,OAAiC,IAArBA,EAAOsb,YAUdvX,EACTqF,yBAAeyrC,EAAc,SAAC70C,GAAD,OAAYA,EAAOoC,WAC3C8X,OAAO,SAACC,EAAK9X,GAAN,OAAoB8X,EAAMpX,YAAYV,IAAY,KASrDwB,EACTuF,yBAAeyrC,EAAc,SAAC70C,GAAD,OACzBA,EAAOmD,SACF+W,OAAO,SAACC,EAADxL,GAAA,IAAQhD,EAARgD,EAAQhD,OAAR,OACJA,EAASwO,EAAMxO,EAASwO,GAAK,KAUhCrW,EACTsF,yBACIrF,EACAF,EACA,SAACugB,EAAa4wB,GAAd,OAAiCA,EAAiB5wB,IAG7C6wB,EACT7rC,yBAAerF,EACX,SAACqgB,GAAD,OAAiBA,GAAe,EAAI,WAAa,aAQ5C8wB,EACT9rC,yBAAetF,EACX,SAACqxC,GAAD,OAAoBA,GAAkB,EAAI,EAAIrmB,KAAKsmB,MAAoD,KAA7CtmB,KAAKumB,IAAIF,GAAkB50B,OAAO+0B,UAAkB,MAEzGC,EACTnsC,yBACIyrC,EACA9wC,EACAF,EACAkxC,EACA,SAAC/0C,EAAQokB,EAAa4wB,EAAgBD,GAClC,QAAIz6C,kBAAQ0F,EAAOoC,cAIf2yC,EACO3wB,EAAc4wB,GAAkC,IAAhB5wB,EAGpCA,EAAc,GAAKA,EAAc4wB,KAKvCQ,EACTpsC,yBACIyrC,EACA9wC,EACA,SAAC/D,EAAQokB,GACL,OAAO9pB,kBAAQ0F,EAAOoC,aAAegiB,GAAe,IAKnDqxB,EACTrsC,yBACIyrC,EACA,SAAA9hC,GAAA,OAAAA,EAAG5P,WAGEuyC,EACTtsC,yBACIqsC,EACA,SAACtyC,GAAD,OAAcuW,YAA2BvW,KAGpCwyC,EACTvsC,yBACIqsC,EACA,SAACtyC,GAAD,OAAcwW,YAAqBxW,KAG9ByyC,EACTxsC,yBACIqsC,EACA,SAACtyC,GAAD,OAAcyW,YAAwBzW,KAGjC0yC,EACTzsC,yBACIqsC,EACA,SAACtyC,GAAD,OAAc0W,YAAyB1W,KAGlC2yC,EACT1sC,yBACIyrC,EACA,SAAAnhC,GAAuC,IAAAqiC,EAAAriC,EAApCtR,kBAAoC,IAAA2zC,EAAvB,GAAuBA,EAAAC,EAAAtiC,EAAnBqG,eAAmB,IAAAi8B,EAAT,GAASA,EAEnC,OAAKj8B,EAAQ5e,OAIN2e,YAAgBC,EAAS3X,GAHrBA,IAOV6zC,EACT7sC,yBACI0sC,EACA,SAAC1zC,GAAD,OAAsC,IAAtBA,EAAWjH,SAGtB6E,EACToJ,yBACIyrC,EACAC,EACAG,EACAW,EACA7xC,EACA,SAAC/D,EAAQ80C,EAAkBv5B,EAASjE,EAAe8M,GAAnD,OAAA3pB,OAAAuc,EAAA,EAAAvc,CAAA,GAEWuF,EAFX,CAGQub,UACAvX,UAAWsT,EAAgB8M,IACtB0wB,GAAoB,CAAE3zC,gBAAY/F","file":"static/js/main.72f2e2b5.chunk.js","sourcesContent":["import dateFormat from 'dateformat';\nimport lodash from 'lodash';\nimport {\n  PAYMENT_METHOD_CREDIT_CARD,\n  PAYMENT_METHOD_PHONE,\n  PAYMENT_METHOD_CASH,\n  PAYMENT_METHOD_TICKET,\n} from 'config';\n\nexport function Option(ifNotNull, ifNull) {\n  if (!lodash.isEmpty(ifNotNull)) return ifNotNull;\n\n  return ifNull;\n}\n\nexport function getLangItems(appLocales, locale) {\n  return Object.keys(appLocales).map((lang) => ({\n    value: lang,\n    title: appLocales[lang],\n    marked: lang === locale,\n  }));\n}\n\nexport function platformKeySymbols(key, platform = window.navigator.platform) {\n  const platformName = platform.toLowerCase();\n  switch (key) {\n    case 0: // ALT\n      return platformName.includes('mac') ||\n        platformName.includes('iphone') ||\n        platformName.includes('ipad')\n        ? ''\n        : 'Alt-';\n    default:\n      return key;\n  }\n}\n\nexport function abbrv(type, value) {\n  switch (type) {\n    case 'COLORS':\n    case 'GENDER':\n    case 'BRAND':\n      return value ? value.substring(0, 3) : '';\n    default:\n      return value;\n  }\n}\n\nexport function formatDescription(item) {\n  return `${abbrv('BRAND', item.brand)}-${item.colors.map((c) => abbrv('COLORS', c)).join()} (${\n    item.size\n  }-${abbrv('BRAND', item.gender)})`;\n}\n\nexport function compileTicket(info, { _data }) {\n  const ticket = _data;\n  console.log('>>>', info, ticket);\n  const utils = {\n    dateFormat,\n    addDays(date, days) {\n      date.setDate(date.getDate() + days);\n      return date;\n    },\n  };\n  const ticketInterface = {\n    code: ticket.created_at,\n    date: new Date(ticket.created_at),\n    id: ticket.id,\n    total: ticket.totalAmount,\n    total_input: ticket.givenAmount,\n    total_output: ticket.returnAmount,\n    items(fn, { padding }) {\n      // console.log(padding, rc);\n      // console.log(ticket.items.map((item) => fn({ description: `${lodash.padEnd(formatDescription(item), padding.description || 0)}`, price: lodash.padEnd(Number(item.price).toFixed(2), padding.price || 0), amount: lodash.padEnd(item.amount, padding.amount || 0), subtotal: (item.price * item.amount).toFixed(2) })).join(rc));\n      return ticket.items\n        .map((item) =>\n          fn({\n            description: `${lodash.padEnd(formatDescription(item), padding.description || 0)}`,\n            price: lodash.padEnd(Number(item.price).toFixed(2), padding.price || 0),\n            amount: lodash.padEnd(item.amount, padding.amount || 0),\n            subtotal: (item.price * item.amount).toFixed(2),\n          })\n        )\n        .join('\\r\\r');\n    },\n    payment: (function() {\n      switch (ticket.method) {\n        case PAYMENT_METHOD_CREDIT_CARD:\n          return 'Credit Card';\n        case PAYMENT_METHOD_PHONE:\n          return 'Phone App';\n        case PAYMENT_METHOD_CASH:\n          return 'Cash';\n        case PAYMENT_METHOD_TICKET:\n          return 'Voucher';\n        default:\n          return '';\n      }\n    })(),\n  };\n  try {\n    return Function('_', 'info', 'ticket', `return \\`${info.ticketTemplate}\\`;`).call(\n      null,\n      utils,\n      info,\n      ticketInterface\n    );\n  } catch (e) {\n    console.error(e);\n  }\n}\n\nexport function isRealNumeric(input) {\n  return /^[0-9]{1,3}\\.*?[0-9]*$/.test(input);\n}\n\nconst dotRegex = /\\.+/;\nexport function toFixed(num, fixed = 2, lastValid = '') {\n  console.log('...', num);\n\n  if (!num) {\n    return '0.00';\n  }\n  const numString = String(num)\n    .replace(dotRegex, '.')\n    .replace(' ', '')\n    .trim();\n\n  console.log('...', numString);\n  // nothing before dot\n  if (numString.startsWith('.')) {\n    return '0.00';\n  }\n\n  if (!isRealNumeric(num)) {\n    return lastValid;\n  }\n\n  // no dot\n  if (numString.indexOf('.') < 0) {\n    return `${numString}.00`;\n  }\n  // no number after dot\n  if (numString.indexOf('.') === numString.length - 1) {\n    return `${numString}.00`;\n  }\n  // just one number after dot\n  if (numString.length - 1 - numString.indexOf('.') === 1) {\n    return `${numString}0`;\n  }\n  // at least two numbers after dot\n  return numString.slice(0, numString.indexOf('.') + fixed + 1);\n}\n","/*\n *\n * StockItems constants\n *\n */\n\nexport const DEFAULT_ACTION = 'app/StockItems/DEFAULT_ACTION';\n\nexport const CREATE_STOCK_ACTION = 'ui/StockItems/CREATE_STOCK_ACTION';\nexport const CREATE_STOCK_ERROR_ACTION =\n  'ui/StockItems/CREATE_STOCK_ERROR_ACTION';\nexport const CREATE_STOCK_SUCCESS_ACTION =\n  'ui/StockItems/CREATE_STOCK_SUCCESS_ACTION';\n\nexport const UPDATE_STOCK_ACTION = 'ui/StockItems/UPDATE_STOCK_ACTION';\nexport const UPDATE_STOCK_ERROR_ACTION =\n  'ui/StockItems/UPDATE_STOCK_ERROR_ACTION';\nexport const UPDATE_STOCK_SUCCESS_ACTION =\n  'ui/StockItems/UPDATE_STOCK_SUCCESS_ACTION';\nexport const START_STOCK_CHANGE_ACTION =\n  'ui/StockItems/START_STOCK_CHANGE_ACTION';\n\nexport const REFRESH_STOCK_ACTION = 'ui/StockItems/REFRESH_STOCK_ACTION';\nexport const REFRESH_STOCK_ERROR_ACTION =\n  'ui/StockItems/REFRESH_STOCK_ERROR_ACTION';\nexport const REFRESH_STOCK_SUCCESS_ACTION =\n  'ui/StockItems/REFRESH_STOCK_SUCCESS_ACTION';\n\nexport const REMOVE_STOCK_ACTION = 'ui/StockItems/REMOVE_STOCK_ACTION';\nexport const REMOVE_STOCK_ERROR_ACTION =\n  'ui/StockItems/REMOVE_STOCK_ERROR_ACTION';\nexport const REMOVE_STOCK_SUCCESS_ACTION =\n  'ui/StockItems/REMOVE_STOCK_SUCCESS_ACTION';\n\nexport const EXPORT_STOCK_ACTION = 'ui/StockItems/EXPORT_STOCK_ACTION';\nexport const EXPORT_STOCK_ERROR_ACTION =\n  'ui/StockItems/EXPORT_STOCK_ERROR_ACTION';\nexport const EXPORT_STOCK_SUCCESS_ACTION =\n  'ui/StockItems/EXPORT_STOCK_SUCCESS_ACTION';\n\nexport const SEARCH_STOCK_ACTION = 'ui/StockItems/SEARCH_STOCK_ACTION';\nexport const SEARCH_STOCK_ERROR_ACTION =\n  'ui/StockItems/SEARCH_STOCK_ERROR_ACTION';\nexport const SEARCH_STOCK_SUCCESS_ACTION =\n  'ui/StockItems/SEARCH_STOCK_SUCCESS_ACTION';\n\nexport const GET_MATCHES_STOCK_ACTION =\n  'ui/StockItems/GET_MATCHES_STOCK_ACTION';\nexport const GET_MATCHES_STOCK_ERROR_ACTION =\n  'ui/StockItems/GET_MATCHES_STOCK_ERROR_ACTION';\nexport const GET_MATCHES_STOCK_SUCCESS_ACTION =\n  'ui/StockItems/GET_MATCHES_STOCK_SUCCESS_ACTION';\n\nexport const UPDATE_TMP_STOCK_DATA_ACTION =\n  'ui/StockItems/UPDATE_TMP_STOCK_DATA_ACTION';\n\nexport const UPDATE_STOCK_MODAL_OPTION_ACTION =\n  'ui/StockItems/UPDATE_STOCK_MODAL_OPTION_ACTION';\n\nexport const FILE_EXTENSIONS_ALLOWED = ['json', 'yaml', 'csv'];\n\n","/*\n *\n * TicketItems constants\n *\n */\nexport const ADD_STOCK_TO_TICKET_ACTION = 'ui/StockItems/ADD_STOCK_TO_TICKET_ACTION';\nexport const RETURN_ITEM_FROM_TICKET_ACTION = 'ui/StockItems/RETURN_ITEM_FROM_TICKET_ACTION';\nexport const REMOVE_STOCK_FROM_TICKET_ACTION = 'ui/StockItems/REMOVE_STOCK_FROM_TICKET_ACTION';\nexport const UPDATE_TICKET_OPERATION_ACTION = 'ui/tickets/UPDATE_OPERATION_ACTION';\nexport const UPDATE_TICKET_PAYMENT_ACTION = 'ui/tickets/UPDATE_TICKET_PAYMENT_ACTION';\nexport const ADD_VOUCHER_PAYMENT_AMOUNT_ACTION = 'ui/tickets/ADD_VOUCHER_PAYMENT_AMOUNT_ACTION';\nexport const ADD_VOUCHER_PAYMENT_AMOUNT_ERROR_ACTION = 'ui/tickets/ADD_VOUCHER_PAYMENT_AMOUNT_ERROR_ACTION';\nexport const ADD_VOUCHER_PAYMENT_AMOUNT_SUCCESS_ACTION = 'ui/tickets/ADD_VOUCHER_PAYMENT_AMOUNT_SUCCESS_ACTION';\nexport const REMOVE_VOUCHER_PAYMENT_AMOUNT_ACTION = 'ui/tickets/REMOVE_VOUCHER_PAYMENT_AMOUNT_ACTION';\nexport const CREATE_TICKET_ACTION = 'ui/tickets/CREATE_TICKET_ACTION';\nexport const CREATE_TICKET_SUCCESS_ACTION = 'ui/tickets/CREATE_TICKET_SUCCESS_ACTION';\nexport const LOAD_TICKET_ACTION = 'ui/tickets/LOAD_TICKET_ACTION';\nexport const LOAD_TICKET_SUCCESS_ACTION = 'ui/tickets/LOAD_TICKET_SUCCESS_ACTION';\nexport const LOAD_TICKET_ERROR_ACTION = 'ui/TicketItems/LOAD_TICKET_ERROR_ACTION';\nexport const CREATE_ADD_OPERATION_ACTION = 'ui/TicketItems/CREATE_ADD_OPERATION_ACTION';\nexport const CREATE_REMOVE_OPERATION_ACTION = 'ui/TicketItems/CREATE_REMOVE_OPERATION_ACTION';\nexport const GET_TICKET_MATCHES_ACTION = 'ui/TicketItems/GET_TICKET_MATCHES_ACTION';\nexport const GET_TICKET_MATCHES_ERROR_ACTION = 'ui/TicketItems/GET_TICKET_MATCHES_ERROR_ACTION';\nexport const GET_TICKET_MATCHES_SUCCESS_ACTION = 'ui/TicketItems/GET_TICKET_MATCHES_SUCCESS_ACTION';\nexport const PRINT_DAILY_SUMMARY_TICKET_ACTION = 'ui/TicketItems/PRINT_DAILY_SUMMARY_TICKET_ACTION';\nexport const PRINT_TICKET_ACTION = 'ui/TicketItems/PRINT_TICKET_ACTION';\nexport const PRINT_TICKET_SUCCESS_ACTION = 'ui/TicketItems/PRINT_TICKET_SUCCESS_ACTION';\nexport const PRINT_TICKET_ERROR_ACTION = 'ui/TicketItems/PRINT_TICKET_ERROR_ACTION';\n\n\n\n\n\n\n\n\n\nexport const UPDATE_TMP_TICKET_DATA_ACTION = 'ui/TicketItems/UPDATE_TMP_TICKET_DATA_ACTION';\nexport const UPDATE_STOCK_TICKET_DATA_ACTION = 'ui/TicketItems/UPDATE_STOCK_TICKET_DATA_ACTION';\nexport const REMOVE_TICKET_ACTION = 'ui/TicketItems/REMOVE_TICKET_ACTION';\n\n\nexport const UPDATE_TICKET_ACTION = 'ui/TicketItems/UPDATE_TICKET_ACTION';\nexport const UPDATE_TICKET_SUCCESS_ACTION = 'ui/TicketItems/UPDATE_TICKET_SUCCESS_ACTION';\nexport const UPDATE_TICKET_ERROR_ACTION = 'ui/TicketItems/UPDATE_TICKET_ERROR_ACTION';\n\nexport const GET_MATCHES_TICKETS_ACTION = 'ui/TicketItems/GET_MATCHES_TICKETS_ACTION';\nexport const GET_MATCHES_TICKETS_ERROR_ACTION = 'ui/TicketItems/GET_MATCHES_TICKETS_ERROR_ACTION';\nexport const GET_MATCHES_TICKETS_SUCCESS_ACTION = 'ui/TicketItems/GET_MATCHES_TICKETS_SUCCESS_ACTION';\n\nexport const CLOSE_TICKET_ACTION = 'ui/TicketItems/CLOSE_TICKET_ACTION';\nexport const CLOSE_TICKET_SUCCESS_ACTION = 'ui/TicketItems/CLOSE_TICKET_SUCCESS_ACTION';\nexport const CLOSE_TICKET_ERROR_ACTION = 'ui/TicketItems/CLOSE_TICKET_ERROR_ACTION';\n\n\nexport const UPDATE_TICKET_TAX_ACTION = 'ui/TicketItems/UPDATE_TICKET_TAX_ACTION';\nexport const UPDATE_TICKET_DISCOUNT_ACTION = 'ui/TicketItems/UPDATE_TICKET_DISCOUNT_ACTION';\n\nexport const SEARCH_TICKETS_ACTION = 'ui/TicketItems/SEARCH_TICKETS_ACTION';\nexport const SEARCH_TICKETS_ERROR_ACTION = 'ui/TicketItems/SEARCH_TICKETS_ERROR_ACTION';\nexport const SEARCH_TICKETS_SUCCESS_ACTION = 'ui/TicketItems/SEARCH_TICKETS_SUCCESS_ACTION';\n\n","/*\n *\n * WorkSpacePage constants\n *\n */\n\nexport const DEFAULT_ACTION = 'app/WorkSpacePage/DEFAULT_ACTION';\nexport const LOAD_CHART_DATA_ACTION = 'app/DiscoverPage/LOAD_CHART_DATA_ACTION';\nexport const LOAD_CHART_DATA_SUCCESS_ACTION = 'app/DiscoverPage/LOAD_CHART_DATA_SUCCESS_ACTION';\nexport const SALES_CHART = 'ui/DiscoverPage/SALES_CHART';\nexport const TICKETS_CHART = 'ui/DiscoverPage/TICKETS_CHART';\nexport const STOCK_CHART = 'ui/DiscoverPage/STOCK_CHART';\nexport const ALERT_CHART = 'ui/DiscoverPage/ALERT_CHART';\n","/*\n *\n * WorkSpacePage actions\n *\n */\n\nimport {\n  UPDATE_SETTING_ACTION,\n} from './constants';\n\nexport function updateSetting(key, value) {\n  return {\n    type: UPDATE_SETTING_ACTION,\n    key,\n    value,\n  };\n}\n","\n\nimport dateFormat from 'dateformat';\nimport lodash from 'lodash';\nimport { ticketProvidedAmount, ticketTotalAmount, ticketExchangeAmount } from 'selectors/tickets';\nimport { formatDecimalPlaces, formatPrice, formatDescription, getSubtotal, getAmount } from 'utils/ticket';\nimport {\n  PAYMENT_METHOD_CREDIT_CARD,\n  PAYMENT_METHOD_PHONE,\n  PAYMENT_METHOD_CASH,\n  PAYMENT_METHOD_VOUCHER,\n  DEFAULT_RETURN_TICKET_DAYS_ALLOWED,\n} from 'config';\n\nconst compileTicketTemplateRegex = /{{([^{}]+)}}/g;\n// const compileTicketParamsRegex = /\\[([^[]+)\\]|\"([^\"]+)\"|([^ ]+)/g;\nconst compileTicketParamsRegex = /\\[([^[]+)]|\"((?:\\\\.|[^\"\\\\])*)\"|([^ ]+)/g;\nconst removeQuotesRegex = /\"/g;\n\nfunction removeQuotes(str) {\n  return str.replace(removeQuotesRegex, '');\n}\n\nfunction compileTicketReplacer(settings, ticket, str, match) {\n  return compileTicketPrint(\n    settings,\n    ticket,\n    ...match\n      .match(compileTicketParamsRegex)\n      .map((option) => (option.startsWith('\"') ? removeQuotes(option) : option))\n  );\n}\n\nfunction compileTicketPrint(settings, ticket, category, field, ...options) {\n  if (category.toLowerCase() === 'shop') {\n    return compileTicketPrintShopCase(settings, field.toLowerCase(), options);\n  }\n  if (category.toLowerCase() === 'ticket') {\n    return compileTicketPrintTicketCase(settings, ticket, field.toLowerCase(), options);\n  }\n\n  return '';\n}\n\nfunction compileTicketPrintShopCase(settings, field) {\n  switch (field) {\n    case 'name':\n      return settings.name;\n    case 'address':\n      return settings.address;\n    case 'email':\n      return settings.email;\n    case 'phone':\n      return settings.phone;\n    default:\n      return '';\n  }\n}\n\nfunction compileTicketPrintPreprocess(field, value, padding, operation, ticket) {\n  if (field === 'description') {\n    return String(lodash.padEnd(formatDescription(operation.stock), parseInt(padding, 10)));\n  }\n  if (field === 'price') {\n    return ticket.isGift\n      ? lodash.padEnd('0.00', parseInt(padding, 10))\n      : String(lodash.padEnd(formatDecimalPlaces(operation.stock.price), parseInt(padding, 10)));\n  }\n  if (field === 'subtotal') {\n    return ticket.isGift\n      ? lodash.padEnd('0.00', parseInt(padding, 10))\n      : String(\n        lodash.padEnd(\n          formatDecimalPlaces(getSubtotal(operation)),\n          parseInt(padding, 10)\n        )\n      );\n  }\n  if (field === 'amount') {\n    return String(\n      lodash.padEnd(getAmount(operation), parseInt(padding, 10))\n    );\n  }\n  return String(lodash.padEnd(value, parseInt(padding, 10)));\n}\n\nfunction compileTicketPrintTicketCase(settings, ticket, field, options) {\n  switch (field) {\n    case 'date': {\n      const [format] = options;\n      const date = new Date(ticket.created_at || new Date().getTime());\n      return dateFormat(date, format || 'dd/mm/yyyy');\n    }\n    case 'return_date': {\n      const [days, format] = options;\n      const date = new Date(ticket.created_at || new Date().getTime());\n      date.setDate(date.getDate() + parseInt(days, DEFAULT_RETURN_TICKET_DAYS_ALLOWED));\n      return dateFormat(date, format || 'dd/mm/yyyy');\n    }\n    case 'items': {\n      const [fields, padding, paddingGlobal] = options.map((option) => JSON.parse(option));\n      console.log('util', ticket);\n      return ticket.operations\n        .map((operation) => {\n          const values = fields.map((f, i) =>\n            compileTicketPrintPreprocess(f.toLowerCase(), operation[f], padding[i], operation, ticket)\n          );\n\n          return `${new Array(paddingGlobal[0] + 1).join(' ')}${values[0]}${values[1]}${values[2]}${\n            values[3]\n            }${new Array(paddingGlobal[1] + 1).join(' ')}`;\n        })\n        .join('\\r\\n ');\n    }\n    case 'payment':\n      return ticket.payments\n        .map(payment => {\n          switch (payment.method) {\n            case PAYMENT_METHOD_CREDIT_CARD:\n              return 'Credit Card';\n            case PAYMENT_METHOD_PHONE:\n              return 'Phone App';\n            case PAYMENT_METHOD_CASH:\n              return 'Cash';\n            case PAYMENT_METHOD_VOUCHER:\n              return 'Voucher';\n            default:\n              return '';\n          }\n        })\n        .join('\\r\\n ');\n\n    case 'code':\n      if (ticket.isDailySummaryTicket) {\n        return dateFormat(new Date(), 'dd/mm/yyyy HH:MM:ss')\n      }\n      return ticket.created_at || new Date().getTime();\n    case 'id':\n      return ticket.id;\n    case 'given':\n      return ticket.isGift ? '0.00' : formatPrice(ticketProvidedAmount({ ticket }));\n    case 'return':\n      if (ticket.isDailySummaryTicket) {\n        return '0.00'\n      }\n      return ticket.isGift ? '0.00' : formatPrice(ticketExchangeAmount({ ticket }));\n    case 'total':\n      return ticket.isGift ? '0.00' : formatPrice(ticketTotalAmount({ ticket }));\n    case 'category':\n      if (ticket.isGift) {\n        return 'Gift';\n      }\n      if (ticket.isVoucher) {\n        return 'Voucher';\n      }\n      if (ticket.isDailySummaryTicket) {\n        return 'Daily Summary Ticket';\n      }\n      return 'Ticket';\n    default:\n      return '';\n  }\n}\n\nexport function compileTicket(settings, ticket) {\n  try {\n    return settings.ticketTemplate.replace(\n      compileTicketTemplateRegex,\n      compileTicketReplacer.bind(null, settings, ticket)\n    );\n  } catch (e) {\n    console.error(e);\n  }\n}\n\n\n","/*\n *\n * WorkSpacePage constants\n *\n */\n\nexport const SET_TICKET_GIVEN_AMOUNT_ACTION =\n  'ui/TicketTotal/SET_TICKET_GIVEN_AMOUNT_ACTION';\nexport const INCREASE_TICKET_GIVEN_AMOUNT_ACTION =\n  'ui/TicketTotal/INCREASE_TICKET_GIVEN_AMOUNT_ACTION';\nexport const DECREASE_TICKET_GIVEN_AMOUNT_ACTION =\n  'ui/TicketTotal/DECREASE_TICKET_GIVEN_AMOUNT_ACTION';\n","/*\n *\n * TicketItems constants\n *\n */\n\nexport const UPDATE_TMP_TICKET_DATA_ACTION = 'ui/TicketItems/UPDATE_TMP_TICKET_DATA_ACTION';\n\nexport const UPDATE_STOCK_TICKET_DATA_ACTION = 'ui/TicketItems/UPDATE_STOCK_TICKET_DATA_ACTION';\n\nexport const REMOVE_STOCK_FROM_TICKET_ACTION = 'ui/TicketItems/REMOVE_STOCK_FROM_TICKET_ACTION';\nexport const UNDO_RETURN_STOCK_FROM_TICKET_ACTION =\n  'ui/TicketItems/UNDO_RETURN_STOCK_FROM_TICKET_ACTION';\nexport const RETURN_STOCK_FROM_TICKET_ACTION = 'ui/TicketItems/RETURN_STOCK_FROM_TICKET_ACTION';\nexport const RETURN_ALL_STOCK_FROM_TICKET_ACTION =\n  'ui/TicketItems/RETURN_ALL_STOCK_FROM_TICKET_ACTION';\nexport const REMOVE_TICKET_ACTION = 'ui/TicketItems/REMOVE_TICKET_ACTION';\n\nexport const LOAD_TICKET_ACTION = 'ui/TicketItems/LOAD_TICKET_ACTION';\nexport const LOAD_TICKET_ERROR_ACTION = 'ui/TicketItems/LOAD_TICKET_ERROR_ACTION';\nexport const LOAD_TICKET_SUCCESS_ACTION = 'ui/TicketItems/LOAD_TICKET_SUCCESS_ACTION';\n\nexport const ADD_STOCK_TO_TICKET_ACTION = 'ui/StockItems/ADD_STOCK_TO_TICKET_ACTION';\n\nexport const UPDATE_TICKET_ACTION = 'ui/TicketItems/UPDATE_TICKET_ACTION';\nexport const UPDATE_TICKET_SUCCESS_ACTION = 'ui/TicketItems/UPDATE_TICKET_SUCCESS_ACTION';\nexport const UPDATE_TICKET_ERROR_ACTION = 'ui/TicketItems/UPDATE_TICKET_ERROR_ACTION';\n\nexport const GET_MATCHES_TICKETS_ACTION = 'ui/TicketItems/GET_MATCHES_TICKETS_ACTION';\nexport const GET_MATCHES_TICKETS_ERROR_ACTION = 'ui/TicketItems/GET_MATCHES_TICKETS_ERROR_ACTION';\nexport const GET_MATCHES_TICKETS_SUCCESS_ACTION =\n  'ui/TicketItems/GET_MATCHES_TICKETS_SUCCESS_ACTION';\n\nexport const CLOSE_TICKET_ACTION = 'ui/TicketItems/CLOSE_TICKET_ACTION';\nexport const CLOSE_TICKET_SUCCESS_ACTION = 'ui/TicketItems/CLOSE_TICKET_SUCCESS_ACTION';\nexport const CLOSE_TICKET_ERROR_ACTION = 'ui/TicketItems/CLOSE_TICKET_ERROR_ACTION';\n\nexport const PRINT_TICKET_ACTION = 'ui/TicketItems/PRINT_TICKET_ACTION';\nexport const PRINT_TICKET_SUCCESS_ACTION = 'ui/TicketItems/PRINT_TICKET_SUCCESS_ACTION';\nexport const PRINT_TICKET_ERROR_ACTION = 'ui/TicketItems/PRINT_TICKET_ERROR_ACTION';\n\nexport const UPDATE_TICKET_TAX_ACTION = 'ui/TicketItems/UPDATE_TICKET_TAX_ACTION';\nexport const UPDATE_TICKET_DISCOUNT_ACTION = 'ui/TicketItems/UPDATE_TICKET_DISCOUNT_ACTION';\n","/**\n *\n * Button\n *\n */\n\nimport styled, { keyframes } from 'styled-components';\n\nconst rippleAnimation = keyframes`\n  0% {\n    transform: scale(0, 0);\n    opacity: 1;\n  }\n  20% {\n    transform: scale(20, 20);\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n    transform: scale(40, 40);\n  }\n`;\n\nconst inactiveButton = (props) => props.disabled ? '' :\n  ` \n`;\n\nconst Button = styled.button`\n  outline: none;\n  pointer-events: ${(props) => (props.inactive ? 'none' : 'auto')};\n  margin-left: 5px;\n  height: 35px;\n  width: 115px;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-size: 1.3em;\n  font-style: normal;\n  font-weight: 400;\n  border: 1px solid rgba(163, 168, 174, 0.6);\n  color: rgba(163, 168, 174, 0.6);\n  cursor: pointer;\n  transition: all 0.5s ease-in-out;\n  position: relative;\n  overflow: hidden;\n  &::after {\n    content: '';\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    width: 5px;\n    height: 5px;\n    opacity: 0;\n    border-radius: 100%;\n    background-color: ${(props) => props.color[1]};\n    transform: scale(1, 1) translate(-50%);\n    transform-origin: 50% 50%;\n  }\n  &:hover {\n    border: 1px solid ${(props) => props.color[0]};\n    color: ${(props) => props.color[0]};\n  }\n  &:focus:not(:active)::after {\n    animation: ${rippleAnimation} 1s ease-out;\n  }\n`;\n\nexport default Button;\n","/**\n *\n * Button\n *\n */\nimport React, { PropTypes } from 'react';\nimport Octicon from 'react-octicon';\nimport StyledButton from './StyledButton';\n\nconst getColor = (props) => {\n  if (props.primary) return ['rgb(115, 201, 144)', 'rgba(115, 201, 144, .2)'];\n  if (props.secundary) {\n    return ['rgba(100, 148, 237)', 'rgba(100, 148, 237, .2)'];\n  }\n  return ['rgb(226, 192, 141)', 'rgba(226, 192, 141, .2)'];\n};\n\nfunction Button(props) {\n  const { title, ...other } = props;\n  return (\n    <StyledButton color={getColor(props)} {...other}>\n      {props.icon && <Octicon name={props.icon} />} {title}\n    </StyledButton>\n  );\n}\n\nButton.propTypes = {\n  icon: PropTypes.string, // @todo PropTypes.string.isRequired\n  title: PropTypes.string,\n};\n\nexport default Button;\n","import PubSub from 'pubsub-js';\n\n// @todo check a way of using symbols or making constants easier to write\nPubSub.topics = {\n  FUZZY_FINDER_REQUIRED: 'FUZZY_FINDER_REQUIRED', // Fired when a component requires the fuzzy finder\n  FUZZY_FINDER_LANG_ITEM_SELECTED: 'FUZZY_FINDER_LANG_ITEM_SELECTED', // Fired when user selects a language in the fuzzy finder\n  FUZZY_FINDER_THEME_ITEM_SELECTED: 'FUZZY_FINDER_THEME_ITEM_SELECTED', // Fired when user selects a theme in the fuzzy finder\n  FUZZY_FINDER_NOTEBOOK_ITEM_ADDED: 'FUZZY_FINDER_NOTEBOOK_ITEM_ADDED', // Fired when user adds a notebook in the fuzzy finder\n  FUZZY_FINDER_CLOSED: 'FUZZY_FINDER_CLOSED', // Fired when user adds a notebook in the fuzzy finder\n  HELPER_TOUR_TIP_OPENED: 'HELPER_TOUR_TIP_OPENED', // Fired when user opens a tip\n  HELPER_TOUR_TIP_CLOSED: 'HELPER_TOUR_TIP_CLOSED', // Fired when user closed a tip\n  HELPER_TOUR_TIP_REMOVED: 'HELPER_TOUR_TIP_REMOVED', // Fired when user removed a tip\n  MODAL_OPENED: 'MODAL_OPENED', // Fired when user opened the modal\n  MODAL_CLOSED: 'MODAL_CLOSED', // Fired when user closed the modal\n  ACTION_SELECTED: 'ACTION_SELECTED', // Fired when user selected a global action in the fuzzy finder\n};\n\nexport default PubSub;\n","/*\n *\n * StockItems actions\n *\n */\n\nimport {\n  CREATE_STOCK_ACTION,\n  UPDATE_STOCK_ACTION,\n  REFRESH_STOCK_ACTION,\n  REMOVE_STOCK_ACTION,\n  EXPORT_STOCK_ACTION,\n  SEARCH_STOCK_ACTION,\n  GET_MATCHES_STOCK_ACTION,\n  UPDATE_TMP_STOCK_DATA_ACTION,\n  UPDATE_STOCK_MODAL_OPTION_ACTION,\n} from './constants';\n\nexport function createStock(stock, options = {}) {\n  return {\n    type: CREATE_STOCK_ACTION,\n    stock,\n    options,\n  };\n}\n\nexport function updateStock(stock) {\n  return {\n    type: UPDATE_STOCK_ACTION,\n    stock,\n  };\n}\n\nexport function refreshStock(limit, skip, search) {\n  return {\n    type: REFRESH_STOCK_ACTION,\n    limit,\n    skip,\n    search,\n  };\n}\n\nexport function removeStock(reference, limit, skip, search) {\n  return {\n    type: REMOVE_STOCK_ACTION,\n    reference,\n    limit,\n    skip,\n    search,\n  };\n}\n\nexport function exportStock(decrypt) {\n  return {\n    type: EXPORT_STOCK_ACTION,\n    decrypt,\n  };\n}\n\nexport function searchStock(search, limit, skip) {\n  return {\n    type: SEARCH_STOCK_ACTION,\n    limit,\n    skip,\n    search,\n  };\n}\n\nexport function getMatches(field, value) {\n  return {\n    type: GET_MATCHES_STOCK_ACTION,\n    field,\n    value,\n  };\n}\n\nexport function updateTmpData(reference, data) {\n  return {\n    type: UPDATE_TMP_STOCK_DATA_ACTION,\n    reference,\n    data,\n  };\n}\n\nexport function updateModalOption(option, value) {\n  return {\n    type: UPDATE_STOCK_MODAL_OPTION_ACTION,\n    option,\n    value,\n  };\n}\n","import { createSelector } from 'reselect';\n\n/**\n * Direct selector to the stockItems state domain\n */\nconst selectStockItemsDomain = () => (state) => state.stock;\nconst selectTmpData = () => (state) => state.tmp;\n\n/**\n * Other specific selectors\n */\n\n/**\n * Default selector used by StockItems\n */\n\nconst makeSelectStockItems = () =>\n  createSelector(selectStockItemsDomain(), (substate) => substate.items);\n\nconst makeSelectStockLimit = () =>\n  createSelector(selectStockItemsDomain(), (substate) => substate.limit);\n\nconst makeSelectStockOffset = () =>\n  createSelector(selectStockItemsDomain(), (substate) => substate.skip);\n\nconst makeSelectStockCount = () =>\n  createSelector(selectStockItemsDomain(), (substate) => substate.total);\n\nconst makeSelectSearch = () =>\n  createSelector(selectTmpData(), (substate) => substate.search);\n\nconst makeSelectMatches = () =>\n  createSelector(selectTmpData(), (substate) => substate.matches);\n\nconst makeSelectStockReferenceMatches = () =>\n  createSelector(makeSelectMatches(), (substate) =>\n    substate.stock.reference\n  );\n\nconst makeSelectStockSearch = () =>\n  createSelector(makeSelectSearch(), (substate) => substate.stock);\n\nconst makeSelectStockTmpData = () =>\n  createSelector(selectTmpData(), (substate) => substate.stock);\n\nconst makeSelectStockModalOptions = () =>\n  createSelector(selectTmpData(), (substate) => substate.modal);\n\nconst makeSelectStockModalRemoveOption = () =>\n  createSelector(selectTmpData(), (substate) =>\n    substate.modal.removeStock\n  );\n\nconst makeSelectStockModalArchiveOption = () =>\n  createSelector(selectTmpData(), (substate) =>\n    substate.modal.archiveStock\n  );\n\nexport default selectStockItemsDomain;\nexport {\n  selectStockItemsDomain,\n  makeSelectStockItems,\n  makeSelectStockLimit,\n  makeSelectStockOffset,\n  makeSelectStockCount,\n  makeSelectStockSearch,\n  makeSelectStockTmpData,\n  makeSelectStockModalOptions,\n  makeSelectStockModalRemoveOption,\n  makeSelectStockModalArchiveOption,\n  makeSelectStockReferenceMatches,\n};\n","/*\n *\n * TicketTotal constants\n *\n */\n\nexport const TOGGLE_TICKET_TOTAL_VISIBILITY = 'ui/TicketTotal/TOGGLE_TICKET_TOTAL_VISIBILITY';\nexport const TOGGLE_RAW_TICKET_VISIBILITY = 'ui/TicketTotal/TOGGLE_RAW_TICKET_VISIBILITY';\n","export const CONTAINER = 'stock.container';\nexport const ITEMS_LIST = 'stock.itemsList';\nexport const ITEM = 'stock.item';\nexport const FIELD_REFERENCE = 'stock.ref';\nexport const FIELD_BRAND = 'stock.brand';\nexport const FIELD_DESCRIPTION = 'stock.desc';\nexport const FIELD_PRICE = 'stock.price';\nexport const FIELD_AMOUNT = 'stock.amount';\nexport const ADD_ITEM = 'stock.plus';\nexport const REMOVE_ITEM = 'stock.remove';\nexport const CHECK_ITEM = 'stock.check';\nexport const ADD_ITEM_TO_TICKET = 'stock.addToTicket';\n","export const PAYMENT_METHOD_CREDIT_CARD = 'tickets.paymentMethodCreditCard';\nexport const PAYMENT_METHOD_CASH = 'tickets.paymentMethodCash';\nexport const PAYMENT_METHOD_VOUCHER = 'tickets.paymentMethodVoucher';\nexport const PAYMENT_METHOD_VOUCHER_AMOUNT = 'tickets.paymentMethodVoucher.amount';\nexport const PAYMENT_METHOD_PHONE = 'tickets.paymentMethodPhone';\nexport const CHECKOUT_BUTTON = 'tickets.sellCheckoutButton';\nexport const SELL_SAVE_BUTTON = 'tickets.sellSaveButton';\nexport const NEW_TICKET_BUTTON = 'tickets.newTicketButton';\nexport const VOUCHER_BUTTON = 'tickets.returnVoucherButton';\nexport const TICKETS_LIST = 'tickets.ticketsList';\nexport const RETURN_ITEMS_LIST = 'tickets.returnItemsList';\nexport const RETURN_ITEM_ROW = 'tickets.returnItemRow';\nexport const INCREASE_RETURN_ITEM_BUTTON = 'tickets.increaseReturnItemButton';\n","import * as stockSelectors from './stock';\nimport * as ticketsSelectors from './tickets';\n\nexport const stock = stockSelectors;\nexport const tickets = ticketsSelectors;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled, { keyframes } from 'styled-components';\n\nconst fadeInAnimation = keyframes`\n  from {\n      opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n`;\nconst danceAnimation = keyframes`\n  0% {\n    transform: translate(0, 0);\n  }\n  50% {\n    transform: translate(2px, 0);\n  }\n  100% {\n    transform: translate(0, 0);\n  }\n`;\n\nconst Position = (position, amount) => `${position}: ${amount}px;`;\n\nexport const Container = styled.div`\n  position: absolute;\n  outline: none;\n  z-index: 3;\n  width: 16px;\n  height: 16px;\n  text-align: center;\n  -webkit-transform: translateZ(0);\n  -webkit-font-smoothing: antialiased;\n  color: ${(props) => props.color || 'rgb(226, 192, 141)'};\n  ${(props) => (props.left ? Position('left', props.left) : '')} \n  ${(props) => (props.right ? Position('right', props.right) : '')} \n  ${(props) => (props.top ? Position('top', props.top) : '')} \n  ${(props) => (props.bottom ? Position('bottom', props.bottom) : '')};\n`;\n\nexport const Animate = styled.div`\n  opacity: 0;\n  opacity: 1 \\9; /*just in case ie*/\n  -webkit-animation: ${fadeInAnimation} 1s ease-in 1,\n    ${danceAnimation} 2s ease-in-out infinite alternate;\n  -moz-animation: ${fadeInAnimation} 1s ease-in 1,\n    ${danceAnimation} 2s ease-in-out infinite alternate;\n  animation: ${fadeInAnimation} 1s ease-in 1,\n    ${danceAnimation} 2s ease-in-out infinite alternate;\n\n  -webkit-animation-fill-mode: forwards;\n  -moz-animation-fill-mode: forwards;\n  animation-fill-mode: forwards;\n\n  -webkit-animation-delay: 2s;\n  -moz-animation-delay: 2s;\n  animation-delay: 2s;\n`;\n\nconst down = `\n -webkit-transform: translateY(10px);\n  -moz-transform: translateY(10px);\n  -ms-transform: translateY(10px);\n  -o-transform: translateY(10px);\n  transform: translateY(10px);\n`;\nconst up = `\n  top: 30px;\n  & :after {\n    top: -10px;\n    transform: rotate(180deg);\n  }\n  & :before {\n    top: -20px;\n  }\n`;\nconst left = `\n  left: -215px;\n  top: -75px;\n  bottom: initial;\n  & :after {\n    left: 208px;\n    bottom: 15px;\n    transform: rotate(270deg);\n  }\n  & :before {\n    height: 105px;\n    left: 200px;\n    top: 0px;\n    width: 20px;\n  }\n`;\n\nconst visible = `\n  -webkit-transition: all .25s ease-out;\n  -moz-transition: all .25s ease-out;\n  -ms-transition: all .25s ease-out;\n  -o-transition: all .25s ease-out;\n  transition: all .25s ease-out;\n  opacity: 1;\n  pointer-events: auto;\n  -webkit-transform: translateY(0px);\n  -moz-transform: translateY(0px);\n  -ms-transform: translateY(0px);\n  -o-transform: translateY(0px);\n  transform: translateY(0px);\n`;\n\nexport const ToolTip = styled.div`\n  background: ${(props) => props.theme && props.theme.tooltips.bgColor ? props.theme.tooltips.bgColor : 'rgba(39, 41, 44, 0.9)'};\n  bottom: 100%;\n  color: #a3a8ae;\n  display: inline-table;\n  left: -88px;\n  margin-bottom: 15px;\n  opacity: 0;\n  padding: 2px;\n  pointer-events: none;\n  position: absolute;\n  width: 200px;\n  -webkit-transition: all .25s ease-out;\n  -moz-transition: all .25s ease-out;\n  -ms-transition: all .25s ease-out;\n  -o-transition: all .25s ease-out;\n  transition: all .25s ease-out;\n  -webkit-box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.28);\n  -moz-box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.28);\n  -ms-box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.28);\n  -o-box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.28);\n  box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.28);\n  -webkit-user-select: none;\n\n  & :before {\n    bottom: -20px;\n    content: \" \";\n    display: block;\n    height: 20px;\n    left: 0;\n    position: absolute;\n    width: 100%;\n  }\n\n  & :after {\n    border-left: solid transparent 10px;\n    border-right: solid transparent 10px;\n    border-top: solid var(--bgColor) 10px;\n    bottom: -10px;\n    content: \" \";\n    height: 0;\n    left: 50%;\n    margin-left: -13px;\n    position: absolute;\n    width: 0;\n  }\n\n  ${(props) => (props.direction === 'up' ? up : '')} \n  ${(props) => (props.direction === 'down' ? down : '')} \n  ${(props) => (props.direction === 'left' ? left : '')};\n  ${(props) => (props.visible ? visible : '')};\n`;\n","import React from 'react';\nimport Octicon from 'react-octicon';\nimport { Animate, Container, ToolTip } from './wrappers';\n\nclass Tip extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { visible: false };\n  }\n  startReadingTip() {\n    this.setState({ visible: true });\n  }\n\n  stopReadingTip() {\n    this.setState({ visible: false });\n  }\n\n  remove() {\n    // @todo is this fine? maybe we should re-render parent component to unmount child by publishing\n    // PubSub.publish(PubSub.topics.HELPER_TOUR_TIP_REMOVED, null);\n    this.tip.remove();\n  }\n\n  render() {\n    return (\n      <Container\n        innerRef={(tip) => {\n          this.tip = tip;\n        }}\n        onMouseEnter={(event) => this.startReadingTip(event)}\n        onMouseLeave={(event) => this.stopReadingTip(event)}\n        left={this.props.left}\n        top={this.props.top}\n        right={this.props.right}\n        bottom={this.props.bottom}\n        color={this.props.color}\n        onClick={(event) => this.props.onClick ? this.props.onClick(event) : null}\n      >\n        {this.props.animated ? (<Animate>\n          <Octicon name={this.props.icon || 'unverified'} />\n        </Animate>) : <Octicon name={this.props.icon || 'unverified'} />}\n        <ToolTip direction={this.props.direction} visible={this.state.visible}>\n          {this.props.children}\n        </ToolTip>\n      </Container>\n    );\n  }\n}\n\nTip.propTypes = {\n  children: React.PropTypes.node,\n  direction: React.PropTypes.string,\n  left: React.PropTypes.string,\n  top: React.PropTypes.string,\n  right: React.PropTypes.string,\n  bottom: React.PropTypes.string,\n  icon: React.PropTypes.string,\n  animated: React.PropTypes.bool,\n  onClick: React.PropTypes.func,\n  color: React.PropTypes.string,\n};\n\nexport default Tip;\n","/*\n *\n * TicketItems constants\n *\n */\n\nexport const UPDATE_TMP_TICKET_DATA_ACTION = 'ui/TicketItems/UPDATE_TMP_TICKET_DATA_ACTION';\n\nexport const UPDATE_STOCK_TICKET_DATA_ACTION = 'ui/TicketItems/UPDATE_STOCK_TICKET_DATA_ACTION';\n\nexport const REMOVE_STOCK_FROM_TICKET_ACTION = 'ui/TicketItems/REMOVE_STOCK_FROM_TICKET_ACTION';\nexport const REMOVE_TICKET_ACTION = 'ui/TicketItems/REMOVE_TICKET_ACTION';\n\nexport const LOAD_TICKET_ACTION = 'ui/TicketItems/LOAD_TICKET_ACTION';\nexport const LOAD_TICKET_ERROR_ACTION = 'ui/TicketItems/LOAD_TICKET_ERROR_ACTION';\nexport const LOAD_TICKET_SUCCESS_ACTION = 'ui/TicketItems/LOAD_TICKET_SUCCESS_ACTION';\n\nexport const ADD_STOCK_TO_TICKET_ACTION = 'ui/StockItems/ADD_STOCK_TO_TICKET_ACTION';\n\nexport const UPDATE_TICKET_ACTION = 'ui/TicketItems/UPDATE_TICKET_ACTION';\nexport const UPDATE_TICKET_SUCCESS_ACTION = 'ui/TicketItems/UPDATE_TICKET_SUCCESS_ACTION';\nexport const UPDATE_TICKET_ERROR_ACTION = 'ui/TicketItems/UPDATE_TICKET_ERROR_ACTION';\n\nexport const GET_MATCHES_TICKETS_ACTION = 'ui/TicketItems/GET_MATCHES_TICKETS_ACTION';\nexport const GET_MATCHES_TICKETS_ERROR_ACTION = 'ui/TicketItems/GET_MATCHES_TICKETS_ERROR_ACTION';\nexport const GET_MATCHES_TICKETS_SUCCESS_ACTION = 'ui/TicketItems/GET_MATCHES_TICKETS_SUCCESS_ACTION';\n\nexport const CLOSE_TICKET_ACTION = 'ui/TicketItems/CLOSE_TICKET_ACTION';\nexport const CLOSE_TICKET_SUCCESS_ACTION = 'ui/TicketItems/CLOSE_TICKET_SUCCESS_ACTION';\nexport const CLOSE_TICKET_ERROR_ACTION = 'ui/TicketItems/CLOSE_TICKET_ERROR_ACTION';\n\nexport const PRINT_TICKET_ACTION = 'ui/TicketItems/PRINT_TICKET_ACTION';\nexport const PRINT_TICKET_SUCCESS_ACTION = 'ui/TicketItems/PRINT_TICKET_SUCCESS_ACTION';\nexport const PRINT_TICKET_ERROR_ACTION = 'ui/TicketItems/PRINT_TICKET_ERROR_ACTION';\n\nexport const UPDATE_TICKET_TAX_ACTION = 'ui/TicketItems/UPDATE_TICKET_TAX_ACTION';\nexport const UPDATE_TICKET_DISCOUNT_ACTION = 'ui/TicketItems/UPDATE_TICKET_DISCOUNT_ACTION';\n\nexport const SEARCH_TICKETS_ACTION = 'ui/TicketItems/SEARCH_TICKETS_ACTION';\nexport const SEARCH_TICKETS_ERROR_ACTION = 'ui/TicketItems/SEARCH_TICKETS_ERROR_ACTION';\nexport const SEARCH_TICKETS_SUCCESS_ACTION = 'ui/TicketItems/SEARCH_TICKETS_SUCCESS_ACTION';\n\n","/*\n *\n * WorkSpacePage actions\n *\n */\n\nimport { CHANGE_TAKE_AMOUNT, DOWNLOAD_FILE_ACTION } from './constants';\n\nexport function setTicketTakeAmount(amount) {\n  return {\n    type: CHANGE_TAKE_AMOUNT,\n    amount,\n  };\n}\n\nexport function downloadFile({ content, fileName }) {\n  return {\n    type: DOWNLOAD_FILE_ACTION,\n    content,\n    fileName,\n  };\n}\n","/*\n *\n * TicketTotal constants\n *\n */\n\nexport const TOGGLE_TICKET_PAYMENTS_VISIBILITY = 'ui/TicketPayments/TOGGLE_TICKET_PAYMENTS_VISIBILITY';\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n// import Octicon from 'react-octicon';\n\nexport const ModalContainer = styled.section`\n  width: 600px;\n  color: rgba(163, 168, 174, 0.6);\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-size: 1.5em;\n  font-style: normal;\n  font-weight: 300;\n`;\n\nexport const DottedContainer = styled.div`\n  width: 550px;\n  margin: auto;\n  border: 2px dotted rgba(163, 168, 174, 0.6);\n  height: 250px;\n  letter-spacing: 0.15em;\n  text-align: center;\n  font-size: 1.7em;\n  display: table;\n  cursor: pointer;\n`;\n\nexport const OptionsContainer = styled.div`\n  width: 550px;\n  margin: 10px auto;\n`;\n\nexport default ModalContainer;\n","import styled from 'styled-components';\n\nexport const ImportStockInfoTooltip = styled.div`\n  cursor: default;\n  padding: 14px;\n  font-size: 11px;\n  font-weight: 400;\n  letter-spacing: 3px;\n  transition: all 0.5s ease-in-out;\n`;\n\nexport default ImportStockInfoTooltip;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { safeLoad as fromYAML } from 'js-yaml';\nimport fromCSV from 'csvtojson';\nimport Tooltip from 'components/Tooltip';\nimport messages from '../messages';\nimport { DottedContainer } from '../atoms/ModalContainer';\nimport { ImportStockInfoTooltip } from '../atoms/ImportStockInfoTooltip';\nimport { FILE_EXTENSIONS_ALLOWED } from '../constants';\nexport class ModalDropZone extends React.Component {\n\n  static SAMPLE_FILE = `reference, brand, gender, colors, size, price, amount\n  400, Adidas, man, \"white,red\", 38, 64.95, 10\n  401, Nike, man, \"white,blue\", 40, 69.99, 15\n  402, Alpina, man, \"red\", 44, 44, 5\n  403, Barker, man, \"black\", 39, 39.99, 5\n  404, Faith, man, \"white,blue\", 37, 77.77, 7\n  410, Joma, woman, \"green, yellow\", 37, 59.90, 15\n  411, Tamaris, man, \"white,red\", 36, 35.95, 5\n  412, Whyred, woman, \"black,brown\", 41, 54.99, 15\n  413, Racoon, man, \"red\", 38, 75.5, 10\n  414, Ultimo, woman, \"black\", 34, 59.99, 5`;\n\n  constructor(props) {\n    super(props);\n    this.state = { loading: false, items: null, filename: '' };\n  }\n\n  componentDidMount() {\n    this.props.onApproved(() => this.saveData());\n  }\n\n  saveData() {\n    if (!this.state.items.length) return true;\n    // Emit action to save items taking into account options (remove current stock & run in background)\n    this.props.createStock(this.state.items, {\n      batch: true,\n      remove: this.props.removeStockOption,\n      // remove: this.props.removeOption,\n      archive: this.props.archiveStockOption,\n      filename: this.state.filename,\n      // background: this.props.backgroundOption,\n    });\n\n    return true;\n  }\n\n  // @todo move to a saga ?\n  toJS(str, extension, cb) {\n    try {\n      switch (extension) {\n        case FILE_EXTENSIONS_ALLOWED[0]:\n          return cb(null, JSON.parse(str));\n        case FILE_EXTENSIONS_ALLOWED[1]:\n          return cb(null, fromYAML(str));\n        case FILE_EXTENSIONS_ALLOWED[2]:\n          return fromCSV({\n            colParser: {\n              size: 'number',\n              price: 'number',\n              amount: 'number',\n              colors: (item) => item.split(',').map((i) => i.trim()),\n            },\n          })\n            .fromString(str)\n            .on('end_parsed', (data) => cb(null, data))\n            .on('error', (error) => cb(error));\n        default:\n          return str;\n      }\n    } catch (error) {\n      return cb(error);\n    }\n  }\n\n  // @todo move to a saga ?\n  processFile(file) {\n    const [, fileExtension] = file.name.split('.');\n    if (!FILE_EXTENSIONS_ALLOWED.includes(fileExtension.toLowerCase())) return;\n\n    const fileAPISupport =\n      window.File && window.FileReader && window.FileList && window.Blob;\n    // @todo display no file api support notification\n    if (!fileAPISupport) return;\n\n    const fileReader = new FileReader();\n    fileReader.onerror = ({ target }) => {\n      this.setState({ loading: false, items: [] });\n      console.error('could not read file, error code', target.error);\n    };\n    fileReader.onloadstart = () => {\n      this.setState({ loading: true });\n    };\n\n    fileReader.onload = () => {\n      // Conver to JSON here from YAML or CSV\n      this.toJS(\n        fileReader.result,\n        fileExtension.toLowerCase(),\n        (error, jsContent) =>\n          this.setState(\n            { loading: false, items: jsContent, filename: file.name },\n            () => this.props.enable()\n          )\n      );\n    };\n\n    // fileReader.readAsArrayBuffer(file);\n    fileReader.readAsText(file, 'UTF-8');\n  }\n\n  openFileContext(target) {\n    if (this.fileInput) {\n      this.fileInput.click();\n    }\n  }\n\n  dropHandler(event) {\n    // Prevent default behavior (Prevent file from being opened)\n    event.preventDefault();\n\n    if (event.dataTransfer.items) {\n      // Use DataTransferItemList interface to access the file(s)\n      for (let i = 0; i < event.dataTransfer.items.length; i += 1) {\n        const item = event.dataTransfer.items[i];\n        // If dropped items aren't files, reject them\n        if (item.kind === 'file') {\n          this.processFile(item.getAsFile());\n        }\n      }\n    }\n\n    // Pass event to removeDragData for cleanup\n    this.removeDragData(event);\n  }\n\n  dragOverHandler(event) {\n    // Prevent default behavior (Prevent file from being opened)\n    event.preventDefault();\n  }\n\n  removeDragData(event) {\n    if (event.dataTransfer.items) {\n      // Use DataTransferItemList interface to remove the drag data\n      event.dataTransfer.items.clear();\n    } else {\n      // Use DataTransfer interface to remove the drag data\n      event.dataTransfer.clearData();\n    }\n  }\n\n  downloadSample(event) {\n    event.stopPropagation();\n    event.preventDefault();\n    this.props.downloadFile(ModalDropZone.SAMPLE_FILE, 'sample_stock_file.csv', 'text/csv');\n  }\n\n  render() {\n    return (\n      <DottedContainer\n        draggable=\"true\"\n        onClick={({ target }) => this.openFileContext(target)}\n        onDrop={(event) => this.dropHandler(event)}\n        onDragOver={(event) => this.dragOverHandler(event)}\n      >\n        <input\n          ref={(element) => (this.fileInput = element)}\n          type=\"file\"\n          multiple=\"false\"\n          accept=\".csv,.json,.yaml,text/csv, application/json, application/x-yaml, application/vnd.ms-excel, text/*\"\n          onChange={({ target }) =>\n            target.files[0] ? this.processFile(target.files[0]) : null\n          }\n          style={{ display: 'none' }}\n        />\n        <div style={{ display: 'table-cell', verticalAlign: 'middle' }}>\n          <p style={{ margin: '2px' }}><FormattedMessage {...messages.modalTitle} /></p>\n          <div style={{ fontSize: '0.6em', margin: '2px' }}>\n            <FormattedMessage {...messages.modalDesc} />\n            {/* <Tooltip animated color=\"inherit\" right=\"62\" top=\"135\" direction=\"down\" onClick={(event) => this.downloadSample(event)}>*/}\n            {/* <Tooltip animated color=\"inherit\" right=\"100\" top=\"100\" direction=\"down\" onClick={(event) => this.downloadSample(event)}>*/}\n            <Tooltip animated color=\"inherit\" right=\"40\" top=\"5\" direction=\"down\" onClick={(event) => this.downloadSample(event)}>\n              <ImportStockInfoTooltip onClick={(event) => this.downloadSample(event)}>\n                <FormattedMessage {...messages.modalHelp} />\n              </ImportStockInfoTooltip>\n            </Tooltip>\n          </div>\n          {this.state.items && (\n            <p\n              style={{\n                marginTop: '20px',\n                fontSize: '0.6em',\n              }}\n            >\n              {this.state.items.length\n                ? <FormattedMessage {...messages.modalItems} values={{ items: this.state.items.length }} />\n                : <FormattedMessage {...messages.modalNoItems} />}\n            </p>\n          )}\n          {this.state.loading && (\n            <p\n              style={{\n                marginTop: '20px',\n                fontSize: '0.6em',\n              }}\n            >\n              <FormattedMessage {...messages.modalLoading} />\n            </p>\n          )}\n        </div>\n        {/* <p\n          style={{\n            position: 'absolute',\n            width: '200px',\n            top: '170px',\n            left: '210px',\n            fontSize: '0.6em',\n          }}\n        >\n          300 items found\n        </p>*/}\n      </DottedContainer>\n    );\n  }\n}\n\nModalDropZone.propTypes = {};\n\nexport default ModalDropZone;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React from 'react';\nimport styled from 'styled-components';\n// import Octicon from 'react-octicon';\n\nexport const InnerContainer = styled.div`\n  padding: 10px;\n  position: relative;\n  top: 5px;\n  display: inline-block;\n`;\n\nexport const SwitchLabel = styled.label`\n  align-items: center;\n  display: flex;\n`;\n\nexport const SwitchInput = styled.input`\n  display: none;\n  &:checked + div {\n    background-color: rgba(163, 168, 174, 0.5);\n    box-shadow: inset 0 0 18px rgba(0, 0, 0, 0.21);\n  }\n  &:checked + div::before {\n    transform: scale(0);\n  }\n  &:checked + div::after {\n    left: 22px;\n  }\n`;\n\nexport const SwitchCheckbox = styled.div`\n  background-color: rgba(163, 168, 174, 0.3);\n  border-radius: 22px;\n  cursor: pointer;\n  height: 22px;\n  position: relative;\n  transition: all 300ms ease;\n  width: 45px;\n\n  &::before {\n    content: '';\n    bottom: 0;\n    position: absolute;\n    left: 0;\n    top: 0;\n    transition: all 300ms ease;\n    background-color: rgba(163, 168, 174, 0.2);\n    box-shadow: none;\n    border-radius: inherit;\n    right: 0;\n    transform: scale(0);\n    margin: 2px;\n  }\n\n  &::after {\n    content: '';\n    bottom: 0;\n    position: absolute;\n    left: 0;\n    top: 0;\n    transition: all 300ms ease;\n    background-color: rgba(163, 168, 174, 0.3);\n    border: 0 solid #dedede;\n    border-radius: 22px;\n    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.45);\n    height: 22px;\n    margin-bottom: auto;\n    margin-top: auto;\n    position: absolute;\n    margin: auto 0;\n    width: 22px;\n  }\n`;\n\nexport const Checkbox = ({ type, defaultChecked, onChange }) => (\n  <InnerContainer>\n    <SwitchLabel>\n      <SwitchInput\n        type={type}\n        defaultChecked={defaultChecked}\n        onChange={({ target }) => onChange(target.checked)}\n      />\n      <SwitchCheckbox />\n    </SwitchLabel>\n  </InnerContainer>\n);\n\nexport default Checkbox;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport messages from '../messages';\nimport { OptionsContainer } from '../atoms/ModalContainer';\nimport { Checkbox } from '../atoms/Checkbox';\n\nexport class ModalOptions extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  // @todo archive is useful for historical research, it does archive the stock so it can still be used for researching\n  render() {\n    return (\n      <OptionsContainer>\n        <div style={{ display: 'inline-block', width: '50%' }}>\n          <Checkbox\n            defaultChecked={this.props.removeStockOption}\n            type=\"checkbox\"\n            style={{ marginRight: '5px' }}\n            onChange={(value) =>\n              this.props.updateModalOption('removeStock', value)\n            }\n          />\n          <label><FormattedMessage {...messages.modalOptionRemove} /></label>\n        </div>\n        <div\n          style={{ display: 'inline-block', width: '50%', paddingLeft: '20px' }}\n        >\n          <Checkbox\n            type=\"checkbox\"\n            defaultChecked={this.props.archiveStockOption}\n            style={{ marginRight: '5px' }}\n            onChange={(value) =>\n              this.props.updateModalOption('archiveStock', value)\n            }\n          />\n          <label><FormattedMessage {...messages.modalOptionArchive} /></label>\n          {/* <label>Validate Stock File</label>*/}\n        </div>\n      </OptionsContainer>\n    );\n  }\n}\n\nModalOptions.propTypes = {};\n\nexport default ModalOptions;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport {\n  downloadFile,\n} from 'containers/App/actions';\nimport ModalContainer from '../atoms/ModalContainer';\nimport DropZone from './ModalDropZone';\nimport Options from './ModalOptions';\nimport { createStock, updateModalOption } from '../actions';\nimport {\n  makeSelectStockModalRemoveOption,\n  makeSelectStockModalArchiveOption,\n} from '../selectors';\n\nexport class StockModal extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    return (\n      <ModalContainer>\n        <DropZone\n          enable={() => this.props.disableNext(false)}\n          disable={() => this.props.disableNext()}\n          onApproved={(...args) => this.props.onApproved(...args)}\n          {...this.props}\n          downloadFile={(...args) => this.props.downloadFile(...args)}\n        />\n        <Options {...this.props} />\n      </ModalContainer>\n    );\n  }\n}\n\nStockModal.propTypes = {};\n\nconst mapStateToProps = createStructuredSelector({\n  removeStockOption: makeSelectStockModalRemoveOption(),\n  archiveStockOption: makeSelectStockModalArchiveOption(),\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    createStock: (...args) => dispatch(createStock(...args)),\n    updateModalOption: (...args) => dispatch(updateModalOption(...args)),\n    downloadFile: (content, fileName, mime) =>\n      dispatch(downloadFile({ content, fileName, mime })),\n\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(StockModal);\n","import * as ActionTypes from './types';\n\nexport function createAddOperation(stock, operation = {}) {\n    return {\n        type: ActionTypes.CREATE_ADD_OPERATION_ACTION,\n        data: {\n            stock,\n            ...operation,\n            operation: 'add'\n        }\n    };\n}\n\nexport function createRemoveOperation(stock, operation = {}) {\n    return {\n        type: ActionTypes.CREATE_REMOVE_OPERATION_ACTION,\n        data: {\n            stock,\n            ...operation,\n            operation: 'remove'\n        }\n    };\n}\n\n\nexport function updateTicketPayment(payment) {\n    return {\n        type: ActionTypes.UPDATE_TICKET_PAYMENT_ACTION,\n        data: payment\n    };\n}\n\nexport function addVoucherPaymentAmount(voucherId) {\n    return {\n        type: ActionTypes.ADD_VOUCHER_PAYMENT_AMOUNT_ACTION,\n        data: voucherId\n    };\n}\n\nexport function addVoucherPaymentAmountSuccess(voucherAmount) {\n    return {\n        type: ActionTypes.ADD_VOUCHER_PAYMENT_AMOUNT_SUCCESS_ACTION,\n        data: voucherAmount\n    };\n}\n\nexport function addVoucherPaymentAmountError(voucherAmountError) {\n    return {\n        type: ActionTypes.ADD_VOUCHER_PAYMENT_AMOUNT_ERROR_ACTION,\n        data: voucherAmountError\n    };\n}\n\nexport function removeVoucherPaymentAmount() {\n    return {\n        type: ActionTypes.REMOVE_VOUCHER_PAYMENT_AMOUNT_ACTION\n    };\n}\n\nexport function createTicket(ticket, settings) {\n    return {\n        type: ActionTypes.CREATE_TICKET_ACTION,\n        data: { ticket, settings }\n    };\n}\n\nexport function createTicketSuccess(ticket) {\n    return {\n        type: ActionTypes.CREATE_TICKET_SUCCESS_ACTION,\n        data: ticket\n    };\n}\n\nexport function loadTicket(value, field = 'id') {\n    return {\n        type: ActionTypes.LOAD_TICKET_ACTION,\n        data: { value, field }\n    };\n}\n\nexport function removeTicket() {\n    return {\n        type: ActionTypes.REMOVE_TICKET_ACTION,\n    };\n}\n\nexport function loadTicketSuccess(ticket) {\n    return {\n        type: ActionTypes.LOAD_TICKET_SUCCESS_ACTION,\n        data: ticket\n    };\n}\n\nexport function getTicketMatches(field, value) {\n    return {\n        type: ActionTypes.GET_TICKET_MATCHES_ACTION,\n        data: { field, value }\n    };\n}\n\nexport function getTicketMatchesError(error) {\n    return {\n        type: ActionTypes.GET_TICKET_MATCHES_ERROR_ACTION,\n        data: error\n    };\n}\n\nexport function getTicketMatchesSuccess(matches) {\n    return {\n        type: ActionTypes.GET_TICKET_MATCHES_SUCCESS_ACTION,\n        data: matches\n    };\n}\n\nexport function printDailySummaryTicket(settings) {\n    return {\n        type: ActionTypes.PRINT_DAILY_SUMMARY_TICKET_ACTION,\n        data: settings\n    };\n}","import {\n  DEFAULT_DECIMAL_PLACES,\n  ADD_ITEM_OPERATION,\n  REMOVE_ITEM_OPERATION,\n  DISCOUNT_PERCENTAGE_TYPE,\n  DISCOUNT_FIXED_TYPE,\n  DEFAULT_SCHEMA_TYPE,\n  PAYMENT_METHOD_CREDIT_CARD,\n  PAYMENT_METHOD_CASH,\n  PAYMENT_METHOD_VOUCHER,\n  DEFAULT_CURRENCY\n} from 'config';\n\nexport const formatDecimalPlaces = (number, decimals = DEFAULT_DECIMAL_PLACES) => number.toFixed(decimals);\n\nexport function formatPrice(amount, currency = DEFAULT_CURRENCY) {\n  return `${formatDecimalPlaces(amount)}${currency}`;\n}\n\nfunction abbrv(type, value) {\n  switch (type) {\n    case 'COLORS':\n    case 'GENDER':\n    case 'BRAND':\n      return value ? value.substring(0, 3) : '';\n    case 'DESC':\n      return value ? value.substring(0, 10) : '';\n    default:\n      return value;\n  }\n}\n\nexport function formatDescription(item) {\n  if (DEFAULT_SCHEMA_TYPE === 'SCHEMA_BASIC') {\n    return `${abbrv('DESC', item.desc)}`;\n  }\n  return `${abbrv('BRAND', item.brand)}-${item.colors.map((c) => abbrv('COLORS', c)).join()} (${\n    item.size\n    }-${abbrv('BRAND', item.gender)})`;\n}\n\nexport const getAmount = ({ operation, amount }) => {\n  if (operation === ADD_ITEM_OPERATION) {\n    return amount\n  }\n\n  if (operation === REMOVE_ITEM_OPERATION) {\n    return - amount\n  }\n}\n\nexport const getSubtotal = ({ stock, operation, amount, discountType, discountValue }) => {\n  if (!operation) {\n    return 0;\n  }\n\n  let subtotal = amount * stock.price;\n\n  if (discountType === DISCOUNT_PERCENTAGE_TYPE) {\n    subtotal *= (1 - discountValue / 100);\n  }\n  else if (discountType === DISCOUNT_FIXED_TYPE) {\n    subtotal -= discountValue;\n  }\n\n  if (subtotal > (amount * stock.price) || subtotal <= 0) {\n    return 0;\n  }\n\n  if (operation === ADD_ITEM_OPERATION) {\n    return subtotal\n  }\n\n  if (operation === REMOVE_ITEM_OPERATION) {\n    return - subtotal\n  }\n\n  throw new Error(`operation type \"${operation}\" unknown, use \"${ADD_ITEM_OPERATION}\" or \"${REMOVE_ITEM_OPERATION}\"`)\n}\n\nconst getPaymentAmount = (payments, paymentMethod, field = 'amount') => {\n  const payment = payments.find(({ method }) => method === paymentMethod);\n  if (payment) {\n    return payment[field];\n  }\n  return null;\n}\n\nexport const getCreditCardPaymentAmount = (payments) =>\n  getPaymentAmount(payments, PAYMENT_METHOD_CREDIT_CARD);\n\nexport const getCashPaymentAmount = (payments) =>\n  getPaymentAmount(payments, PAYMENT_METHOD_CASH);\n\nexport const getVoucherPaymentAmount = (payments) =>\n  getPaymentAmount(payments, PAYMENT_METHOD_VOUCHER);\n\nexport const getVoucherPaymentConcept = (payments) =>\n  getPaymentAmount(payments, PAYMENT_METHOD_VOUCHER, 'concept');\n\nexport const parseOperations = (history, operations) => {\n\n  // Merge all history operations as an object \n  // composing previousAddedAmount & previousRemovedAmount fields\n  // which contains all previous sold and returned amounts so far\n  const mergedOperations = history.reduce((acc, { stock, discountValue,\n    discountType, operation, amount }) => {\n    const existingOperation = acc[stock.reference];\n    if (existingOperation) {\n      return {\n        ...acc,\n        [stock.reference]: {\n          ...existingOperation,\n          ...(operation === ADD_ITEM_OPERATION && {\n            previousAddedAmount: amount + existingOperation.previousAddedAmount\n          }),\n          ...(operation === REMOVE_ITEM_OPERATION && {\n            previousRemovedAmount: amount + existingOperation.previousRemovedAmount\n          })\n        }\n      };\n    }\n\n    return {\n      ...acc,\n      [stock.reference]: {\n        stock,\n        discountValue,\n        discountType,\n        addedAmount: 0,\n        removedAmount: 0,\n        previousAddedAmount: 0,\n        previousRemovedAmount: 0,\n        ...(operation === ADD_ITEM_OPERATION && { previousAddedAmount: amount }),\n        ...(operation === REMOVE_ITEM_OPERATION && {\n          previousRemovedAmount: amount\n        })\n      }\n    };\n  }, {});\n\n  // Add the current amount and return fields with the info\n  // about current s\n  for (let { stock, discountValue,\n    discountType, operation, amount } of operations) {\n\n    const currentOperation = mergedOperations[stock.reference];\n\n    if (currentOperation) {\n      mergedOperations[stock.reference] = {\n        ...currentOperation,\n        discountValue,\n        discountType,\n        ...(operation === ADD_ITEM_OPERATION && { addedAmount: amount + currentOperation.addedAmount, operation }),\n        ...(operation === REMOVE_ITEM_OPERATION && {\n          removedAmount: amount + currentOperation.removedAmount,\n          operation\n        })\n      };\n    }\n    else {\n      mergedOperations[stock.reference] = {\n        stock,\n        discountValue,\n        discountType,\n        isNewEntry: true,\n        addedAmount: 0,\n        removedAmount: 0,\n        ...(operation === ADD_ITEM_OPERATION && { addedAmount: amount }),\n        ...(operation === REMOVE_ITEM_OPERATION && {\n          removedAmount: amount\n        }),\n        operation: ADD_ITEM_OPERATION,\n        previousAddedAmount: 0,\n        previousRemovedAmount: 0\n      };\n    }\n\n  }\n\n  return Object.values(mergedOperations);\n}\n\nexport const marshallTicket = ({\n  isChecked,\n  isGift,\n  isVoucher,\n  balance,\n  prevNode,\n  nextNode,\n  payments,\n  operations }) => ({\n    isChecked,\n    isGift,\n    isVoucher,\n    balance,\n    prevNode,\n    nextNode,\n    payments,\n    operations\n  })","/*\n * AppConstants\n * Each action has a corresponding type, which the reducer knows and picks up on.\n * To avoid weird typos between the reducer and the actions, we save them as\n * constants here. We prefix them with 'yourproject/YourComponent' so we avoid\n * reducers accidentally picking up actions they shouldn't.\n *\n * Follow this format:\n * export const YOUR_ACTION_CONSTANT = 'yourproject/YourContainer/YOUR_ACTION_CONSTANT';\n */\n\nexport const DEFAULT_LOCALE = 'en';\nexport const CHANGE_TOTAL_AMOUNT = 'kalzate/App/CHANGE_TOTAL_AMOUNT';\nexport const CHANGE_TAKE_AMOUNT = 'kalzate/App/CHANGE_TAKE_AMOUNT';\nexport const CHANGE_RESOURCE_SELECTED = 'octoql/App/CHANGE_RESOURCE_SELECTED';\nexport const ADD_RESOURCE = 'octoql/App/ADD_RESOURCE';\n\nexport const DOWNLOAD_FILE_ACTION = 'kalzate/App/DOWNLOAD_FILE_ACTION';\nexport const DOWNLOAD_FILE_ERROR_ACTION =\n  'kalzate/App/DOWNLOAD_FILE_ERROR_ACTION';\n","/** ****************************************************************************/\n/*                                                                             */\n/*    SETTINGS CONSTANTS                                                       */\n/*                                                                             */\n/** ****************************************************************************/\nexport const DEFAULT_COUNTRY = 'spain';\nexport const DEFAULT_LOCALE = 'en';\nexport const DEFAULT_TIMEZONE = 'Europe/Madrid';\nexport const DEFAULT_CURRENCY = '';\nexport const DEFAULT_NAME = 'Kalzate';\nexport const DEFAULT_THEME = 'monokai';\nexport const DEFAULT_EMAIL = 'zurisadai.pabon@gmail.com';\nexport const DEFAULT_PHONE = '+34610601389';\nexport const DEFAULT_PRINTER_NAME = 'TERMICA';\nexport const DEFAULT_BACKUP_FRECUENCY = 'daily';\n// export const DEFAULT_TICKET_TEMPLATE =\n//   '\\r\\n             SHOES STORE ${info.name}\\r\\n\\r\\n Address: ${info.address}\\r\\n Email: ${info.email}\\r\\n Phone: ${info.phone}\\r\\n Date: ${_.dateFormat(ticket.date, \"dd/mm/yyyy HH:MM\")}\\r\\n\\r\\n Ticket: ${ticket.code}\\r\\n\\r\\n--------------------------------------------\\r\\n Item                   U.   PSP    Subtotal\\r\\n--------------------------------------------\\r\\n${ticket.items(({description, amount, price, subtotal}) => ` ${description}${amount}${price}${subtotal}`, {padding: {description: 23, amount: 5, price: 7, subtotal: 7}})}\\r\\n--------------------------------------------\\r\\n                          TOTAL: ${ticket.total}\\r\\n                         (TAXES included)\\r\\n\\r\\n Method: ${ticket.payment}, Amount: ${ticket.total_input}\\r\\n\\r\\n RETURNS ADMITTED BETWEEN ${_.dateFormat(ticket.date, \"dd/mm/yyyy\")} AND ${_.dateFormat(_.addDays(ticket.date, 15), \"dd/mm/yyyy\")} \\r\\n\\r\\n *** THANKS FOR SHOPPING AT ${info.name} ***\\r\\n\\r\\n-   -   -   -   -   -   -   -   -   -   -';\nexport const DB_OPTIONS = {};\nexport const DEFAULT_SCHEMA_TYPE = 'SCHEMA_BASIC';\nexport const DEFAULT_TICKET_TEMPLATE = `MY STORE {{shop name}}\n\n  Address: {{shop address}}\n  Email: {{shop email}}\n  Phone: {{shop phone}}\n  Date: {{ticket date \"dd/mm/yyyy HH:MM\"}}\n \n  Ticket: {{ticket code}}\n  Category: {{ticket category}}\n \n --------------------------------------------\n  Item                   U.   PSP    Subtotal\n --------------------------------------------\n {{ticket items [\"description\", \"amount\", \"price\", \"subtotal\"] [23, 5, 7, 7] [1, 0]}}\n --------------------------------------------\n                           TOTAL: {{ticket total}}\n \n  {{ticket payment}}\n  Amount: {{ticket given}},\n  Return: {{ticket return}}\n \n  RETURNS BETWEEN {{ticket date \"dd/mm/yyyy\"}} AND {{ticket return_date 15 \"dd/mm/yyyy\"}} \n \n  *** THANKS FOR SHOPPING AT {{shop name}} ***\n \n -   -   -   -   -   -   -   -   -   -   -`;\n\nexport const DEFAULT_STOCK_ITEMS_LIMIT = 50;\nexport const DEFAULT_DECIMAL_PLACES = 2;\nexport const DEFAULT_RETURN_TICKET_DAYS_ALLOWED = 15;\nexport const COUNTRY_SETTING = 'country';\nexport const CURRENCY_SETTING = 'currency';\nexport const LANG_SETTING = 'lang';\nexport const THEME_SETTING = 'theme';\nexport const TIMEZONE_SETTING = 'timezone';\nexport const NAME_SETTING = 'name';\nexport const ADDRESS_SETTING = 'address';\nexport const EMAIL_SETTING = 'email';\nexport const PHONE_SETTING = 'phone';\nexport const PRINTER_NAME_SETTING = 'printerName';\nexport const PRINTER_IP_SETTING = 'printerIP';\nexport const TICKET_TEMPLATE_SETTING = 'ticketTemplate';\nexport const BACKUP_FRECUENCY_SETTING = 'backupFrecuency';\nexport const BACKUP_LOCATION_SETTING = 'backupLocation';\nexport const ANALYTICS_SERVER_SETTING = 'analyticsServer';\n\nexport const DEFAULT_SETTINGS = {\n  [COUNTRY_SETTING]: DEFAULT_COUNTRY,\n  [CURRENCY_SETTING]: DEFAULT_CURRENCY,\n  [LANG_SETTING]: DEFAULT_LOCALE,\n  [THEME_SETTING]: DEFAULT_THEME,\n  [TIMEZONE_SETTING]: DEFAULT_TIMEZONE,\n  [NAME_SETTING]: DEFAULT_NAME,\n  [ADDRESS_SETTING]: '',\n  [EMAIL_SETTING]: DEFAULT_EMAIL,\n  [PHONE_SETTING]: DEFAULT_PHONE,\n  [PRINTER_NAME_SETTING]: DEFAULT_PRINTER_NAME,\n  [PRINTER_IP_SETTING]: '',\n  [TICKET_TEMPLATE_SETTING]: DEFAULT_TICKET_TEMPLATE,\n  [BACKUP_FRECUENCY_SETTING]: DEFAULT_BACKUP_FRECUENCY,\n  [BACKUP_LOCATION_SETTING]: '',\n  [ANALYTICS_SERVER_SETTING]: '',\n};\n\n/** ****************************************************************************/\n/*                                                                             */\n/*    PAYMENT CONSTANTS                                                        */\n/*                                                                             */\n/** ****************************************************************************/\nexport const PAYMENT_METHOD_CREDIT_CARD = 'payment_method_credit_card';\nexport const PAYMENT_METHOD_PHONE = 'payment_method_phone';\nexport const PAYMENT_METHOD_CASH = 'payment_method_cash';\nexport const PAYMENT_METHOD_TICKET = 'payment_method_ticket';\nexport const PAYMENT_METHOD_VOUCHER = 'payment_method_voucher';\n\n/** ****************************************************************************/\n/*                                                                             */\n/*    TICKETS CONSTANTS                                                        */\n/*                                                                             */\n/** ****************************************************************************/\nexport const TICKET_SAVE_STATE = 'TICKET_SAVE_STATE';\nexport const TICKET_SOLD_STATE = 'TICKET_SOLD_STATE';\nexport const TICKET_RETURN_STATE = 'TICKET_RETURN_STATE';\n\nexport const TICKET_POSITIVE_BALANCE = 'positive';\nexport const TICKET_NEGATIVE_BALANCE = 'negative';\nexport const DEFAULT_TICKET_ITEMS_LIMIT = 50;\n\nexport const ADD_ITEM_OPERATION = 'add';\nexport const REMOVE_ITEM_OPERATION = 'remove';\nexport const DISCOUNT_PERCENTAGE_TYPE = 'percentage';\nexport const DISCOUNT_FIXED_TYPE = 'fixed';\n\n/** ****************************************************************************/\n/*                                                                             */\n/*    LOADING CONSTANTS                                                        */\n/*                                                                             */\n/** ****************************************************************************/\nexport const STATE_LOADING_START = 'ui/STATE_LOADING_START';\nexport const STATE_LOADING_DONE = 'ui/STATE_LOADING_DONE';\nexport const STATE_LOADING_FAILED = 'ui/STATE_LOADING_FAILED';\n","/*\n * StockItems Messages\n *\n * This contains all the text for the StockItems component.\n */\nimport { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  notFound: {\n    id: 'kz.containers.StockItems.notFound',\n    defaultMessage: \"Hey, Looks as there's no Items!\",\n  },\n  notFoundHelp: {\n    id: 'kz.containers.StockItems.notFoundHelp',\n    defaultMessage: 'Try adding a new one or changing the searching criterias.',\n  },\n  modalTitle: {\n    id: 'kz.containers.StockItems.modal.title',\n    defaultMessage: 'Drop stock file here',\n  },\n  modalDesc: {\n    id: 'kz.containers.StockItems.modal.desc',\n    defaultMessage: 'Use a csv, json or yaml file extension',\n  },\n  modalItems: {\n    id: 'kz.containers.StockItems.modal.items',\n    defaultMessage: '{items} items found',\n  },\n  modalNoItems: {\n    id: 'kz.containers.StockItems.modal.noItems',\n    defaultMessage: 'No items found',\n  },\n  modalHelp: {\n    id: 'kz.containers.StockItems.modal.help',\n    defaultMessage: 'Need Help ? Download a stock file sample here',\n  },\n  modalLoading: {\n    id: 'kz.containers.StockItems.modal.loading',\n    defaultMessage: 'Please wait, I\\'m on it',\n  },\n  modalOptionRemove: {\n    id: 'kz.containers.StockItems.modal.option.remove',\n    defaultMessage: 'Remove Current Stock',\n  },\n  modalOptionArchive: {\n    id: 'kz.containers.StockItems.modal.option.archive',\n    defaultMessage: 'Archive Current Stock',\n  },\n  paginationOf: {\n    id: 'kz.containers.StockItems.pagination.of',\n    defaultMessage: 'of',\n  },\n  reference: {\n    id: 'kz.containers.StockItems.table.reference',\n    defaultMessage: 'Reference',\n  },\n  brand: {\n    id: 'kz.containers.StockItems.table.brand',\n    defaultMessage: 'Brand',\n  },\n  gender: {\n    id: 'kz.containers.StockItems.table.gender',\n    defaultMessage: 'Gender',\n  },\n  color: {\n    id: 'kz.containers.StockItems.table.color',\n    defaultMessage: 'Color',\n  },\n  size: {\n    id: 'kz.containers.StockItems.table.size',\n    defaultMessage: 'Size',\n  },\n  price: {\n    id: 'kz.containers.StockItems.table.price',\n    defaultMessage: 'Price',\n  },\n  amount: {\n    id: 'kz.containers.StockItems.table.amount',\n    defaultMessage: 'Amount',\n  },\n});\n","if(typeof esprima === 'undefined') {var e = new Error(\"Cannot find module 'esprima'\"); e.code = 'MODULE_NOT_FOUND'; throw e;}\nmodule.exports = esprima;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n\n  if (window.location.protocol === 'file:') {\n    // `file:` should be ignored for some none-browser environment, such as `Electron`.\n    return;\n  }\n  \n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","export const SCHEMA_BASIC = 'SCHEMA_BASIC';\nexport const SCHEMA_SHOES = 'SCHEMA_SHOES';\nexport const SCHEMA_RESTAURANT = 'SCHEMA_RESTAURANT';\n","export default {\n  title: 'stock schema',\n  version: 0,\n  description: 'describes an stock document',\n  type: 'object',\n  properties: {\n    created_at: {\n      type: 'number',\n      index: true,\n    },\n    id: {\n      type: 'string',\n      primary: true,\n      final: true,\n    },\n    reference: {\n      type: 'string',\n      index: true,\n      final: true,\n    },\n    brand: {\n      type: 'string',\n    },\n    size: {\n      type: 'number',\n    },\n    price: {\n      type: 'number',\n    },\n    amount: {\n      type: 'number',\n    },\n    gender: {\n      type: 'string',\n    },\n    colors: {\n      type: 'array',\n      uniqueItems: true,\n      item: {\n        type: 'string',\n      },\n    },\n    sold: {\n      type: 'number',\n      default: 0,\n      index: true,\n    },\n  },\n};\n","export const DEFAULT_LIMIT_AMOUNT = 5;\n","/**\n * @class NoDatabaseFoundError\n * @desc throws when there no database is found\n */\nexport class NoDatabaseFoundError extends Error {\n  constructor(e = { message: '' }) {\n    super();\n    this.title = 'Database could not be found';\n    this.code = 'NoDatabaseFoundError';\n    this.message = e.message || this.title;\n  }\n}\n","/**\n * @class NoStockCreatedError\n * @desc throws when stock cannot be created\n */\nexport class NoStockCreatedError extends Error {\n  constructor(e = { message: '' }, stock = {}) {\n    super(e);\n    this.title = 'Stock could not be created';\n    this.code = 'NoStockCreatedError';\n    this.data = stock;\n    this.message = `Stock ${JSON.stringify(\n      stock\n    )} could not be created. Please, check extra info: ${e.message}`;\n  }\n}\n\n/**\n * @class NoStockUpdatedError\n * @desc throws when stock cannot be updated\n */\nexport class NoStockUpdatedError extends Error {\n  constructor(e = { message: '' }, stock = {}) {\n    super(e);\n    this.title = 'Stock could not be updated';\n    this.code = 'NoStockUpdatedError';\n    this.data = stock;\n    this.message = `Stock ${JSON.stringify(\n      stock\n    )} could not be updated. To update an stock, it has to exist and fit the stock schema. Have a look a it on src/models/stock/schema.js. Please, check extra info: ${\n      e.message\n    }`;\n  }\n}\n\n/**\n * @class NoStockMatchesFoundError\n * @desc throws when no matches are found\n */\nexport class NoStockMatchesFoundError extends Error {\n  constructor(e = { message: '' }, field = '', value = '') {\n    super(e);\n    this.title = 'Stock matches not found';\n    this.code = 'NoStockMatchesFoundError';\n    this.data = { field, value };\n    this.message = `No matches found for field \"${field}\" with value ${value}.Please, check extra info: ${\n      e.message\n    }`;\n  }\n}\n\n/**\n * @class QueryStockError\n * @desc throws when no matches are found\n */\nexport class QueryStockError extends Error {\n  constructor(e = { message: '' }, query = '') {\n    super(e);\n    this.title = 'Stock query could not be executed';\n    this.code = 'QueryStockError';\n    this.data = { query, e };\n    this.message = `Stock Query did not run.Please, check extra info: \n    ${JSON.stringify(query)}\n    Error: ${e.message}`;\n  }\n}\n","/**\n * Use mongo as model\n */\n// More sold\n// More expensive\n// Cheapest Stocks\n// Has discount (offer)\n// last sold\n// Cat Women\n// Cat Men\n// Cat Children\n// All\nimport { isRxCollection, isRxDatabase } from 'rxdb';\nimport { isArray, merge, uniqBy, first } from 'lodash';\nimport uuidv1 from 'uuid/v1';\nimport schema from './schema';\nimport { DEFAULT_LIMIT_AMOUNT } from './config';\nimport { NoDatabaseFoundError } from '../../errors/db';\nimport {\n  NoStockCreatedError,\n  NoStockUpdatedError,\n  NoStockMatchesFoundError,\n  QueryStockError,\n} from '../../errors/stock';\nexport class Stock {\n  //   static queries = {\n  //     MORE_SOLD: { order: 'times_sold', desc: true },\n  //     MORE_EXPENSIVE: {},\n  //     LAST_SOLD: { order: 'last_sold_date', desc: true },\n  //     BY_WOMEN: { where: 'category == \"women\"' },\n  //     BY_MEN: { where: 'category == \"women\"' },\n  //     BY_CHILDREN: { where: 'category == \"children\"' },\n  //     ALL: {},\n  //   };\n  defaults = { limit: DEFAULT_LIMIT_AMOUNT, skip: 0 };\n  queries = {\n    fullStock: () => ({\n      limit: Number.MAX_SAFE_INTEGER,\n    }),\n    topSold: () => ({\n      match: {\n        // MATCH DOES NOT WORK ALONG WITH SORT!!!\n        sold: {\n          $gte: 1,\n        },\n      },\n      limit: 10,\n      skip: 0,\n      sort: { sold: -1 },\n    }),\n    topNotSold: () => ({\n      match: {\n        // MATCH DOES NOT WORK ALONG WITH SORT!!!\n        sold: {\n          $gte: 1,\n        },\n      },\n      limit: 10,\n      skip: 0,\n      sort: {\n        sold: 1,\n      },\n    }),\n    topEmptyStock: () => ({\n      match: {\n        amount: {\n          $eq: 0,\n        },\n      },\n      limit: 10,\n      skip: 0,\n    }),\n  };\n\n  constructor(db, collection) {\n    if (!isRxDatabase(db)) {\n      throw new Error('A valid RxDatabase is required!');\n    }\n    if (!isRxCollection(collection)) {\n      throw new Error('A valid RxCollection is required!');\n    }\n    this.db = db;\n    this.collection = collection;\n  }\n\n  /**\n   * @method query\n   * Get the list of stock filtered by a given query\n   * @param {object} tickets query\n   */\n  async query(query) {\n    try {\n      return await this.get(query);\n    } catch (e) {\n      throw new QueryStockError(e, query);\n    }\n  }\n\n  /**\n   * @method create\n   * Cretes a new stock document\n   * @param {array|object} stock/s item/s\n   * @param {object} options\n   */\n  async create(stock, options) {\n    try {\n      return await (isArray(stock)\n        ? this.createBatch(stock, options)\n        : this.createOne(stock, options));\n    } catch (e) {\n      throw new NoStockCreatedError(e, stock);\n    }\n  }\n\n  /**\n   * @method update\n   * This updates an stock item. it has to exists and fit the schema\n   * @param {object} stock\n   */\n  async update(stock = {}) {\n    try {\n      await this.fetchById(stock);\n      // @todo Should we return this.upsert or await this.upsert ?\n      return await this.upsert(stock);\n    } catch (e) {\n      throw new NoStockUpdatedError(e, stock);\n    }\n  }\n\n  /**\n   * @method increaseAmount\n   * This updates an stock item amount by increasing it. it has to exists and fit the schema\n   * @param {object} stock\n   */\n  async increaseAmount(stock = {}) {\n    try {\n      const currentStock = first(await this.fetchById(stock));\n      // @todo Should we return this.upsert or await this.upsert ?\n      return await this.upsert({\n        ...currentStock._data,\n        amount: currentStock.amount + stock.amount,\n      });\n    } catch (e) {\n      throw new NoStockUpdatedError(e, stock);\n    }\n  }\n\n  /**\n   * @method decreaseAmount\n   * This updates an stock item amount by decreasing it. it has to exists and fit the schema\n   * @param {object} stock\n   */\n  async decreaseAmount(stock = {}) {\n    try {\n      const currentStock = first(await this.fetchById(stock));\n      // @todo Should we return this.upsert or await this.upsert ?\n      return await this.upsert({\n        ...currentStock._data,\n        amount: currentStock.amount - stock.amount,\n        sold: currentStock.sold + stock.amount,\n      });\n    } catch (e) {\n      throw new NoStockUpdatedError(e, stock);\n    }\n  }\n\n  /**\n   * @method get\n   * This fetches the stock items given a filter\n   * @param {object} {match, limit, skip, count, sort}\n   */\n  async get({\n    match,\n    limit = this.defaults.limit,\n    skip = this.defaults.skip,\n    count = true,\n    sort = { created_at: 'desc' },\n  } = {}) {\n    const foundStocks = this.collection\n      .find(match)\n      .limit(limit)\n      .skip(skip)\n      .sort(sort)\n      .exec();\n    if (!count) return foundStocks;\n    const totalAmount = new Promise(async (resolve) => {\n      const allStocks = await this.collection.find(match).exec();\n      resolve(allStocks.length);\n    });\n    const [items, total] = await Promise.all([foundStocks, totalAmount]);\n    return { items, total, limit, skip };\n  }\n\n  /**\n   * @method matches\n   * This looks for a all stock items maching the field and value given\n   * @param {string} field\n   * @param {string} value\n   */\n  async matches(field, value) {\n    try {\n      if (!value) return { value, items: [] };\n      const matches = await this.get({\n        match: { [field]: { $regex: new RegExp(`^${value}`) } },\n      });\n      // return { ...matches, value, items: matches.items.map((i) => i[field]) };\n      return { value, items: matches.items.map((i) => i[field]) };\n    } catch (e) {\n      throw new NoStockMatchesFoundError(e, field, value);\n    }\n  }\n\n  /**\n   * @method remove\n   * This removes an item by reference\n   * @param {string} reference\n   */\n  async remove(reference) {\n    return this.collection.findOne({ reference: { $eq: reference } }).remove();\n  }\n\n  /**\n   * @method remove\n   * This removes an item by reference\n   * @param {string} reference\n   */\n  async removeAll() {\n    await this.collection.remove();\n    this.collection = await this.db.collection({\n      name: 'stock',\n      schema,\n    });\n  }\n\n  /**\n   * @method dump\n   * This is a method to export the collection as JSON data\n   * @param {boolean} decrypt\n   */\n  async dump(decrypt = true) {\n    return this.collection.dump(decrypt);\n  }\n\n  /**\n   * @method formatDescription\n   * Formats an stock item description from its brand, color, size and gender\n   * @param {object} item\n   * @return {string}\n   */\n  formatDescription(item) {\n    return `${this.abbrv('BRAND', item.brand)}-${item.colors\n      .map((c) => this.abbrv('COLORS', c))\n      .join()} (${item.size}-${this.abbrv('BRAND', item.gender)})`;\n  }\n  // async query({ select, where, limit, offset, order }) {\n  //   return this.collection.find()\n  // }\n  //   async count({ where }) {}\n  //   async paginate({ select, where, limit, order }) {\n  //     const count = await this.count({ where });\n  // if(count <= limit) yield await this.query({select, where, order});\n  // let offset = 0;\n  // while (count > offset) {\n  //   const { Stocks } = await this.query({ select, where, order, limit, offset });\n  //   //   yield Stocks;\n  //   offset += limit;\n  // }\n  //   }\n  // async import(json) {\n  //   return this.collection.importDump(json);\n  // }\n\n  /** ***************************************************** */\n  /*                  PRIVATE METHODS                      */\n  /** ***************************************************** */\n\n  async createBatch(stock = [], options = {}) {\n    if (!stock.length) {\n      throw new Error('stock items is empty');\n    }\n\n    if (options.remove) {\n      await this.removeAll();\n    }\n    // this.collection.pouch.bulkDocs\n    // this.collection.pouch.allDocs\n    const createOnePromises = uniqBy(stock, 'reference').map((s) => this.createOne(s, true));\n    // const createOnePromises = stock.map((s) => this.createOne(s, true));\n    return Promise.all(createOnePromises);\n  }\n\n  async createOne(stock = {}, orUpdate = false) {\n    if (!stock || !stock.reference || !stock.price || stock.price <= 0) {\n      throw new Error('Stock requires reference and price');\n    }\n    const isStockCreated = await this.collection\n      .find({ reference: { $eq: stock.reference } })\n      .exec();\n    if (!isStockCreated.length) {\n      return this.upsert(merge(stock, { id: uuidv1(), created_at: new Date().getTime(), sold: 0 }));\n    }\n    if (!orUpdate) {\n      throw new Error('Stock already exists');\n    }\n    return this.upsert(\n      merge(stock, {\n        id: isStockCreated[0].id,\n        created_at: isStockCreated[0].created_at,\n        amount: (isStockCreated[0].amount || 0) + (stock.amount || 0),\n      })\n    );\n  }\n\n  async upsert(stock) {\n    return this.collection.atomicUpsert(stock);\n  }\n\n  async fetchById(stock) {\n    if (!stock || !stock.id) {\n      throw new Error('Stock requires an id field to be updated');\n    }\n    // Remove find check to allow creating a new stock if it does not exist\n    const currentStock = await this.collection.find({ id: { $eq: stock.id } }).exec();\n    if (!currentStock.length) {\n      throw new Error('Stock to be updated does not exists');\n    }\n    return currentStock;\n  }\n\n  abbrv(type, value) {\n    switch (type) {\n      case 'COLORS':\n      case 'GENDER':\n      case 'BRAND':\n        return value ? value.substring(0, 3) : '';\n      default:\n        return value;\n    }\n  }\n}\n\nexport default async function(db) {\n  if (!db) throw new NoDatabaseFoundError();\n  // Create or Retrieve collection first\n  const collection = db.collections.stock\n    ? db.collections.stock\n    : await db.collection({\n        name: 'stock',\n        schema,\n      });\n  // Return an Stock instance\n  return new Stock(db, collection);\n}\n","export default {\n  title: 'stock schema',\n  version: 0,\n  description: 'describes an stock document',\n  type: 'object',\n  properties: {\n    created_at: {\n      type: 'number',\n      index: true,\n    },\n    id: {\n      type: 'string',\n      primary: true,\n      final: true,\n    },\n    reference: {\n      type: 'string',\n      index: true,\n      final: true,\n    },\n    brand: {\n      type: 'string',\n    },\n    price: {\n      type: 'number',\n    },\n    amount: {\n      type: 'number',\n    },\n    desc: {\n      type: 'string',\n    },\n    sold: {\n      type: 'number',\n      default: 0,\n      index: true,\n    },\n  },\n};\n","export const DEFAULT_LIMIT_AMOUNT = 5;\n","/**\n * Use mongo as model\n */\n// More sold\n// More expensive\n// Cheapest Stocks\n// Has discount (offer)\n// last sold\n// Cat Women\n// Cat Men\n// Cat Children\n// All\nimport { isRxCollection, isRxDatabase } from 'rxdb';\nimport { isArray, merge, uniqBy, first } from 'lodash';\nimport uuidv1 from 'uuid/v1';\nimport schema from './schema';\nimport { DEFAULT_LIMIT_AMOUNT } from './config';\nimport { NoDatabaseFoundError } from '../../errors/db';\nimport {\n  NoStockCreatedError,\n  NoStockUpdatedError,\n  NoStockMatchesFoundError,\n  QueryStockError,\n} from '../../errors/stock';\n\nexport class StockBasic {\n  //   static queries = {\n  //     MORE_SOLD: { order: 'times_sold', desc: true },\n  //     MORE_EXPENSIVE: {},\n  //     LAST_SOLD: { order: 'last_sold_date', desc: true },\n  //     BY_WOMEN: { where: 'category == \"women\"' },\n  //     BY_MEN: { where: 'category == \"women\"' },\n  //     BY_CHILDREN: { where: 'category == \"children\"' },\n  //     ALL: {},\n  //   };\n  defaults = { limit: DEFAULT_LIMIT_AMOUNT, skip: 0 };\n  queries = {\n    fullStock: () => ({\n      limit: Number.MAX_SAFE_INTEGER,\n    }),\n    topSold: () => ({\n      match: {\n        // MATCH DOES NOT WORK ALONG WITH SORT!!!\n        sold: {\n          $gte: 1,\n        },\n      },\n      limit: 10,\n      skip: 0,\n      sort: { sold: -1 },\n    }),\n    topNotSold: () => ({\n      match: {\n        // MATCH DOES NOT WORK ALONG WITH SORT!!!\n        sold: {\n          $gte: 1,\n        },\n      },\n      limit: 10,\n      skip: 0,\n      sort: {\n        sold: 1,\n      },\n    }),\n    topEmptyStock: () => ({\n      match: {\n        amount: {\n          $eq: 0,\n        },\n      },\n      limit: 10,\n      skip: 0,\n    }),\n  };\n\n  constructor(db, collection, schema) {\n    if (!isRxDatabase(db)) {\n      throw new Error('A valid RxDatabase is required!');\n    }\n    if (!isRxCollection(collection)) {\n      throw new Error('A valid RxCollection is required!');\n    }\n    this.db = db;\n    this.collection = collection;\n    this.schema = schema;\n  }\n\n  /**\n   * @method query\n   * Get the list of stock filtered by a given query\n   * @param {object} tickets query\n   */\n  async query(query) {\n    try {\n      return await this.get(query);\n    } catch (e) {\n      throw new QueryStockError(e, query);\n    }\n  }\n\n  /**\n   * @method create\n   * Cretes a new stock document\n   * @param {array|object} stock/s item/s\n   * @param {object} options\n   */\n  async create(stock, options) {\n    try {\n      return await (isArray(stock)\n        ? this.createBatch(stock, options)\n        : this.createOne(stock, options));\n    } catch (e) {\n      throw new NoStockCreatedError(e, stock);\n    }\n  }\n\n  /**\n   * @method update\n   * This updates an stock item. it has to exists and fit the schema\n   * @param {object} stock\n   */\n  async update(stock = {}) {\n    try {\n      await this.fetchById(stock);\n      // @todo Should we return this.upsert or await this.upsert ?\n      return await this.upsert(stock);\n    } catch (e) {\n      throw new NoStockUpdatedError(e, stock);\n    }\n  }\n\n  /**\n   * @method increaseAmount\n   * This updates an stock item amount by increasing it. it has to exists and fit the schema\n   * @param {object} stock\n   */\n  async increaseAmount(stock = {}) {\n    try {\n      const currentStock = first(await this.fetchById(stock));\n      // @todo Should we return this.upsert or await this.upsert ?\n      return await this.upsert({\n        ...currentStock._data,\n        amount: currentStock.amount + stock.amount,\n      });\n    } catch (e) {\n      throw new NoStockUpdatedError(e, stock);\n    }\n  }\n\n  /**\n   * @method decreaseAmount\n   * This updates an stock item amount by decreasing it. it has to exists and fit the schema\n   * @param {object} stock\n   */\n  async decreaseAmount(stock = {}) {\n    try {\n      const currentStock = first(await this.fetchById(stock));\n      // @todo Should we return this.upsert or await this.upsert ?\n      return await this.upsert({\n        ...currentStock._data,\n        amount: currentStock.amount - stock.amount,\n        sold: currentStock.sold + stock.amount,\n      });\n    } catch (e) {\n      throw new NoStockUpdatedError(e, stock);\n    }\n  }\n\n  /**\n   * @method get\n   * This fetches the stock items given a filter\n   * @param {object} {match, limit, skip, count, sort}\n   */\n  async get({\n    match,\n    limit = this.defaults.limit,\n    skip = this.defaults.skip,\n    count = true,\n    sort = { created_at: 'desc' },\n  } = {}) {\n    const foundStocks = this.collection\n      .find(match)\n      .limit(limit)\n      .skip(skip)\n      .sort(sort)\n      .exec();\n    if (!count) return foundStocks;\n    const totalAmount = new Promise(async (resolve) => {\n      const allStocks = await this.collection.find(match).exec();\n      resolve(allStocks.length);\n    });\n    const [items, total] = await Promise.all([foundStocks, totalAmount]);\n    return { items, total, limit, skip };\n  }\n\n  /**\n   * @method matches\n   * This looks for a all stock items maching the field and value given\n   * @param {string} field\n   * @param {string} value\n   */\n  async matches(field, value) {\n    try {\n      if (!value) return { value, items: [] };\n      const matches = await this.get({\n        match: { [field]: { $regex: new RegExp(`^${value}`) } },\n      });\n      // return { ...matches, value, items: matches.items.map((i) => i[field]) };\n      return { value, items: matches.items.map((i) => i[field]) };\n    } catch (e) {\n      throw new NoStockMatchesFoundError(e, field, value);\n    }\n  }\n\n  /**\n   * @method remove\n   * This removes an item by reference\n   * @param {string} reference\n   */\n  async remove(reference) {\n    return this.collection.findOne({ reference: { $eq: reference } }).remove();\n  }\n\n  /**\n   * @method remove\n   * This removes an item by reference\n   * @param {string} reference\n   */\n  async removeAll() {\n    await this.collection.remove();\n    this.collection = await this.db.collection({\n      name: 'stock',\n      schema,\n    });\n  }\n\n  /**\n   * @method dump\n   * This is a method to export the collection as JSON data\n   * @param {boolean} decrypt\n   */\n  async dump(decrypt = true) {\n    return this.collection.dump(decrypt);\n  }\n\n  /**\n   * @method formatDescription\n   * Formats an stock item description from its brand, color, size and gender\n   * @param {object} item\n   * @return {string}\n   */\n  formatDescription(item) {\n    return `${this.abbrv('DESC', item.desc)}`;\n  }\n  // async query({ select, where, limit, offset, order }) {\n  //   return this.collection.find()\n  // }\n  //   async count({ where }) {}\n  //   async paginate({ select, where, limit, order }) {\n  //     const count = await this.count({ where });\n  // if(count <= limit) yield await this.query({select, where, order});\n  // let offset = 0;\n  // while (count > offset) {\n  //   const { Stocks } = await this.query({ select, where, order, limit, offset });\n  //   //   yield Stocks;\n  //   offset += limit;\n  // }\n  //   }\n  // async import(json) {\n  //   return this.collection.importDump(json);\n  // }\n\n  /** ***************************************************** */\n  /*                  PRIVATE METHODS                      */\n  /** ***************************************************** */\n\n  async createBatch(stock = [], options = {}) {\n    if (!stock.length) {\n      throw new Error('stock items is empty');\n    }\n\n    if (options.remove) {\n      await this.removeAll();\n    }\n    // this.collection.pouch.bulkDocs\n    // this.collection.pouch.allDocs\n    const createOnePromises = uniqBy(stock, 'reference').map((s) => this.createOne(s, true));\n    // const createOnePromises = stock.map((s) => this.createOne(s, true));\n    return Promise.all(createOnePromises);\n  }\n\n  async createOne(stock = {}, orUpdate = false) {\n    if (!stock || !stock.reference || !stock.price || stock.price <= 0) {\n      throw new Error('Stock requires reference and price');\n    }\n    const isStockCreated = await this.collection\n      .find({ reference: { $eq: stock.reference } })\n      .exec();\n    if (!isStockCreated.length) {\n      return this.upsert(merge(stock, { id: uuidv1(), created_at: new Date().getTime(), sold: 0 }));\n    }\n    if (!orUpdate) {\n      throw new Error('Stock already exists');\n    }\n    return this.upsert(\n      merge(stock, {\n        id: isStockCreated[0].id,\n        created_at: isStockCreated[0].created_at,\n        amount: (isStockCreated[0].amount || 0) + (stock.amount || 0),\n      })\n    );\n  }\n\n  async upsert(stock) {\n    return this.collection.atomicUpsert(stock);\n  }\n\n  async fetchById(stock) {\n    if (!stock || !stock.id) {\n      throw new Error('Stock requires an id field to be updated');\n    }\n    // Remove find check to allow creating a new stock if it does not exist\n    const currentStock = await this.collection.find({ id: { $eq: stock.id } }).exec();\n    if (!currentStock.length) {\n      throw new Error('Stock to be updated does not exists');\n    }\n    return currentStock;\n  }\n\n  abbrv(type, value) {\n    switch (type) {\n      case 'DESC':\n        return value ? value.substring(0, 10) : '';\n      default:\n        return value;\n    }\n  }\n}\n\nexport default async function (db) {\n  if (!db) throw new NoDatabaseFoundError();\n  // Create or Retrieve collection first\n  const collection = db.collections.stock\n    ? db.collections.stock\n    : await db.collection({\n      name: 'stockbasic',\n      schema,\n      // https://github.com/pubkey/rxdb/blob/master/docs-src/data-migration.md\n      // migrationStrategies: {\n      //   // 1 means, this transforms data from version 0 to version 1\n      //   1: function(oldDoc){\n      //     oldDoc.time = new Date(oldDoc.time).getTime(); // string to unix\n      //     return oldDoc;\n      //   },\n      //   /**\n      //    * this removes all documents older then 2017-02-12\n      //    * they will not appear in the new collection\n      //    */\n      //   2: function(oldDoc){\n      //     if(oldDoc.time < 1486940585) return null;\n      //     else return oldDoc;\n      //   }\n      // }\n    });\n  // Return an Stock instance\n  return new StockBasic(db, collection);\n}\n","export default {\n  title: 'tickets schema',\n  version: 0,\n  description: 'describes a ticket document',\n  type: 'object',\n  properties: {\n    created_at: {\n      type: 'number',\n      index: true,\n    },\n    id: {\n      type: 'string',\n      primary: true,\n      final: true,\n    },\n    isChecked: {\n      type: 'boolean',\n      default: false,\n    },\n    isGift: {\n      type: 'boolean',\n      default: false,\n    },\n    isVoucher: {\n      type: 'boolean',\n      default: false,\n    },\n    hasVoucherExpired: {\n      type: 'boolean',\n      default: false,\n    },\n    balance: {\n      type: 'string',\n    },\n    prevNode: {\n      type: 'string',\n    },\n    nextNode: {\n      type: 'string',\n    },\n    payments: {\n      type: 'array',\n    },\n    operations: {\n      type: 'array',\n    }\n  },\n  required: ['created_at', 'id', 'payments', 'operations'],\n};\n","/**\n * @class TicketNoSavedError\n * @desc throws when stock cannot be created\n */\nexport class TicketNoSavedError extends Error {\n  constructor(e = { message: '' }, ticket = {}) {\n    super(e);\n    this.title = 'Ticket could not be saved';\n    this.code = 'TicketNoSavedError';\n    this.data = ticket;\n    this.message = `Ticket ${JSON.stringify(\n      ticket\n    )} could not be saved. Please, check extra info: ${e.message}`;\n  }\n}\n\n/**\n * @class TicketNoSavedError\n * @desc throws when stock cannot be created\n */\nexport class TicketsNotFoundError extends Error {\n  constructor(e = { message: '' }, ticket = {}) {\n    super(e);\n    this.title = 'Tickets were not found';\n    this.code = 'TicketsNotFoundError';\n    this.data = ticket;\n    this.message = `Please, check extra info: ${e.message}`;\n  }\n}\n","import omit from 'lodash/omit';\n\nexport const dailyTicketIds = () => ({\n    match: {\n        created_at: {\n            $gte: new Date().setHours(0, 0, 0, 0),\n        },\n    },\n    sort: 'created_at',\n    fields: ({ id, created_at, balance }) => ({ id, created_at, balance }),\n    limit: null, // no limit\n    skip: 0\n});\n\nexport const dailyTicketOperations = () => ({\n    match: {\n        created_at: {\n            $gte: new Date().setHours(0, 0, 0, 0),\n        },\n    },\n    sort: 'created_at',\n    fields: ({ operations }) => operations,\n    limit: null, // no limit\n    skip: 0\n});\n\nexport const ticketById = (ticketId) => ({\n    match: {\n        id: {\n            $eq: ticketId,\n        },\n    },\n    fields: (ticket) => omit(ticket, '_rev'),\n});\n\nexport const ticketByCreationDate = (ticketId) => ({\n    match: {\n        created_at: {\n            $eq: ticketId,\n        },\n    },\n    fields: (ticket) => omit(ticket, '_rev'),\n});\n\nexport const ticketMatches = (field, value) => ({\n    match: { [field]: { $regex: new RegExp(`^${value}`) } },\n    fields: (ticket) => ticket[field],\n});\n\nexport const dailyTickets = (limit, skip) => ({\n    match: {\n        created_at: {\n            $gte: new Date().setHours(0, 0, 0, 0),\n        },\n    },\n    sort: 'created_at',\n    limit,\n    skip\n});\n\nexport const weeklyTickets = (limit = 0, skip = 0) => {\n    const today = new Date();\n    // today.setDate(today.getDate() - today.getDay());\n    today.setDate(today.getDate() - 7);\n    return {\n        match: {\n            created_at: {\n                $gte: today.setHours(0, 0, 0, 0),\n            },\n            state: {\n                $eq: 'TICKET_SOLD_STATE',\n            },\n        },\n        sort: 'created_at',\n        limit,\n        skip,\n    };\n};\n\nexport default {\n    dailyTicketIds,\n    dailyTicketOperations,\n    ticketById,\n    ticketByCreationDate,\n    ticketMatches,\n    dailyTickets,\n    weeklyTickets\n}","/**\n * Use mongo as model\n */\n/**\n * Use mongo as model\n */\n// More sold\n// More expensive\n// Cheapest Stocks\n// Has discount (offer)\n// last sold\n// Cat Women\n// Cat Men\n// Cat Children\n// All\nimport { isRxCollection, isRxDatabase } from 'rxdb';\nimport schema from './schema';\nimport uuidv1 from 'uuid/v1';\nimport { isEmpty, isString } from 'lodash';\nimport { ADD_ITEM_OPERATION, RETURN_ITEM_OPERATION, PAYMENT_METHOD_VOUCHER } from './config';\nimport { TicketNoSavedError, TicketsNotFoundError } from '../../errors/tickets';\nimport Queries from './queries';\n\nclass Tickets {\n\n  constructor(db, collection, stock) {\n    if (!isRxDatabase(db)) {\n      throw new Error('A valid RxDatabase is required!');\n    }\n    if (!isRxCollection(collection)) {\n      throw new Error('A valid RxCollection is required!');\n    }\n    this.db = db;\n    this.collection = collection;\n    this.stock = stock;\n  }\n\n  // /**\n  //  * * @ MARK TO REMOVE\n  //  * @method save\n  //  * Saves a new ticket document\n  //  * @param {array|object} ticket/s item/s\n  //  */\n  // async save(ticket) {\n  //   try {\n  //     const validationError = this.validateTicket(ticket);\n  //     if (validationError) {\n  //       throw new Error(validationError);\n  //     }\n  //     return await this.createOne(ticket);\n  //   } catch (e) {\n  //     throw new TicketNoSavedError(e, ticket);\n  //   }\n  // }\n\n  // /**\n  //  * @ MARK TO REMOVE\n  //  * @method sell\n  //  * Saves a new ticket document\n  //  * @param {array|object} ticket/s item/s\n  //  */\n  // async sell(ticket) {\n  //   try {\n  //     const validationError = this.validateTicket(ticket);\n  //     if (validationError) {\n  //       throw new Error(validationError);\n  //     }\n  //     await Promise.all(ticket.items.map((stockItem) => this.stock.decreaseAmount(stockItem)));\n  //     ticket.items = ticket.items.map((stockItem) => omit(stockItem, 'added'));\n  //     return await this.createOne(ticket);\n  //   } catch (e) {\n  //     throw new TicketNoSavedError(e, ticket);\n  //   }\n  // }\n\n  // /**\n  //  * * @ MARK TO REMOVE\n  //  * @method sellBack\n  //  * It returns an existing ticket document by creating a new one\n  //  * @param {array|object} ticket/s item/s\n  //  */\n  // async sellBack(ticket) {\n  //   try {\n  //     const validationError = this.validateTicketReturn(ticket);\n  //     if (validationError) {\n  //       throw new Error(validationError);\n  //     }\n  //     await Promise.all(\n  //       ticket.items.map((stockItem) => {\n  //         if (stockItem.added) {\n  //           return this.stock.decreaseAmount({ ...stockItem, amount: stockItem.amount });\n  //         }\n\n  //         if (stockItem.toReturn) {\n  //           return this.stock.increaseAmount({ ...stockItem, amount: stockItem.amount_return });\n  //         }\n  //       })\n  //     );\n  //     ticket.items = ticket.items.map((item) => ({\n  //       ...item,\n  //       amount_return_prev_last:\n  //         item.amount_return > 0 ? item.amount_return_prev || 0 : item.amount_return_prev_last || 0,\n  //       amount_return_prev: (item.amount_return_prev || 0) + (item.amount_return || 0),\n  //       amount_return: 0,\n  //       added: false,\n  //       wasAdded: item.added,\n  //       wasReturned: item.amount_return,\n  //     }));\n  //     console.log('items', ticket.items);\n  //     const newTicket = await this.createOne(omit(ticket, '_rev'));\n  //     await this.updateBy(\n  //       { created_at: { $eq: Number(ticket.created_at) } },\n  //       { next: Number(newTicket.created_at) }\n  //     );\n  //     await this.updateBy(\n  //       { created_at: { $eq: Number(newTicket.created_at) } },\n  //       { prev: Number(ticket.created_at) }\n  //     );\n  //     return newTicket;\n  //   } catch (e) {\n  //     throw new TicketNoSavedError(e, ticket);\n  //   }\n  // }\n\n  /**\n   * @method create\n   * Creates a new ticket in db\n   * @return {String} ticket id\n   * It return the ticket id as successful operation\n   * but it could return a boolean also.\n   * This does not return the whole ticket.\n   * To retrieve the whole ticket document, \n   * you need to call read operation\n   */\n  async create(ticket, verbose) {\n    try {\n      const validationError = this.validateTicket(ticket);\n      if (validationError) {\n        throw new Error(validationError);\n      }\n      // Create ticket\n      const { id, created_at, balance } = await this.createOne(ticket);\n\n      // Update parent ticket to point/reference to this new one\n      if (ticket.prevNode) {\n        await this.updateBy({\n          id: {\n            $eq: ticket.prevNode,\n          }\n        }, { nextNode: id })\n      }\n\n      // Update Stock\n      await Promise.all(\n        ticket.operations.map(({ operation, stock, amount }) => {\n\n          if (!operation || !stock || !amount) {\n            return Promise.resolve();\n          }\n\n          const id = stock.id;\n\n          if (operation === ADD_ITEM_OPERATION) {\n            return this.stock && this.stock.decreaseAmount({ id, amount });\n          }\n\n          if (operation === RETURN_ITEM_OPERATION) {\n            return this.stock && this.stock.increaseAmount({ id, amount });\n          }\n        })\n      );\n\n      // Update Voucher (set to expired)\n      const voucher = ticket.payments.find(({ method }) => method === PAYMENT_METHOD_VOUCHER);\n      if (voucher) {\n        await this.updateBy({\n          created_at: {\n            $eq: voucher.concept,\n          }\n        }, { hasVoucherExpired: true })\n      }\n\n      return verbose ? { id, created_at, balance } : id;\n    } catch (error) {\n      throw new TicketNoSavedError(error, ticket);\n    }\n  }\n\n  /**\n   * @method open\n   * Read a ticket from db\n   * @param {String} field the field to look the ticket for (id or creation_date)\n   * @param {String} value the field to look the ticket for value\n   * @return {Object} Ticket Document\n   */\n  async open({ field = 'id', value } = {}) {\n\n    const getQuery = (field, value) => {\n\n      switch (field) {\n        case 'id':\n          return Queries.ticketById(value);\n        case 'createdAt':\n          return Queries.ticketByCreationDate(value);\n        default:\n          throw new Error(`no look up field \"${field}\" supported. Use id or creationDate fields`)\n      }\n    }\n\n    try {\n\n      // Read curren ticket\n      const ticket = await this.findOne(getQuery(field, value));\n\n      // Create history with all previous operations\n      // In case of a readonly ticket (it has nextNode)\n      // the history will no include current operations\n      // otherwise current operations will be empty []\n      // and historical operations will include all\n      // previous operations plus current operations\n      let parentTicketId = ticket.prevNode;\n      const history = ticket.nextNode ? [] : ticket.operations;\n\n      while (parentTicketId) {\n\n        const parentTicket = await this.findOne(getQuery('id', parentTicketId));\n\n        history.push(...parentTicket.operations);\n\n        parentTicketId = parentTicket.prevNode;\n\n      }\n\n      // if we have nextNode it's a readonly ticket so we pass \n      // in the current operations and payments info for displaying it\n      // otherwise no operations a no payments are given since\n      // they will be created as part of the new ticket\n      const payments = ticket.nextNode ? ticket.payments : [];\n      const operations = ticket.nextNode ? ticket.operations : [];\n\n      return { ...ticket, history, operations, payments };\n\n    } catch (error) {\n      throw new TicketsNotFoundError(error);\n    }\n  }\n\n  /**\n * @method query\n * Get the list of tickets filtered by a given query\n * @param {String | Object} mangoQuery a mango compilant query object\n * or a query name\n */\n  async query(mangoQuery, ...args) {\n    try {\n      const query = isString(mangoQuery) ? Queries[mangoQuery](...args) : mangoQuery;\n      return await this.get(query);\n    } catch (e) {\n      throw new TicketsNotFoundError(e);\n    }\n  }\n\n  /**\n   * @method dump\n   * This is a method to export the collection as JSON data\n   * @param {boolean} decrypt\n   */\n  async dump(decrypt = true) {\n    return this.collection.dump(decrypt);\n  }\n\n  /** ***************************************************** */\n  /*                  PRIVATE METHODS                      */\n  /** ***************************************************** */\n\n  /**\n   * @method createOne\n   * Cretes a new ticket document in db\n   * @param {array|object} ticket/s item/s\n   * @param {string} state\n   */\n  async createOne(ticket) {\n    try {\n      const timestamp = new Date().getTime();\n      const newTicket = {\n        created_at: timestamp,\n        ...ticket,\n        isChecked: true,\n        id: uuidv1(),\n      };\n\n      return this.upsert(newTicket);\n    } catch (e) {\n      throw new Error('createOne function');\n    }\n  }\n\n  /**\n * @method get\n * This fetches the ticket items given a filter\n * @param {object} {match, limit, skip, count, sort}\n */\n  async get({\n    match,\n    fields,\n    limit = 0,\n    skip = 0,\n    count = false,\n    sort = { created_at: 'asc' },\n  } = {}) {\n\n    const tickets = await this.collection\n      .find(match)\n      .limit(limit)\n      .skip(skip)\n      .sort(sort)\n      .exec();\n\n    const mapTicketFields = ticket => {\n      const rawTicket = ticket.toJSON();\n      return fields ? fields(rawTicket) : rawTicket\n    };\n    const items = tickets.map(mapTicketFields);\n\n    if (!count) {\n      return { items, total: items.length };\n    }\n\n    const ticketsCount = await this.collection\n      .find(match)\n      .exec();\n\n    return { items, total: ticketsCount.length };\n  }\n\n  /**\n   * @method updateBy\n   * updates a ticket document in db\n   * @param {array|object} ticket/s item/s\n   * @param {string} state\n   */\n  async updateBy(criteria, data) {\n    try {\n      const ticketFound = await this.collection.findOne(criteria).exec();\n      if (!ticketFound) {\n        throw new TicketsNotFoundError(null, criteria, data);\n      }\n      return this.upsert({ ...ticketFound._data, ...data });\n    } catch (e) {\n      throw new Error('updateBy function');\n    }\n  }\n\n  async upsert(ticket) {\n    return this.collection.atomicUpsert(ticket);\n  }\n\n  async findOne({ match, fields }) {\n    const ticket = await this.collection\n      .findOne(match)\n      .exec();\n\n    return fields(ticket.toJSON());\n  }\n\n  validateTicket(ticket) {\n    if (!ticket.balance) return 'Ticket balance cannot be empty, use either positive or negative';\n    if (isEmpty(ticket.operations)) return 'Ticket operations cannot be empty';\n    if (ticket.balance === 'positive' && !ticket.isChecked && isEmpty(ticket.payments)) return 'Ticket payments cannot be empty';\n    return false;\n  }\n  // validateTicketSold(ticket) {\n  //   if (isEmpty(ticket.items)) return 'Ticket items cannot be empty';\n  //   if (ticket.givenAmount <= 0) return 'Ticket given amount by customer must be positive number';\n  //   return false;\n  // }\n  // validateTicketReturn(ticket) {\n  //   if (isEmpty(ticket.items)) return 'Ticket items cannot be empty';\n  //   return false;\n  // }\n}\n\nexport default async function (db, stockInstance) {\n  // Create or Retrieve collection first\n  const collection = db.collections.tickets\n    ? db.collections.tickets\n    : await db.collection({\n      name: 'tickets',\n      schema,\n    });\n  // Return an Tickets instance\n  return new Tickets(db, collection, stockInstance);\n}\n","export const DEFAULT_LIMIT_AMOUNT = 5;\nexport const ADD_ITEM_OPERATION = 'add';\nexport const RETURN_ITEM_OPERATION = 'remove';\nexport const PAYMENT_METHOD_VOUCHER = 'payment_method_voucher';","export default {\n  title: 'settings schema',\n  version: 0,\n  description: 'describes the settings',\n  type: 'object',\n  properties: {\n    key: {\n      type: 'string',\n      primary: true\n    },\n    value: {\n      type: 'string',\n    }\n  }\n};\n","import { isRxCollection, isRxDatabase } from 'rxdb';\nimport { size, fromPairs, map } from 'lodash';\nimport schema from './schema';\n\nclass Settings {\n  defaults = [];\n\n  constructor(db, collection) {\n    if (!isRxDatabase(db)) {\n      throw new Error('A valid RxDatabase is required!');\n    }\n    if (!isRxCollection(collection)) {\n      throw new Error('A valid RxCollection is required!');\n    }\n    this.db = db;\n    this.collection = collection;\n  }\n  async init(defaultTo = this.defaults) {\n    const settingsFound = await this.collection.find().exec();\n    return fromPairs(\n      map(size(settingsFound) ? settingsFound : defaultTo, ({ key, value }) => [key, value])\n    );\n  }\n}\n\nexport default async function(db) {\n  // Create or Retrieve collection first\n  const collection = db.collections.settings\n    ? db.collections.settings\n    : await db.collection({\n        name: 'settings',\n        schema,\n      });\n  // Return an Stock instance\n  return new Settings(db, collection);\n}\n","/**\n * Use mongo as model\n */\n\nimport { isRxCollection, isRxDatabase } from 'rxdb';\nimport { groupBy, toPairs, min, max, mean, size, zipWith } from 'lodash';\n\nclass Charts {\n  TOP_TEN_LIMIT = 10;\n\n  constructor(db, stock, ticket) {\n    if (!isRxDatabase(db)) {\n      throw new Error('A valid RxDatabase is required!');\n    }\n    if (!isRxCollection(stock.collection) || !isRxCollection(ticket.collection)) {\n      throw new Error('A valid RxCollection is required!');\n    }\n    this.db = db;\n    this.stock = stock;\n    this.ticket = ticket;\n  }\n\n  /**\n   * @method init\n   * return latest charts data\n   * @return {Promise} a promise which resolves to charts data\n   */\n  async init() {\n    try {\n      return {\n        salesChart: await this.salesData(),\n        ticketsChart: await this.ticketsData(),\n        stockChart: await this.stockData(),\n        alertChart: await this.alertData(),\n      };\n    } catch (e) {\n      throw new Error(e);\n    }\n  }\n\n  /**\n   * @method salesData\n   * return latest five days sales amount\n   * @param {array|object} options\n   * @return {Promise} a promise which resolves to [{date: 'day1', amount: 'amount1'}, {date: 'day2', amount: 'amount2'}, {date: 'day3', amount: 'amount3'}, {date: 'day4', amount: 'amount4'}, {date: 'day5', amount: 'amount5'}]\n   * @example\n    [\n      { day: 'Mon', amount: '200.56' },\n      { day: 'Tue', amount: '153.94' },\n      { day: 'Wed', amount: '208.56' },\n      { day: 'Thu', amount: '501.89' },\n      { day: 'Fri', amount: '377.89' },\n      { day: 'Sat', amount: '177.89' },\n      { day: 'Sun', amount: '277.89' },\n    ]\n   */\n  async salesData(options = { range: 'week' }) {\n    try {\n      const weeklyTickets = await this.ticket.query('weeklyTickets');\n      return toPairs(\n        groupBy(weeklyTickets.items, (ticket) => new Date(ticket.created_at).toLocaleDateString())\n      ).map(([day, tickets]) => ({\n        day,\n        amount: tickets.reduce((amount, ticket) => amount + Number(ticket.totalAmount), 0),\n      }));\n      // Get latest week tickets (it is cached so next times it has just to calculate current day sales)\n    } catch (e) {\n      // throw new Error(e, options);\n      return [];\n    }\n  }\n\n  /**\n   * @method ticketsData\n   * return tickets data aggregation vaues as minimum, maximun, median, average, first quartile and third quartile\n   * @param {array|object} options\n   * @return {Promise}\n   * @example\n    [\n      { day: 'Mon', minimum: '14', maximum: '65', median: '33', quartile1: '20', quartile3: '35' },\n      { day: 'Tue', minimum: '25', maximum: '73', median: '25', quartile1: '25', quartile3: '30' },\n      { day: 'Wed', minimum: '15', maximum: '40', median: '25', quartile1: '17', quartile3: '28' },\n      { day: 'Thu', minimum: '18', maximum: '55', median: '33', quartile1: '28', quartile3: '42' },\n      { day: 'Fri', minimum: '14', maximum: '66', median: '35', quartile1: '22', quartile3: '45' },\n      { day: 'Sat', minimum: '22', maximum: '70', median: '34', quartile1: '28', quartile3: '42' },\n      { day: 'Sun', minimum: '14', maximum: '65', median: '33', quartile1: '30', quartile3: '50' },\n    ]\n   */\n  async ticketsData(options = { range: 'week' }) {\n    try {\n      const weeklyTickets = await this.ticket.query('weeklyTickets');\n      const groupByTickets = toPairs(\n        groupBy(weeklyTickets.items, (ticket) => new Date(ticket.created_at).toLocaleDateString())\n      );\n\n      return groupByTickets.map(([day, tickets]) => {\n        const ticketsTotalAmounts = tickets.map((ticket) => Number(ticket.totalAmount));\n\n        if (size(ticketsTotalAmounts) === 1) {\n          return {\n            day,\n            minimum: ticketsTotalAmounts[0],\n            maximum: ticketsTotalAmounts[0],\n            average: ticketsTotalAmounts[0],\n            median: ticketsTotalAmounts[0],\n            quartile1: ticketsTotalAmounts[0],\n            quartile3: ticketsTotalAmounts[0],\n          };\n        }\n\n        const minimum = min(ticketsTotalAmounts);\n        const maximum = max(ticketsTotalAmounts);\n        const average = mean(ticketsTotalAmounts);\n        const { median, position, sorted: ticketsTotalAmountsSorted } = this.median(\n          ticketsTotalAmounts\n        );\n        const { median: quartile1 } = this.median(ticketsTotalAmountsSorted.slice(0, position));\n        const { median: quartile3 } = this.median(ticketsTotalAmountsSorted.slice(position));\n\n        return {\n          day,\n          minimum,\n          maximum,\n          average,\n          median,\n          quartile1,\n          quartile3,\n        };\n      });\n      // Get latest week tickets (it is cached so next times it has just to calculate current day sales)\n    } catch (e) {\n      // throw new Error(e, options);\n      return [];\n    }\n  }\n\n  /**\n     * @method stockData\n     * @return {Promise}\n     * @example\n      [\n        { amount: 0, price: '0', sold: 0, title: 'Brand1' },\n        { amount: 50, price: '30', sold: 200, title: 'Brand1' },\n        { amount: 50, price: '0', sold: 70, title: 'Brand1' },\n        { amount: 50, price: '20.56', sold: 0, title: 'Brand1' },\n        { amount: 50, price: '20.56', sold: 111, title: 'Brand1' },\n        { amount: 30, price: '10.56', sold: 200, title: 'Brand2' },\n        { amount: 30, price: '30.00', sold: 10, title: 'Brand3' },\n        { amount: 300, price: '30.00', sold: 10, title: 'Brand3' },\n        { amount: 60, price: '15.90', sold: 160, title: 'Brand4' }\n      ]\n     */\n  async stockData() {\n    try {\n      const { items: stockItems } = await this.stock.query(this.stock.queries.fullStock());\n\n      // @todo group by brand ?\n      return stockItems.map((stockItem) => ({\n        amount: stockItem.amount,\n        price: stockItem.price,\n        sold: stockItem.sold,\n        title: this.stock.formatDescription(stockItem),\n      }));\n    } catch (e) {\n      // throw new Error(e, options);\n      return [];\n    }\n  }\n\n  /**\n     * @method alertData\n     * @return {Promise}\n     * @example\n      [\n        { sold: 'BRAND-DESC-TOP-SOLD', notSold: 'BRAND-DESC-NOT-SOLD', emptyStock: 'BRAND-DESC-NO-STOCK', alertStock: 'BRAND-DESC-FEW-STOCK' },\n        { sold: 'BRAND-DESC-TOP-SOLD', notSold: 'BRAND-DESC-NOT-SOLD', emptyStock: 'BRAND-DESC-NO-STOCK', alertStock: 'BRAND-DESC-FEW-STOCK' },\n        { sold: 'BRAND-DESC-TOP-SOLD', notSold: 'BRAND-DESC-NOT-SOLD', emptyStock: 'BRAND-DESC-NO-STOCK', alertStock: 'BRAND-DESC-FEW-STOCK' },\n        { sold: 'BRAND-DESC-TOP-SOLD', notSold: 'BRAND-DESC-NOT-SOLD', emptyStock: 'BRAND-DESC-NO-STOCK', alertStock: 'BRAND-DESC-FEW-STOCK' },\n        { sold: 'BRAND-DESC-TOP-SOLD', notSold: 'BRAND-DESC-NOT-SOLD', emptyStock: 'BRAND-DESC-NO-STOCK', alertStock: 'BRAND-DESC-FEW-STOCK' },\n        { sold: 'BRAND-DESC-TOP-SOLD', notSold: 'BRAND-DESC-NOT-SOLD', emptyStock: 'BRAND-DESC-NO-STOCK', alertStock: 'BRAND-DESC-FEW-STOCK' },\n      ]\n     */\n  async alertData() {\n    try {\n      // const { items: topSoldStockItems } = await this.stock.query(this.stock.queries.topSold());\n      const topSoldStockItems = await this.stock.collection\n        .find()\n        .where('sold')\n        .gt(0)\n        .limit(this.TOP_TEN_LIMIT)\n        .sort('-sold')\n        .exec();\n      // const { items: topNotSoldStockItems } = await this.stock.query(this.stock.queries.topNotSold());\n      const topNotSoldStockItems = await this.stock.collection\n        .find()\n        .where('sold')\n        .gt(0)\n        .limit(this.TOP_TEN_LIMIT)\n        .sort('sold')\n        .exec();\n      const { items: topEmptyStockItems } = await this.stock.query(\n        this.stock.queries.topEmptyStock()\n      );\n\n      if (!size(topSoldStockItems) && !size(topNotSoldStockItems) && !size(topEmptyStockItems))\n        return [];\n      return zipWith(\n        topSoldStockItems,\n        topNotSoldStockItems,\n        topEmptyStockItems,\n        (soldItem = '', notSoldItem = '', emptyStockItem = '') => ({\n          sold: soldItem ? this.stock.formatDescription(soldItem) : '',\n          notSold: notSoldItem ? this.stock.formatDescription(notSoldItem) : '',\n          emptyStock: emptyStockItem ? this.stock.formatDescription(emptyStockItem) : '',\n        })\n      );\n    } catch (e) {\n      console.log(e);\n      // throw new Error(e, options);\n      return [];\n    }\n  }\n\n  /** ***************************************************** */\n  /*                  PRIVATE METHODS                      */\n  /** ***************************************************** */\n  median(list) {\n    const sortedList = list.sort((a, b) => a - b);\n    const medianIndex = Math.floor((size(sortedList) + 1) / 2);\n    if (!sortedList[medianIndex])\n      return { median: sortedList[0], position: medianIndex, sorted: sortedList };\n    return { median: sortedList[medianIndex], position: medianIndex, sorted: sortedList };\n  }\n}\n\nexport default async function (db, stockInstance, ticketInstance) {\n  // Create or Retrieve collection first\n  // const stockInstance = await Stock(db, schema);\n  // const ticketInstance = await Ticket(db, schema);\n\n  // Return an Tickets instance\n  return new Charts(db, stockInstance, ticketInstance);\n}\n","import * as RxDB from 'rxdb';\nimport { SCHEMA_SHOES } from '../config';\nimport Stock from '../models/stock';\nimport StockBasic from '../models/stock_basic';\nimport Tickets from '../models/tickets';\nimport Settings from '../models/settings';\nimport Charts from '../models/charts';\nimport PouchdbAdapterIdb from 'pouchdb-adapter-idb';\n\nRxDB.plugin(PouchdbAdapterIdb);\n\nconst defaultOptions = {\n  name: 'kalzatedb',\n  adapter: 'idb',\n  multiInstance: true,\n};\n\nfunction stockInstance(db, schema) {\n  switch (schema) {\n    case SCHEMA_SHOES:\n      return Stock(db);\n    default:\n      return StockBasic(db);\n  }\n}\n\nexport default async function (dbOptions = {}, schema = SCHEMA_SHOES) {\n  const options = { ...defaultOptions, ...dbOptions };\n  const db = await RxDB.create(options);\n  const stock = await stockInstance(db, schema);\n  const tickets = await Tickets(db, stock);\n  const settings = await Settings(db, schema);\n  const charts = await Charts(db, stock, tickets);\n  return { db, stock, tickets, settings, charts };\n}\n","import RxDB from './client';\n\nconst ClientFactory = async (...options) => RxDB(...options);\n\nexport default ClientFactory;\n","import kalzateDB from '@kalzate/db';\n\nimport { merge } from 'lodash';\nimport {\n  DEFAULT_SETTINGS,\n  DEFAULT_STOCK_ITEMS_LIMIT,\n  DEFAULT_TICKET_ITEMS_LIMIT,\n  DB_OPTIONS,\n  DEFAULT_SCHEMA_TYPE,\n  STATE_LOADING_START,\n  STATE_LOADING_DONE,\n  STATE_LOADING_FAILED,\n} from './config';\nimport * as themes from 'containers/ThemeProvider/themes';\nimport { DEFAULT_THEME } from 'containers/ThemeProvider/constants';\nimport { DEFAULT_LOCALE } from 'containers/App/constants'; // eslint-disable-line\nimport { getQueryParams } from 'utils/url';\n\nlet db;\n\nconst { theme } = getQueryParams(window.location.search);\n\nexport const ResetDatabase = async () => {\n  db.db.remove();\n  db = await kalzateDB(DB_OPTIONS, DEFAULT_SCHEMA_TYPE);\n};\nexport const Stock = () => db.stock;\nexport const Settings = () => db.settings;\nexport const Tickets = () => db.tickets;\nexport const Charts = () => (db ? db.charts : db);\n\nconst initFromDB = (load) => (store) => {\n  store.dispatch({\n    type: STATE_LOADING_START,\n  });\n  load(store).then(\n    (state) => {\n      store.dispatch({\n        type: STATE_LOADING_DONE,\n        payload: { state },\n      });\n    },\n    (error) => {\n      store.dispatch({\n        type: STATE_LOADING_FAILED,\n        payload: { error },\n      });\n    }\n  );\n  return (next) => (action) => next(action);\n};\n\nconst loadStoreFromDatabase = (store) =>\n  new Promise(async (resolve) => {\n    // Get initialState({settings, tickets, stock, ticket, insights})\n    db = await kalzateDB(DB_OPTIONS, DEFAULT_SCHEMA_TYPE);\n    const currentState = store.getState();\n    const state = {\n      settings: merge({}, DEFAULT_SETTINGS, await db.settings.init()),\n      tickets: await db.tickets.query(\n        'dailyTicketIds'\n      ),\n      stock: {\n        ...(await db.stock.get({ limit: DEFAULT_STOCK_ITEMS_LIMIT, skip: 0 })),\n        loading: currentState.stock.loading,\n      },\n      charts: await db.charts.init(),\n    };\n\n    state.theme = {\n      theme:\n        theme && themes[theme]\n          ? themes[theme]\n          : themes[state.settings.theme] || themes[DEFAULT_THEME],\n      name: theme || state.settings.theme || DEFAULT_THEME,\n    };\n\n    state.language = {\n      locale: state.settings.lang || DEFAULT_LOCALE,\n    };\n    resolve({ ...currentState, ...state });\n  });\n\nexport const databaseAsyncReducer = (reducers) => (state, action) => {\n  if (action.type === STATE_LOADING_DONE) {\n    return reducers(action.payload.state, action);\n  }\n  return reducers(state, action);\n};\n\nexport default initFromDB(loadStoreFromDatabase);\n","export const dark = {\n  app: {\n    bgColor: '#161719',\n    color: '#a3a8ae',\n    border: '1px solid #111314', // 1px solid #27292c\n    padding: '5px',\n    switchPanelIconColor: 'rgba(255, 255, 255, 0.4)',\n    scrollThumbInactiveBgColor: 'rgba(100, 100, 100, 0.4)',\n    scrollThumbBgColor: 'rgba(100, 100, 100, 0.8)',\n    scrollTrackShadow: 'inset 0 0 6px rgba(0, 0, 0, 0.3)',\n    // scroll props below are possibly not used\n    scrollThumb: 'rgb(60, 60, 60)',\n    scrollThumbInactive: 'rgb(60, 60, 60)',\n    scrollCorner: 'rgb(60, 60, 60)',\n    scrollTrack: 'transparent',\n    scrollShadow: 'inset 0 0 6px rgba(0, 0, 0, 0.3)',\n  },\n  footer: {\n    bgColor: '#161719',\n    color: '#a3a8ae',\n    border: '1px solid #27292c',\n  },\n  sidebar: {\n    bgColor: '#161719',\n    color: '#a3a8ae', // 'rgba(163, 168, 174, 0.5)'\n    border: '1px solid #27292c',\n    hoverColor: 'rgba(163, 168, 174, 0.8)',\n    selected: 'rgba(100, 100, 100, 0.1)',\n    placeholderColor: 'rgba(163, 168, 174, 0.9)',\n  },\n  settings: {\n    panelBgColor: 'rgba(10, 10, 10, 0.2)',\n  },\n  discover: {\n    panelBgColor: 'rgba(10, 10, 10, 0.2)',\n    helpBgColor: 'rgba(51,51,51, .9)',\n    helpColor: 'rgba(151,151,151,1)',\n    tooltipColor: 'rgba(115, 201, 144, .6)',\n  },\n  charts: {\n    axis: '#FFF',\n  },\n  tables: {\n    color: 'white',\n    colorEven: 'rgba(187, 183, 183, 1)',\n    bgColorEven: 'rgba(163, 168, 174, 0.2)',\n    bgColor: 'rgba(163, 168, 174, 0.1)',\n    highlightBgColor: 'rgba(226, 192, 141, .25)',\n  },\n  tooltips: {\n    bgColor: 'rgba(39, 41, 44, 0.9)',\n  },\n  home: {\n    color: 'rgba(163, 168, 174, 0.3)',\n    titleColor: 'rgba(163, 168, 174, 0.3)',\n    svgColor: 'rgba(163, 168, 174, 0.1)',\n    tryButtonHoverColor: 'rgba(255, 255, 255, 0.6)',\n  },\n  blog: {\n    bgColor: '#161719',\n    border: '1px solid #27292c',\n    switcherBgColor: 'rgb(60, 60, 60)',\n    switcherColor: 'inherit',\n    sectionsHoverColor: 'rgba(255, 255, 255, 0.9)',\n  },\n  workspace: {\n    activeLine: 'rgba(100, 100, 100, 0.1)',\n    actionsPanel: {\n      bgColor: 'rgba(39, 41, 44, 0.9)',\n    },\n  },\n  fuzzyFinder: {\n    bgColor: '#1d1f21',\n    bgColorItem: '#222426',\n    bgColorItemActive: '#303337',\n    bgColorTextbox: 'rgba(0, 0, 0, 0.6)',\n    bgColorHint: 'rgba(0, 0, 0, 0.2)',\n    border: '1px solid #111314',\n    colorTextbox: 'rgba(115, 201, 144, 0.7)',\n    colorItem: '#d9dbde',\n    colorHint: '#d7dae0',\n  },\n  tour: {\n    bgColor: 'rgba(39, 41, 44, 0.9)',\n    iconColor: 'rgb(226, 192, 141)',\n    iconColorHover: 'rgb(226, 192, 141)',\n  },\n  ribbon: {\n    bgColor: '#373636',\n    color: '#7d7d7d',\n    textShadow: '0 -.08em rgba(0, 0, 0, 0.5)',\n    shadow: '0 .15em .23em 0 rgba(0, 0, 0, 0.5)',\n    image: 'linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.15))',\n  },\n  tickets: {\n    placeholderColor: 'rgba(163, 168, 174, 0.9)',\n    searchColor: 'rgba(163, 168, 174, 0.5)',\n    searchMastchesListBgColor: 'rgba(100, 100, 100, 1)',\n    searchMastchesListColor: 'white',\n  },\n};\nexport const monokai = {\n  app: {\n    bgColor: '#2d2c2c',\n    color: '#bbb7b7',\n    border: '1px solid rgba(163,168,174,0.1)',\n    padding: '5px',\n    switchPanelIconColor: 'rgba(255, 255, 255, 0.4)',\n    scrollThumbInactiveBgColor: 'rgba(100, 100, 100, 0.4)',\n    scrollThumbBgColor: 'rgba(100, 100, 100, 0.8)',\n    scrollTrackShadow: 'inset 0 0 6px rgba(0, 0, 0, 0.3)',\n    // scroll props below are possibly not used\n    scrollThumb: '#979797',\n    scrollThumbInactive: '#979797',\n    scrollCorner: '#979797',\n    scrollTrack: 'transparent',\n    scrollShadow: 'inset 0 0 6px rgba(0, 0, 0, 0.3)',\n  },\n  footer: {\n    bgColor: '#2d2c2c',\n    color: '#a3a8ae',\n    border: '1px solid rgba(163,168,174,0.1)',\n  },\n  sidebar: {\n    bgColor: '#2d2c2c',\n    color: '#979797',\n    border: '1px solid rgba(163,168,174,0.1)',\n    hoverColor: '#d7d7d7',\n    selected: '#373636',\n    placeholderColor: 'rgba(163, 168, 174, 0.9)',\n  },\n  home: {\n    color: 'rgba(163, 168, 174, 0.3)',\n    titleColor: 'rgba(163, 168, 174, 0.3)',\n    svgColor: 'rgba(163, 168, 174, 0.1)',\n    tryButtonHoverColor: 'rgba(255, 255, 255, 0.6)',\n  },\n  settings: {\n    panelBgColor: 'rgba(10, 10, 10, 0.2)',\n  },\n  discover: {\n    panelBgColor: 'rgba(10, 10, 10, 0.2)',\n    helpBgColor: 'rgba(51,51,51, .9)',\n    helpColor: 'rgba(151,151,151,1)',\n    tooltipColor: 'rgba(115, 201, 144, .6)',\n  },\n  charts: {\n    axis: '#FFF',\n  },\n  tables: {\n    color: 'white',\n    colorEven: 'rgba(187, 183, 183, 1)',\n    bgColorEven: 'rgba(163,168,174,0.2)',\n    bgColor: 'rgba(163,168,174,0.1)',\n    highlightBgColor: 'rgba(226, 192, 141, .25)',\n  },\n  tooltips: {\n    bgColor: 'rgba(39, 41, 44, 0.9)',\n  },\n  blog: {\n    bgColor: '#2d2c2c',\n    border: '1px solid rgba(163,168,174,0.1)',\n    switcherBgColor: '#979797',\n    switcherColor: 'rgb(60, 60, 60)',\n    sectionsHoverColor: 'rgba(255, 255, 255, 0.9)',\n  },\n  workspace: {\n    activeLine: '#373636',\n    actionsPanel: {\n      bgColor: '#373636',\n    },\n  },\n  fuzzyFinder: {\n    bgColor: '#2d2c2c',\n    bgColorItem: '#2d2c2c',\n    bgColorItemActive: '#373636',\n    bgColorTextbox: 'rgba(0, 0, 0, 0.6)',\n    bgColorHint: 'rgba(0, 0, 0, 0.2)',\n    border: '1px solid #111314',\n    colorTextbox: 'rgba(115, 201, 144, 0.7)',\n    colorItem: '#d9dbde',\n    colorHint: '#d7dae0',\n  },\n  tour: {\n    bgColor: '#373636',\n    iconColor: 'rgb(226, 192, 141)',\n    iconColorHover: 'rgb(226, 192, 141)',\n  },\n  ribbon: {\n    bgColor: '#161719',\n    color: '#7d7d7d',\n    textShadow: '0 -.08em rgba(0, 0, 0, 0.5)',\n    shadow: '0 .15em .23em 0 rgba(0, 0, 0, 0.5)',\n    image: 'linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.15))',\n  },\n  tickets: {\n    placeholderColor: 'rgba(163, 168, 174, 0.9)',\n    searchColor: 'rgba(163, 168, 174, 0.5)',\n    searchMastchesListBgColor: 'rgba(100, 100, 100, 1)',\n    searchMastchesListColor: 'white',\n  },\n};\nexport const light = {\n  app: {\n    bgColor: '#f5f5f5',\n    color: '#9b9b9b',\n    border: '1px solid rgba(163,168,174,0.2)',\n    padding: '5px',\n    switchPanelIconColor: 'rgba(110, 110, 110, 0.4)',\n    scrollThumbInactiveBgColor: 'rgba(100, 100, 100, 0.1)',\n    scrollThumbBgColor: 'rgba(100, 100, 100, 0.2)',\n    scrollTrackShadow: 'inset 0 0 6px rgba(0, 0, 0, 0.1)',\n    // scroll props below are possibly not used\n    scrollThumb: '#bebebe',\n    scrollThumbInactive: 'transparent',\n    scrollTrack: 'transparent',\n    scrollCorner: 'transparent',\n    scrollShadow: 'none',\n  },\n  footer: {\n    bgColor: '#f5f5f5',\n    color: '#a3a8ae',\n    border: '1px solid rgba(163,168,174,0.2)',\n  },\n  sidebar: {\n    bgColor: '#f5f5f5',\n    color: '#979797',\n    border: '1px solid rgba(163,168,174,0.2)',\n    hoverColor: '#000',\n    selected: '#ececec',\n    placeholderColor: '#000',\n  },\n  home: {\n    color: '#b3b3b3',\n    titleColor: '#b3b3b3',\n    svgColor: 'rgba(163, 168, 174, 0.8)',\n    tryButtonHoverColor: 'rgba(100, 100, 100, 0.6)',\n  },\n  settings: {\n    panelBgColor: 'rgba(183, 181, 181, 0.2)',\n  },\n  discover: {\n    panelBgColor: 'rgba(183, 181, 181, 0.2)',\n    axis: '#000',\n    helpBgColor: 'rgba(205, 201, 201, 1)',\n    helpColor: 'rgba(100,100,100,1)',\n    tooltipColor: '#000',\n  },\n  charts: {\n    axis: '#b3b3b3',\n  },\n  tables: {\n    color: '#000',\n    colorEven: '#000',\n    bgColorEven: 'rgba(163,168,174,0.2)',\n    bgColor: 'rgba(163,168,174,0.1)',\n    highlightBgColor: 'rgba(226, 192, 141, .25)',\n  },\n  tooltips: {\n    bgColor: 'rgba(29, 29, 29, 0.2)',\n  },\n  blog: {\n    bgColor: '#f5f5f5',\n    border: '1px solid rgba(163,168,174,0.2)',\n    switcherBgColor: '#bebebe',\n    switcherColor: '#f5f5f5',\n    sectionsHoverColor: '#adaaaa',\n  },\n  workspace: {\n    activeLine: '#fff',\n    actionsPanel: {\n      bgColor: '#ececec',\n    },\n  },\n  fuzzyFinder: {\n    bgColor: '#ececec',\n    bgColorItem: '#f5f5f5',\n    bgColorItemActive: '#ececec',\n    bgColorTextbox: '#f5f5f5',\n    bgColorHint: 'rgba(255, 255, 255, 0.2)',\n    border: '1px solid #f5f5f5',\n    colorTextbox: '#9b9b9b',\n    colorItem: '#9b9b9b',\n    colorHint: '#9b9b9b',\n  },\n  tour: {\n    bgColor: '#ececec',\n    iconColor: '#979797',\n    iconColorHover: 'rgba(255, 255, 255, 0.8)',\n  },\n  ribbon: {\n    bgColor: '#fffdfd',\n    color: '#a6a6a6',\n    shadow: 'none',\n    textShadow: 'none',\n    image: 'none',\n  },\n  tickets: {\n    placeholderColor: '#000',\n    searchColor: 'rgba(163, 168, 174, 0.8)',\n    searchMastchesListBgColor: 'rgba(163,168,174,0.1)',\n    searchMastchesListColor: '#000',\n  },\n};\n\n// export const dark = {\n//   app: {\n//     bgColor: '#161719',\n//     color: '#a3a8ae',\n//     border: '1px solid #27292c',\n//     padding: '5px',\n//   },\n//   footer: {\n//     color: '#a3a8ae',\n//   },\n//   sidebar: {\n//     color: 'rgba(163, 168, 174, 0.5)',\n//     hoverColor: 'rgba(163, 168, 174, 0.8)',\n//   },\n// };\n// export const monokai = {\n//   app: {\n//     bgColor: '#2d2c2c',\n//     color: '#bbb7b7',\n//     border: '1px solid rgba(163,168,174,0.1)',\n//     padding: '5px',\n//   },\n//   footer: {\n//     color: '#a3a8ae',\n//   },\n//   sidebar: {\n//     color: '#979797',\n//     hoverColor: '#d7d7d7',\n//   },\n// };\n// export const light = {\n//   app: {\n//     bgColor: '#f5f5f5',\n//     color: '#9b9b9b',\n//     border: '1px solid rgba(163,168,174,0.2)',\n//     padding: '5px',\n//   },\n//   footer: {\n//     color: '#a3a8ae',\n//   },\n//   sidebar: {\n//     color: '#979797',\n//     hoverColor: '#d7d7d7',\n//   },\n// };\n","/*\n *\n * LanguageProvider constants\n *\n */\n\nexport const CHANGE_THEME = 'app/ThemeProvider/CHANGE_THEME';\nexport const DEFAULT_THEME = 'monokai';\n","import _ from 'lodash';\n\nexport function getQueryParams(search) {\n  if (!search || _.isEmpty(search.trim()) || !/^[?#]/.test(search)) return {};\n  return search.slice(1).split('&').reduce((queryParams, param) => {\n    const [key, value] = param.split('=');\n    const params = { ...queryParams };\n    // Decore URI and replace back slashes by white spaces if found\n    params[key] = value ? decodeURIComponent(value.replace(/\\+/g, ' ')) : '';\n    return params;\n  }, {});\n}\n","/*\n * Footer Messages\n *\n * This contains all the text for the Footer component.\n */\nimport { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  ok: {\n    id: 'kz.components.Modal.ok',\n    defaultMessage: 'Ok',\n  },\n  cancel: {\n    id: 'kz.components.Modal.cancel',\n    defaultMessage:\n      'Cancel',\n  },\n});\n","import styled from 'styled-components';\n\nexport const OverlapLayer = styled.div`\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background: rgba(0, 0, 0, 0.7);\n  z-index: 99999;\n  display: block;\n  pointer-events: auto;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n`;\n\nexport default OverlapLayer;\n","import styled, { keyframes } from 'styled-components';\n\nconst fadeAnimation = keyframes`\nfrom,\nto {\n  animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\n}\n\nfrom {\n  transform: translate(50%, -0%);\n  opacity: 0;\n}\n\nto {\n  transform: translate(50%, -50%);\n  opacity: 1;\n}\n`;\n\nexport const Container = styled.div`\n  margin: 0;\n  padding: 0;\n  opacity: 1;\n  position: absolute;\n  top: 50%;\n  right: 50%;\n  transform: translate(50%, -50%);\n  animation: ${fadeAnimation} 1.5s ease-in-out;\n`;\n\nexport default Container;\n","import styled from 'styled-components';\n\nexport const ModalContent = styled.div``;\n\nexport default ModalContent;\n","import styled from 'styled-components';\n\nexport const Divider = styled.div`\n  position: relative;\n  margin-bottom: 15px;\n  height: 1px;\n  &:before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 5%;\n    right: 5%;\n    width: 90%;\n    height: 2px;\n    background-image: linear-gradient(\n      to right,\n      transparent,\n      rgb(115, 201, 144),\n      transparent\n    );\n  }\n  &:after {\n    content: '';\n    position: absolute;\n    z-index: 1;\n    top: -7px;\n    left: calc(50% - 4px);\n    width: 14px;\n    height: 14px;\n    transform: rotate(45deg);\n    background-color: rgb(115, 201, 144);\n    border-bottom: 1px solid rgb(115, 201, 144);\n    border-right: 1px solid rgb(115, 201, 144);\n  }\n`;\n\nexport default Divider;\n","import styled from 'styled-components';\n\nexport const ModalActions = styled.div`\n  width: 600px;\n  text-align: center;\n`;\n\nexport default ModalActions;\n","import React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport Button from 'components/Button';\nimport PubSub from 'utils/pubsub';\nimport messages from './messages';\nimport OverlapLayer from './atoms/OverlapLayer';\nimport Container from './atoms/Container';\n// import BackgroundContainer from './atoms/BackgroundContainer';\nimport ModalContent from './atoms/ModalContent';\nimport Divider from './atoms/Divider';\nimport ModalActions from './atoms/ModalActions';\n\nexport class Modal extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { visible: false, content: null, disableOkButton: true };\n    this.onApproved = () => null;\n  }\n\n  componentWillMount() {\n    // Subscribe to fuzzy finder lang messages\n    this.pubSubToken = PubSub.subscribe(\n      PubSub.topics.MODAL_OPENED,\n      this.openModal.bind(this)\n    );\n  }\n\n  componentWillUnmount() {\n    // Unsubscribe to fuzzy finder lang messages\n    if (this.pubSubToken) PubSub.unsubscribe(this.pubSubToken);\n  }\n\n  openModal(topic, content) {\n    if (this.state.visible) return;\n    this.setState({ visible: true, content }, () => this.props.onOpen());\n  }\n\n  fadeOut({ style }, fn) {\n    style.opacity = 1;\n    (function fade() {\n      if ((style.opacity -= 0.1) < 0) {\n        style.display = 'none';\n        return fn();\n      }\n      setTimeout(fade, 50);\n    }());\n  }\n\n  disableNext(disableOkButton = true) {\n    this.setState({ disableOkButton });\n  }\n\n  cancel() {\n    this.props.onClose(); // needed to apply effect such as blur/unblur\n    this.fadeOut(this.overlap, () => this.setState({ visible: false }));\n  }\n\n  render() {\n    const ModalCustomContent = this.state.content;\n    return (\n      this.state.visible && (\n        <OverlapLayer innerRef={(overlap) => (this.overlap = overlap)}>\n          <Container>\n            <ModalContent>\n              {ModalCustomContent ? (\n                <ModalCustomContent\n                  disableNext={(...args) => this.disableNext(...args)}\n                  onApproved={(fn) => (this.onApproved = fn)}\n                />\n              ) : null}\n            </ModalContent>\n            <Divider />\n            <ModalActions>\n              <Button onClick={() => this.cancel()} title={<FormattedMessage {...messages.cancel} />} />\n              <Button\n                secundary\n                title={<FormattedMessage {...messages.ok} />}\n                disable={this.state.disableOkButton}\n                onClick={() => {\n                  if (this.onApproved()) {\n                    this.cancel();\n                  }\n                }}\n              />\n            </ModalActions>\n          </Container>\n        </OverlapLayer>\n      )\n    );\n  }\n}\n\nexport default Modal;\n","import { createSelector } from 'reselect';\n\nexport const settingsDomain = (state) => state.settings;\n\nexport const settings =\n    createSelector(\n        settingsDomain,\n        (settings) =>\n            settings\n    );","/*\n * Footer Messages\n *\n * This contains all the text for the Footer component.\n */\nimport { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  home: {\n    id: 'kz.containers.SidebarMenu.home',\n    defaultMessage: 'HOME',\n  },\n  settings: {\n    id: 'kz.containers.SidebarMenu.settings',\n    defaultMessage: 'SETTINGS',\n  },\n  discover: {\n    id: 'kz.containers.SidebarMenu.discover',\n    defaultMessage: 'DISCOVER',\n  },\n  tickets: {\n    id: 'kz.containers.SidebarMenu.tickets',\n    defaultMessage: 'YOUR TICKETS',\n  },\n  cashDrawer: {\n    id: 'kz.containers.SidebarMenu.cashDrawer',\n    defaultMessage: 'Cash Drawer',\n  },\n  searchTickets: {\n    id: 'kz.containers.SidebarMenu.searchTickets',\n    defaultMessage: 'Search Tickets',\n  },\n});\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React from 'react';\nimport styled from 'styled-components';\nimport Octicon from 'react-octicon';\nimport { Link } from 'react-router';\nimport { TICKET_POSITIVE_BALANCE, TICKET_NEGATIVE_BALANCE } from 'config';\nexport const Container = styled.div`\n  display: flex;\n  background-color: ${(props) =>\n    props.theme && props.theme.app.bgColor ? props.theme.app.bgColor : '#161719'};\n  color: ${(props) => (props.theme && props.theme.app.color ? props.theme.app.color : ' #a3a8ae')};\n  position: relative;\n  box-sizing: border-box;\n  height: initial;\n  overflow: hidden;\n  cursor: default;\n  -webkit-user-select: none;\n  user-select: none;\n  min-width: 200px;\n  width: 200px;\n  max-width: 200px;\n  z-index: 2;\n  display: flex;\n  flex-direction: column;\n  flex: 1 1 auto;\n  padding: 0;\n  margin: 0;\n  border-right: ${(props) =>\n    props.theme && props.theme.app.border ? props.theme.app.border : '1px solid #27292c'};\n`;\n\nexport const MenuGroup = styled.ul`\n  list-style: none;\n  padding: 0;\n  height: ${(props) => (props.static ? '88px' : 'calc(100% - 110px)')};\n  overflow: hidden;\n`;\n\n//@todo convert to ul element\nexport const MenuTicketListContainer = styled.div`\n  height: calc(100% - 24px);\n  overflow: auto;\n`;\n\nconst Footer = styled.div`\n  height: 70px;\n  width: 100%;\n  font-size: 1.5em;\n  text-align: center;\n  display: table;\n  /*border-top: ${(props) =>\n    props.theme && props.theme.app.border ? props.theme.app.border : '1px solid #27292c'};*/\n`;\nconst EM = styled.em`\n  font-size: 1em;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu, Cantarell, Arial,\n    sans-serif;\n  letter-spacing: 0.12em;\n  font-weight: 400;\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  margin-left: 10px;\n  font-style: normal;\n`;\nconst FooterContent = styled(Link)`\n  display: table-cell;\n  vertical-align: middle;\n  cursor: pointer;\n  height: 100%;\n  width: 100%;\n  text-decoration: none;\n  padding: 0;\n  margin: 0;\n  transition: color 0.5s ease-in-out;\n  color: ${(props) =>\n    props.theme && props.theme.sidebar.color\n      ? props.theme.sidebar.color\n      : 'rgba(163, 168, 174, 0.5)'};\n  &:hover {\n    color: ${(props) =>\n    props.theme && props.theme.sidebar.hoverColor\n      ? props.theme.sidebar.hoverColor\n      : 'rgba(163, 168, 174, 0.8)'};\n  }\n`;\nexport function MenuFooter(props) {\n  return (\n    <Footer>\n      <FooterContent to={props.to} onClick={props.onClick}>\n        <Octicon name={props.icon} /> <EM>{props.children}</EM>\n      </FooterContent>\n    </Footer>\n  );\n}\n\nMenuFooter.propTypes = {\n  icon: React.PropTypes.string.isRequired,\n  title: React.PropTypes.string.isRequired,\n  to: React.PropTypes.string,\n};\n\nconst SearchContainer = styled.div`\n  color: rgba(163, 168, 174, 0.5);\n  width: 100%;\n  text-align: center;\n  padding: 8px 0px;\n`;\nconst SearchInput = styled.input`\n  outline: none;\n  font-size: 1.3em;\n  margin-left: 14px;\n  width: 100px;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  font-weight: 100;\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n\n  &::-webkit-input-placeholder {\n    /* WebKit, Blink, Edge */\n    color: ${(props) =>\n    props.theme && props.theme.sidebar.placeholderColor\n      ? props.theme.sidebar.placeholderColor\n      : 'rgba(163, 168, 174, 0.3)'}\n  }\n  &:-moz-placeholder {\n    /* Mozilla Firefox 4 to 18 */\n    color: ${(props) =>\n    props.theme && props.theme.sidebar.placeholderColor\n      ? props.theme.sidebar.placeholderColor\n      : 'rgba(163, 168, 174, 0.3)'}\n    opacity: 1;\n  }\n  &::-moz-placeholder {\n    /* Mozilla Firefox 19+ */\n    color: ${(props) =>\n    props.theme && props.theme.sidebar.placeholderColor\n      ? props.theme.sidebar.placeholderColor\n      : 'rgba(163, 168, 174, 0.3)'}\n    opacity: 1;\n  }\n  &:-ms-input-placeholder {\n    /* Internet Explorer 10-11 */\n    color: ${(props) =>\n    props.theme && props.theme.sidebar.placeholderColor\n      ? props.theme.sidebar.placeholderColor\n      : 'rgba(163, 168, 174, 0.3)'}\n  }\n  &::-ms-input-placeholder {\n    /* Microsoft Edge */\n    color: ${(props) =>\n    props.theme && props.theme.sidebar.placeholderColor\n      ? props.theme.sidebar.placeholderColor\n      : 'rgba(163, 168, 174, 0.3)'}\n  }\n`;\n\nexport function Search(props) {\n  const stopPropagation = (event) => {\n    event.preventDefault();\n    event.stopPropagation();\n    return false;\n  };\n  return (\n    <SearchContainer>\n      <Octicon name=\"search\" />\n      <SearchInput\n        type=\"text\"\n        placeholder=\"Search Tickets\"\n        onKeyDown={(event) => {\n          const { target, key } = event;\n          switch (key) {\n            case 'Enter':\n              props.onChange && props.onChange(target.value);\n              return stopPropagation(event);\n\n            case 'Escape':\n              return stopPropagation(event);\n            default:\n          }\n          return true;\n        }}\n      />\n    </SearchContainer>\n  );\n}\n\nexport function MenuSearch(props) {\n  return (\n    <Search\n      onChange={(value) =>\n        props.onChange ? props.onChange(...value.split(' ').map((v) => v.trim())) : null\n      }\n    />\n  );\n}\n\nexport const Menu = styled.div`\n  border: 0;\n  outline: 0;\n  border-image: none;\n  border-bottom: ${(props) =>\n    props.theme && props.theme.app.border ? props.theme.app.border : '1px solid #27292c'};\n  order: 0;\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  width: 100%;\n  height: calc(100% - 70px);\n  overflow-y: hidden;\n  overflow-x: hidden;\n`;\n\nconst cursor = (props) => `\ntransition: color .5s ease-in-out;\ncursor:pointer;\n &:hover {\n    color: ${\n  props.theme && props.theme.sidebar.hoverColor\n    ? props.theme.sidebar.hoverColor\n    : 'rgba(163, 168, 174, 0.8)'\n  };\n  }`;\n\nconst route = `\n  border-left: 5px solid #73c990;\n  background-color: rgba(163, 168, 174, 0.1);\n`;\n\nconst selected = (isSelected, color) => (isSelected ? color : 'inherit');\n\nconst Item = styled.li`\n  color: ${(props) =>\n    props.theme && props.theme.sidebar.color\n      ? props.theme.sidebar.color\n      : 'rgba(163, 168, 174, 0.5)'};\n  font-size: ${(props) => (props.small ? '1.1' : '1.5')}em;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu, Cantarell, Arial,\n    sans-serif;\n  letter-spacing: 0.15em;\n  font-weight: ${(props) => (props.highlight ? '100' : '100')};\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  ${(props) => (!props.disabled && props.cursor ? cursor(props) : '')};\n  border-left: 5px solid transparent;\n  ${(props) => (props.actived ? route : '')};\n  ${(props) => (props.disabled ? 'color: rgba(163, 168, 174, 0.3);' : '')};\n`;\nconst P = styled.p`\n  padding: 0 30px;\n  margin: 4px;\n  width: 190px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin-bottom: ${(props) => (props.noroute ? '0' : '4px')};\n  padding-bottom: ${(props) => (props.noroute ? '4px' : '0')};\n  color: ${(props) => selected(props.selected, props.theme.sidebar.hoverColor)};\n`;\nconst actived = (props) => `\n    color: ${\n  props.theme && props.theme.sidebar.hoverColor\n    ? props.theme.sidebar.hoverColor\n    : 'rgba(163, 168, 174, 0.8)'\n  };\n`;\nconst notActived = (props) => `\n    color: ${\n  props.theme && props.theme.sidebar.color\n    ? props.theme.sidebar.color\n    : 'rgba(163, 168, 174, 0.5)'\n  };\n`;\nconst Route = styled(Link)`\n  transition: color 0.5s ease-in-out;\n  text-decoration: none;\n  ${(props) => (props.actived ? actived(props) : notActived(props))};\n  padding: 0;\n  margin: 0;\n  &:hover {\n    color: ${(props) =>\n    props.theme && props.theme.sidebar.hoverColor\n      ? props.theme.sidebar.hoverColor\n      : 'rgba(163, 168, 174, 0.8)'};\n  }\n`;\n\nconst TicketStateSpan = styled.span`\n  display: inline-block;\n  border-radius: 50%;\n  width: 0.5em;\n  height: 0.5em;\n  margin-left: 8px;\n  margin-bottom: 1px;\n`;\n// const TicketSaveStateSpan = styled(TicketStateSpan) `\n//   background-color: rgba(163, 168, 174, 0.6);\n// `;\nconst TicketSaveStateSpan = styled(TicketStateSpan)`\n  background-color: rgba(100, 148, 237, 1);\n`;\nconst TicketSoldStateSpan = styled(TicketStateSpan)`\n  background-color: rgba(115, 201, 144, 1);\n`;\nconst TicketReturnStateSpan = styled(TicketStateSpan)`\n  background-color: rgba(226, 192, 141, 1);\n`;\nconst getTicketState = (balance) => {\n  // if (balance === 'positive') {\n  //   return <TicketSaveStateSpan title={'saved'} />;\n  // }\n  if (balance === TICKET_POSITIVE_BALANCE) {\n    return <TicketSoldStateSpan title={'sold'} />;\n  }\n  if (balance === TICKET_NEGATIVE_BALANCE) {\n    return <TicketReturnStateSpan title={'return'} />;\n  }\n};\nexport function MenuItem(props) {\n  return (\n    <Item\n      small={props.small}\n      cursor={props.cursor}\n      highlight={props.highlight}\n      actived={props.actived}\n      onClick={(event) => props.onClick ? props.onClick(event) : null}\n      disabled={props.disabled}\n    >\n      {\n        props.to ? (\n          <Route to={props.to} actived={props.actived}>\n            <P selected={props.selected}>\n              {props.children}\n              {!!props.state && getTicketState(props.state)}\n            </P>\n          </Route>\n        ) : (\n            <P selected={props.selected} noroute={props.noroute}>\n              {props.children}\n              {!!props.state && getTicketState(props.state)}\n            </P>\n          )\n      }\n    </Item >\n  );\n}\n\nMenuItem.propTypes = {\n  small: React.PropTypes.bool,\n  highlight: React.PropTypes.bool,\n  cursor: React.PropTypes.bool,\n  actived: React.PropTypes.bool,\n  selected: React.PropTypes.bool,\n  to: React.PropTypes.string,\n  onClick: React.PropTypes.func,\n};\n","import React from 'react';\n// import styles from './styles.css';\nimport { withRouter } from 'react-router';\nimport { createStructuredSelector } from 'reselect';\nimport { connect } from 'react-redux';\nimport { FormattedMessage } from 'react-intl';\nimport { ticketList } from 'selectors/tickets';\nimport { makeSelectTicketID } from './selectors';\nimport {\n  settings\n} from 'selectors/settings';\n// import { mouseTrap } from 'react-mousetrap';\n// import { createStructuredSelector } from 'reselect';\n// import { push } from 'react-router-redux';\n// import HotKeys from 'utils/hotkeys';\n// import PubSub from 'utils/pubsub';\nimport { searchTickets } from './actions';\nimport { loadTicket, printDailySummaryTicket } from 'actions/tickets';\n// import { selectResources, selectResource } from './selectors';\nimport messages from './messages';\nimport {\n  Container,\n  Menu,\n  MenuFooter,\n  MenuSearch,\n  MenuGroup,\n  MenuItem,\n  MenuTicketListContainer,\n} from './wrappers';\nimport { tickets as ticketsSelectors } from '@kalzate/cy';\n\nfunction SidebarMenu(props) {\n  const routeName = props.routes[props.routes.length - 1].name;\n  return (\n    <Container>\n      <Menu>\n        <MenuGroup static>\n          <MenuItem actived={routeName === 'home'} to=\"/demo\" highlight cursor>\n            <FormattedMessage {...messages.home} />\n          </MenuItem>\n          <MenuItem actived={routeName === 'settings'} to=\"/demo/settings\" highlight cursor>\n            <FormattedMessage {...messages.settings} />\n          </MenuItem>\n          <MenuItem actived={routeName === 'discover'} highlight cursor disabled>\n            <FormattedMessage {...messages.discover} />\n          </MenuItem>\n          {/* <MenuItem actived={routeName === 'discover'} to=\"/discover\" highlight cursor>\n            <FormattedMessage {...messages.discover} />\n          </MenuItem> */}\n        </MenuGroup>\n        <MenuGroup>\n          <MenuItem actived={routeName === 'tickets'} to=\"/demo/tickets\" highlight cursor>\n            <FormattedMessage {...messages.tickets} />\n          </MenuItem>\n\n          {/**\n            <MenuItem title=\"10001\" small highlight cursor />\n            <MenuItem title=\"10002\" small highlight cursor />\n            <MenuItem title=\"100013\" small highlight cursor />\n          **/}\n          <MenuTicketListContainer data-cy={ticketsSelectors.TICKETS_LIST}>\n            {props.ticketList.items.map((ticket) => (\n              <MenuItem\n                key={ticket.created_at}\n                selected={ticket.id === props.ticketID}\n                onClick={() => {\n                  // @todo move to a saga\n                  props.loadTicket(ticket.id);\n                  props.router.push('/demo/tickets');\n                }}\n                state={ticket.balance}\n                small\n                highlight\n                cursor\n              >\n                {String(ticket.created_at)}\n              </MenuItem>\n            ))}\n          </MenuTicketListContainer>\n        </MenuGroup>\n      </Menu>\n      {/* <MenuSearch\n        onChange={(field, value, operator = '$eq') => props.searchTickets(field, value, operator)}\n      /> */}\n      <MenuFooter to=\"/demo/tickets\" icon=\"inbox\" onClick={() => {\n        props.printDailySummaryTicket(props.settings);\n      }}>\n        <FormattedMessage {...messages.cashDrawer} />\n      </MenuFooter>\n    </Container>\n  );\n}\n\nSidebarMenu.propTypes = {\n  routes: React.PropTypes.array,\n  tickets: React.PropTypes.array,\n  ticketID: React.PropTypes.string,\n  loadTicket: React.PropTypes.func,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  ticketList,\n  settings,\n  ticketID: makeSelectTicketID(),\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    loadTicket: (ticket) => dispatch(loadTicket(ticket)),\n    searchTickets: (field, value, operator) => dispatch(searchTickets(field, value, operator)),\n    printDailySummaryTicket: (settings) => dispatch(printDailySummaryTicket(settings)),\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(SidebarMenu));\n","import { createSelector } from 'reselect';\n\n/**\n * Direct selector to the ticketPayments state domain\n */\nconst selectTickets = () => (state) => state.tickets;\nconst selectTicket = () => (state) => state.ticket;\n\n\n/**\n * Other specific selectors\n */\n\n/**\n * Default selector used by TicketPayments\n */\n\nconst makeSelectTicketItems = () =>\n  createSelector(selectTickets(), (substate) =>\n    substate.items);\n\nconst makeSelectTicketID = () =>\n  createSelector(selectTicket(), (substate) =>\n    substate.id);\n\n\nexport default selectTickets;\nexport {\n  selectTickets,\n  makeSelectTicketItems,\n  makeSelectTicketID,\n};\n","import { LOAD_TICKET_ACTION, SEARCH_TICKETS_ACTION } from 'containers/TicketSellingPage/constants';\n\n/**\n * Changes the input field of the form\n *\n * @param  {name} name The new text of the input field\n *\n * @return {object}    An action object with a type of CHANGE_USERNAME\n */\nexport function loadTicket(ticketId, options = {}) {\n  return {\n    type: LOAD_TICKET_ACTION,\n    data: {\n      ticketId,\n      options\n    },\n  };\n}\n\nexport function searchTickets(field, value, operator) {\n  return {\n    type: SEARCH_TICKETS_ACTION,\n    field,\n    value,\n    operator,\n  };\n}\n","export default {\n  CREATE_TICKET: { keys: 'alt+x', default: false },\n  CHANGE_LANG: { keys: 'alt+l', default: false },\n  CHANGE_THEME: { keys: 'alt+t', default: false },\n  IMPORT_STOCK: { keys: 'alt+i', default: false },\n  EXPORT_DATABASE: { keys: 'alt+e', default: false },\n  RESET_DB: { keys: 'alt+r+d', default: false },\n  RUN_NOTEBOOK: { keys: 'alt+enter', default: false },\n  MOVE_DOWN_FUZZY_FINDER: { keys: 'down', default: true },\n  MOVE_UP_FUZZY_FINDER: { keys: 'up', default: true },\n  EXIT_FUZZY_FINDER: { keys: 'esc', default: true },\n  ENTER_FUZZY_FINDER: { keys: 'enter', default: true },\n  SPLIT_WORKSPACE_VERTICALLY: { keys: 'alt+v', default: false },\n  DISCOVER_ACTION: { keys: 'alt+c', default: false },\n};\n","/**\n * i18n.js\n *\n * This will setup the i18n language files and locale data for your app.\n *\n */\nimport { addLocaleData } from 'react-intl';\nimport enLocaleData from 'react-intl/locale-data/en';\nimport esLocaleData from 'react-intl/locale-data/es';\n\nimport { DEFAULT_LOCALE } from './containers/App/constants'; // eslint-disable-line\nimport enTranslationMessages from './translations/en.json';\nimport esTranslationMessages from './translations/es.json';\n\nexport const appLocales = ['en', 'es'];\n\nexport const appLocalesMessages = {\n  en: 'kz.containers.LanguageProvider.en',\n  es: 'kz.containers.LanguageProvider.es',\n};\n\naddLocaleData(enLocaleData);\naddLocaleData(esLocaleData);\n\nexport const formatTranslationMessages = (locale, messages) => {\n  const defaultFormattedMessages =\n    locale !== DEFAULT_LOCALE\n      ? formatTranslationMessages(DEFAULT_LOCALE, enTranslationMessages)\n      : {};\n  return Object.keys(messages).reduce((formattedMessages, key) => {\n    let message = messages[key];\n    if (!message && locale !== DEFAULT_LOCALE) {\n      message = defaultFormattedMessages[key];\n    }\n    return Object.assign(formattedMessages, { [key]: message });\n  }, {});\n};\n\nexport const translationMessages = {\n  en: formatTranslationMessages('en', enTranslationMessages),\n  es: formatTranslationMessages('es', esTranslationMessages),\n};\n","import { createSelector } from 'reselect';\n\n/**\n * Direct selector to the languageToggle state domain\n */\nconst selectLanguage = (state) => state.language;\n\n/**\n * Select the language locale\n */\n\nconst makeSelectLocale = () => createSelector(\n  selectLanguage,\n  (languageState) => languageState.locale);\n\nexport {\n  selectLanguage,\n  makeSelectLocale,\n};\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const Span = styled.span`\n  :root {\n    --langColor: inherit;\n  }\n\n  .status_bar_lang {\n    color: var(--langColor);\n  }\n`;\n","/*\n *\n * LanguageToggle\n *\n */\n\nimport React from 'react';\nimport { mouseTrap } from 'react-mousetrap';\nimport { connect } from 'react-redux';\nimport { createSelector } from 'reselect';\nimport Octicon from 'react-octicon';\nimport * as Constants from 'config';\nimport HotKeys from 'utils/hotkeys';\nimport PubSub from 'utils/pubsub';\nimport { appLocalesMessages } from 'i18n';\nimport { getLangItems } from 'utils/helper';\nimport { makeSelectLocale } from 'containers/LanguageProvider/selectors';\n// import { changeLocale } from 'containers/LanguageProvider/actions';\nimport { updateSetting } from 'containers/SettingsPage/actions';\nimport { Span } from './wrappers';\n\nclass LocaleToggle extends React.Component {\n  componentWillMount() {\n    // Subscribe to hotkeys\n    this.props.bindShortcut(HotKeys.CHANGE_LANG.keys, this.bindShortcut.bind(this));\n    // Subscribe to fuzzy finder lang messages\n    this.pubSubToken = PubSub.subscribe(\n      PubSub.topics.FUZZY_FINDER_LANG_ITEM_SELECTED,\n      this.changeLang.bind(this)\n    );\n  }\n\n  componentWillUnmount() {\n    // Unsubscribe to fuzzy finder lang messages\n    if (this.pubSubToken) PubSub.unsubscribe(this.pubSubToken);\n  }\n\n  openFuzzyFinder() {\n    // Request the fuzzy finder\n    PubSub.publish(PubSub.topics.FUZZY_FINDER_REQUIRED, {\n      // items: [{title: 'English', marked: true, value: 'en'}, {title: 'Spanish', value: 'es'}, {title: 'Hebrew', value: 'heb'}],\n      items: getLangItems(appLocalesMessages, this.props.locale),\n      topic: PubSub.topics.FUZZY_FINDER_LANG_ITEM_SELECTED,\n    });\n  }\n\n  bindShortcut() {\n    this.openFuzzyFinder();\n    // Prevent default\n    return HotKeys.CHANGE_LANG.default;\n  }\n\n  changeLang(topic, lang) {\n    this.props.onLocaleToggle(lang);\n  }\n\n  render() {\n    return (\n      <Span title={this.props.locale} onClick={() => this.openFuzzyFinder()}>\n        {this.props.children}\n      </Span>\n    );\n  }\n}\n\nLocaleToggle.propTypes = {\n  onLocaleToggle: React.PropTypes.func,\n  locale: React.PropTypes.string,\n  bindShortcut: React.PropTypes.func,\n  children: React.PropTypes.object,\n};\n\nconst mapStateToProps = createSelector(\n  makeSelectLocale(),\n  (locale) => ({\n    locale,\n  })\n);\n\nconst mapDispatchToProps = (dispatch) => ({\n  onLocaleToggle: (lang) => dispatch(updateSetting(Constants.LANG_SETTING, lang)),\n  dispatch,\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(mouseTrap(LocaleToggle));\n","import { createSelector } from 'reselect';\n\n/**\n * Direct selector to the languageToggle state domain\n */\nconst selectTheme = (state) => state.theme;\n\n/**\n * Select the language locale\n */\n\nconst makeSelectTheme = () =>\n  createSelector(selectTheme, (themeState) => themeState.theme);\n\nconst makeSelectThemeName = () =>\n  createSelector(selectTheme, (themeState) => themeState.name);\n\nexport { selectTheme, makeSelectTheme, makeSelectThemeName };\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const Span = styled.span`\n  :root {\n    --langColor: inherit;\n  }\n\n  .status_bar_lang {\n    color: var(--langColor);\n  }\n`;\n","/*\n *\n * LanguageToggle\n *\n */\n\nimport React from 'react';\nimport { mouseTrap } from 'react-mousetrap';\nimport { connect } from 'react-redux';\nimport { createSelector } from 'reselect';\n// import { FormattedMessage } from 'react-intl';\n// import Octicon from 'react-octicon';\nimport * as Constants from 'config';\nimport HotKeys from 'utils/hotkeys';\nimport PubSub from 'utils/pubsub';\nimport { getThemeItems } from 'containers/ThemeProvider/utils';\nimport { makeSelectThemeName } from 'containers/ThemeProvider/selectors';\n// import { changeTheme } from 'containers/ThemeProvider/actions';\nimport { updateSetting } from 'containers/SettingsPage/actions';\nimport { Span } from './wrappers';\n// import messages from './messages';\n\nclass ThemeToggle extends React.Component {\n  componentWillMount() {\n    // Subscribe to hotkeys\n    this.props.bindShortcut(\n      HotKeys.CHANGE_THEME.keys,\n      this.bindShortcut.bind(this)\n    );\n    // Subscribe to fuzzy finder lang messages\n    this.pubSubToken = PubSub.subscribe(\n      PubSub.topics.FUZZY_FINDER_THEME_ITEM_SELECTED,\n      this.changeTheme.bind(this)\n    );\n  }\n\n  componentWillUnmount() {\n    // Unsubscribe to fuzzy finder lang messages\n    if (this.pubSubToken) PubSub.unsubscribe(this.pubSubToken);\n  }\n\n  openFuzzyFinder() {\n    // Request the fuzzy finder\n    PubSub.publish(PubSub.topics.FUZZY_FINDER_REQUIRED, {\n      // items: [{title: 'English', marked: true, value: 'en'}, {title: 'Spanish', value: 'es'}, {title: 'Hebrew', value: 'heb'}],\n      items: getThemeItems(this.props.theme),\n      topic: PubSub.topics.FUZZY_FINDER_THEME_ITEM_SELECTED,\n    });\n  }\n\n  bindShortcut() {\n    this.openFuzzyFinder();\n    // Prevent default\n    return HotKeys.CHANGE_THEME.default;\n  }\n\n  changeTheme(topic, theme) {\n    this.props.onThemeToggle(theme);\n  }\n\n  render() {\n    return (\n      <Span title={this.props.theme} onClick={() => this.openFuzzyFinder()}>\n        {this.props.children}\n      </Span>\n    );\n  }\n}\n\nThemeToggle.propTypes = {\n  onThemeToggle: React.PropTypes.func,\n  theme: React.PropTypes.string,\n  bindShortcut: React.PropTypes.func,\n};\n\nconst mapStateToProps = createSelector(makeSelectThemeName(), (theme) => ({\n  theme,\n}));\n\nconst mapDispatchToProps = (dispatch) => ({\n  onThemeToggle: (theme) => dispatch(updateSetting(Constants.THEME_SETTING, theme)),\n  dispatch,\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(\n  mouseTrap(ThemeToggle)\n);\n","import * as themes from './themes';\n\nexport function getThemeItems(currentTheme) {\n  return Object.keys(themes).map((theme) => ({\n    value: theme,\n    title: `kz.containers.ThemeProvider.themes.${theme}`,\n    marked: theme === currentTheme,\n  }));\n}\n","/**\n*\n* A\n*\n*/\n\nimport React, { PropTypes } from 'react';\nimport { Link } from 'react-router';\nimport styled, { css } from 'styled-components';\n\nconst pickColor = (style) => {\n  const defaultValue = '#a3a8ae';\n  if (!style) return defaultValue;\n  if (style.primary) return '#6494ed';\n  if (style.secondary) return '#73c990';\n  return defaultValue;\n};\nconst linkStyles = css`\n  text-decoration: none;\n  color: ${(props) => pickColor(props.style)};\n  font-style: normal;\n  cursor: pointer;\n  &:hover {\n    text-decoration: underline;\n  }\n  /* Octicon case */\n  .octicon {\n    margin: 0;\n  }\n  .octicon ~span {\n    margin: auto 4px;\n  }\n`;\n\nconst RouteLink = styled(Link)`${linkStyles}`;\nconst ALink = styled.a`${linkStyles};`;\n\nfunction A(props) {\n  if (props.to) {\n    return (\n      <RouteLink {...props}>\n        {props.children}\n      </RouteLink>\n    );\n  }\n\n  return (\n    <ALink {...props}>\n      {props.children}\n    </ALink>\n  );\n}\n\nA.propTypes = {\n  to: PropTypes.string,\n  children: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n};\n\nexport default A;\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const Container = styled.div`\n  display: flex;\n  justify-content: space-between;\n  padding: 0;\n  background-color: ${(props) =>\n    props.theme && props.theme.app.bgColor\n      ? props.theme.app.bgColor\n      : '#161719'};\n  color: ${(props) =>\n    props.theme && props.theme.footer.color\n      ? props.theme.footer.color\n      : ' #a3a8ae'};\n  height: 3.0em;\n  border-top: ${(props) =>\n    props.theme && props.theme.app.border\n      ? props.theme.app.border\n      : '1px solid #27292c'};\n`;\n\nexport const StatusBar = styled.div`\n  -webkit-user-select: none;\n  cursor: default;\n  overflow: hidden;\n  white-space: nowrap;\n  min-width: -webkit-min-content;\n  display: flex;\n  justify-content: space-between;\n  padding: 0 0.75em;\n  width: 100%;\n  line-height: 3.0em;\n`;\n\n// StatusBarLeft is same as StatusBarRight, but it is intended\nexport const StatusBarLeft = styled.div``;\n\nexport const StatusBarRight = styled.div``;\n\nexport const StatusBarItem = styled.span`margin: auto 4px;`;\n","/*\n * Footer Messages\n *\n * This contains all the text for the Footer component.\n */\nimport { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  home: {\n    id: 'kz.components.Footer.home',\n    defaultMessage: 'Home',\n  },\n  bugs: {\n    id: 'kz.components.Footer.bugs',\n    defaultMessage: 'Bugs',\n  },\n  license: {\n    id: 'kz.components.Footer.license',\n    defaultMessage: 'MIT',\n  },\n  languages: {\n    id: 'kz.components.Footer.languages',\n    defaultMessage: 'Languages',\n  },\n  themes: {\n    id: 'kz.components.Footer.themes',\n    defaultMessage: 'Themes',\n  },\n  help: {\n    id: 'kz.components.Footer.help',\n    defaultMessage: 'Help',\n  },\n});\n","import React from 'react';\n\nimport { FormattedMessage } from 'react-intl';\nimport Octicon from 'react-octicon';\nimport LocaleToggle from 'containers/LocaleToggle';\nimport ThemeToggle from 'containers/ThemeToggle';\nimport A from 'components/A';\nimport {\n  Container,\n  StatusBar,\n  StatusBarLeft,\n  StatusBarRight,\n  StatusBarItem,\n} from './wrappers';\nimport messages from './messages';\n\nexport default function Footer() {\n  return (\n    <Container>\n      <StatusBar>\n        <StatusBarLeft>\n          <StatusBarItem>\n            <A to=\"https://kalzate.app\" target=\"_blank\" style={{ primary: true }}>\n              <Octicon name=\"home\" />\n              <FormattedMessage {...messages.home} />\n            </A>\n          </StatusBarItem>\n          <StatusBarItem>\n            <A\n              target=\"_blank\"\n              href=\"https://github.com/yourshoes/kalzate/issues\"\n            >\n              <Octicon name=\"flame\" />\n              <FormattedMessage {...messages.bugs} />\n            </A>\n          </StatusBarItem>\n          <StatusBarItem>\n            <A\n              target=\"_blank\"\n              href=\"https://github.com/yourshoes/kalzate/blob/unstable/LICENSE.md\"\n            >\n              <Octicon name=\"law\" />\n              <FormattedMessage {...messages.license} />\n            </A>\n          </StatusBarItem>\n        </StatusBarLeft>\n        <StatusBarRight>\n          <LocaleToggle>\n            <StatusBarItem>\n              <A>\n                <Octicon name=\"globe\" />\n                <FormattedMessage {...messages.languages} />\n              </A>\n            </StatusBarItem>\n          </LocaleToggle>\n          <ThemeToggle>\n            <StatusBarItem>\n              <A>\n                <Octicon name=\"paintcan\" />\n                <FormattedMessage {...messages.themes} />\n              </A>\n            </StatusBarItem>\n          </ThemeToggle>\n          <StatusBarItem>\n            <A target=\"_blank\"\n              href=\"https://kalzate.app#donate\"\n              style={{ secondary: true }}>\n              <Octicon name=\"rocket\" />\n              <FormattedMessage {...messages.help} />\n              {/* <FormattedMessage {...messages.notifications} />*/}\n            </A>\n          </StatusBarItem>\n        </StatusBarRight>\n      </StatusBar>\n    </Container>\n  );\n}\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled, { keyframes } from 'styled-components';\n\nconst fadeInAnimation = keyframes`\n  from {\n      opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n`;\nconst danceAnimation = keyframes`\n  0% {\n    transform: translate(0, 0);\n  }\n  50% {\n    transform: translate(2px, 0);\n  }\n  100% {\n    transform: translate(0, 0);\n  }\n`;\n\nconst Position = (position, amount) => `${position}: ${amount}px;`;\n\nexport const Container = styled.div`\n  position: absolute;\n  outline: none;\n  z-index: 3;\n  width: 16px;\n  height: 16px;\n  text-align: center;\n  -webkit-transform: translateZ(0);\n  -webkit-font-smoothing: antialiased;\n  color: rgb(226, 192, 141);\n  ${(props) => (props.left ? Position('left', props.left) : '')} ${(props) =>\n      props.right ? Position('right', props.right) : ''} ${(props) =>\n      props.top ? Position('top', props.top) : ''} ${(props) =>\n      props.bottom ? Position('bottom', props.bottom) : ''};\n`;\n\nexport const Animate = styled.div`\n  opacity: 0;\n  opacity: 1 \\9; /*just in case ie*/\n  -webkit-animation: ${fadeInAnimation} 1s ease-in 1,\n    ${danceAnimation} 2s ease-in-out infinite alternate;\n  -moz-animation: ${fadeInAnimation} 1s ease-in 1,\n    ${danceAnimation} 2s ease-in-out infinite alternate;\n  animation: ${fadeInAnimation} 1s ease-in 1,\n    ${danceAnimation} 2s ease-in-out infinite alternate;\n\n  -webkit-animation-fill-mode: forwards;\n  -moz-animation-fill-mode: forwards;\n  animation-fill-mode: forwards;\n\n  -webkit-animation-delay: 2s;\n  -moz-animation-delay: 2s;\n  animation-delay: 2s;\n`;\n\nconst down = `\n -webkit-transform: translateY(10px);\n  -moz-transform: translateY(10px);\n  -ms-transform: translateY(10px);\n  -o-transform: translateY(10px);\n  transform: translateY(10px);\n`;\nconst up = `\n  top: 30px;\n  & :after {\n    top: -10px;\n    transform: rotate(180deg);\n  }\n  & :before {\n    top: -20px;\n  }\n`;\nconst left = `\n  left: -215px;\n  top: -75px;\n  bottom: initial;\n  & :after {\n    left: 208px;\n    bottom: 15px;\n    transform: rotate(270deg);\n  }\n  & :before {\n    height: 105px;\n    left: 200px;\n    top: 0px;\n    width: 20px;\n  }\n`;\n\nconst visible = `\n  -webkit-transition: all .25s ease-out;\n  -moz-transition: all .25s ease-out;\n  -ms-transition: all .25s ease-out;\n  -o-transition: all .25s ease-out;\n  transition: all .25s ease-out;\n  opacity: 1;\n  pointer-events: auto;\n  -webkit-transform: translateY(0px);\n  -moz-transform: translateY(0px);\n  -ms-transform: translateY(0px);\n  -o-transform: translateY(0px);\n  transform: translateY(0px);\n`;\n\nexport const ToolTip = styled.div`\n  background: rgba(39, 41, 44, 0.9);\n  bottom: 100%;\n  color: #a3a8ae;\n  display: inline-table;\n  left: -88px;\n  margin-bottom: 15px;\n  opacity: 0;\n  padding: 20px;\n  pointer-events: none;\n  position: absolute;\n  width: 200px;\n  -webkit-transition: all .25s ease-out;\n  -moz-transition: all .25s ease-out;\n  -ms-transition: all .25s ease-out;\n  -o-transition: all .25s ease-out;\n  transition: all .25s ease-out;\n  -webkit-box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.28);\n  -moz-box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.28);\n  -ms-box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.28);\n  -o-box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.28);\n  box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.28);\n  -webkit-user-select: none;\n\n  & :before {\n    bottom: -20px;\n    content: \" \";\n    display: block;\n    height: 20px;\n    left: 0;\n    position: absolute;\n    width: 100%;\n  }\n\n  & :after {\n    border-left: solid transparent 10px;\n    border-right: solid transparent 10px;\n    border-top: solid var(--bgColor) 10px;\n    bottom: -10px;\n    content: \" \";\n    height: 0;\n    left: 50%;\n    margin-left: -13px;\n    position: absolute;\n    width: 0;\n  }\n\n  ${(props) => (props.direction === 'up' ? up : '')} ${(props) =>\n      props.direction === 'down' ? down : ''} ${(props) =>\n      props.direction === 'left' ? left : ''};\n\n  ${(props) => (props.visible ? visible : '')};\n`;\n","import React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport Octicon from 'react-octicon';\nimport PubSub from 'utils/pubsub';\nimport { Animate, Container, ToolTip } from './wrappers';\n\nclass Tip extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { visible: false };\n  }\n  startReadingTip() {\n    this.setState({ visible: true });\n    PubSub.publish(PubSub.topics.HELPER_TOUR_TIP_OPENED, null);\n  }\n\n  stopReadingTip() {\n    this.setState({ visible: false });\n    PubSub.publish(PubSub.topics.HELPER_TOUR_TIP_CLOSED, null);\n  }\n\n  remove() {\n    // @todo is this fine? maybe we should re-render parent component to unmount child by publishing\n    // PubSub.publish(PubSub.topics.HELPER_TOUR_TIP_REMOVED, null);\n    this.tip.remove();\n  }\n\n  render() {\n    return (\n      <Container\n        innerRef={(tip) => {\n          this.tip = tip;\n        }}\n        onMouseEnter={(event) => this.startReadingTip(event)}\n        onMouseLeave={(event) => this.stopReadingTip(event)}\n        left={this.props.left}\n        top={this.props.top}\n        right={this.props.right}\n        bottom={this.props.bottom}\n      >\n        {this.props.animated ? (\n          <Animate>\n            <Octicon name={this.props.icon || 'unverified'} />\n          </Animate>\n        ) : (\n          <Octicon name={this.props.icon || 'unverified'} />\n        )}\n        <ToolTip direction={this.props.direction} visible={this.state.visible}>\n          <FormattedMessage {...this.props.message} />\n        </ToolTip>\n      </Container>\n    );\n  }\n}\n\nTip.propTypes = {\n  message: React.PropTypes.shape({\n    id: React.PropTypes.string,\n    defaultMessage: React.PropTypes.string,\n  }),\n  direction: React.PropTypes.string,\n  left: React.PropTypes.string,\n  top: React.PropTypes.string,\n  right: React.PropTypes.string,\n  bottom: React.PropTypes.string,\n  icon: React.PropTypes.string,\n  animated: React.PropTypes.bool,\n};\n\nexport default Tip;\n","/*\n * Footer Messages\n *\n * This contains all the text for the Footer component.\n */\nimport { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  treeMessage: {\n    id: 'octoql.components.HelperTour.tree.message',\n    defaultMessage: 'Use the options up',\n  },\n  footerLeftMessage: {\n    id: 'octoql.components.HelperTour.footer.left.message',\n    defaultMessage: 'Use the options down',\n  },\n  footerRightMessage: {\n    id: 'octoql.components.HelperTour.footer.right.message',\n    defaultMessage:\n      'Use the options below to change the application language, report a bug or syncronice your notebooks',\n  },\n});\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nexport const Container = styled.div`\n  & div:not(.overlay) ~ .overlay {\n    transition: all 1s ease;\n  }\n  & div:not(.overlay):hover ~ .overlay {\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: 2;\n    width: 100%;\n    height: 100%;\n    opacity: 0.3;\n    background-color: black;\n  }\n`;\n","import React from 'react';\nimport Tip from 'components/Tip';\nimport messages from './messages';\nimport { Container } from './wrappers';\n\nfunction HelperTour() {\n  // Use code below if want to provide extra tip features (i.e. you have read this tip many times, need more help?)\n  // componentWillMount() {\n  //   // Subscribe to fuzzy finder lang messages\n  //   this.pubSubTokenOpened = PubSub.subscribe(PubSub.topics.HELPER_TOUR_TIP_OPENED, this.tipOpened.bind(this));\n  //   this.pubSubTokenClosed = PubSub.subscribe(PubSub.topics.HELPER_TOUR_TIP_CLOSED, this.tipClosed.bind(this));\n  // }\n  //\n  // componentWillUnmount(){\n  //   // Unsubscribe to fuzzy finder lang messages\n  //   if(this.pubSubTokenOpened) PubSub.unsubscribe(this.pubSubTokenOpened);\n  //   if(this.pubSubTokenClosed) PubSub.unsubscribe(this.pubSubTokenClosed);\n  // }\n  //\n  // tipOpened(){\n  //   this.setState({overlay: true});\n  // }\n  //\n  // tipClosed(){\n  //   this.setState({overlay: false});\n  // }\n  return (\n    // left -> bottom 40, right 111\n    // down -> bottom 40, left 170\n    <Container>\n      {/* <Tip message={messages.treeMessage} direction=\"up\" top=\"19\" left=\"170\" />\n      <Tip\n        message={messages.footerLeftMessage}\n        direction=\"down\"\n        bottom=\"7\"\n        left=\"190\"\n      />\n      <Tip\n        message={messages.footerRightMessage}\n        direction=\"down\"\n        bottom=\"7\"\n        right=\"215\"\n  />*/}\n      <div className={'overlay'} />\n    </Container>\n  );\n}\n\nexport default HelperTour;\n","/*\n * Footer Messages\n *\n * This contains all the text for the Footer component.\n */\nimport { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  notFound: {\n    id: 'octoql.components.FuzzyFinder.notFound',\n    defaultMessage: 'No matches found',\n  },\n});\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport styled from 'styled-components';\n\nconst modalStyles = `\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n`;\n\nconst hiddenStyles = `\n  display: none;\n`;\n\nexport const Modal = styled.div`\n  ${(props) => (props.visible ? modalStyles : hiddenStyles)};\n`;\n\nexport const Overlay = styled.div`\n  position: relative;\n  width: 100%;\n  max-width: 50em;\n  margin: 0 auto;\n  left: initial;\n  z-index: 9999;\n  background-color: transparent;\n  padding: 0.75em;\n  top: 0;\n  border-top: none;\n  border-top-left-radius: 0;\n  border-top-right-radius: 0;\n\n  &:before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    z-index: 0;\n    background-color: ${(props) =>\n      props.theme && props.theme.fuzzyFinder.bgColor\n        ? props.theme.fuzzyFinder.bgColor\n        : '#1d1f21'};\n    border-top: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 0 0 6px 6px;\n    box-shadow: 0 6px 12px -2px rgba(0, 0, 0, 0.4);\n  }\n\n  &:after {\n    content: '';\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    z-index: -1;\n    background: rgba(12, 13, 14, 0.5);\n    backface-visibility: hidden;\n    -webkit-animation: overlay-fade 0.1s cubic-bezier(0.215, 0.61, 0.355, 1);\n  }\n`;\n\nexport const TextBox = styled.input`\n  position: relative;\n  display: inline-block;\n  border-radius: 4px;\n  border: 2px solid transparent;\n  padding: 5px;\n  font-size: 12px;\n  width: 100%;\n  margin: 0;\n  height: 2.5em;\n  cursor: pointer;\n  outline: none;\n  color: ${(props) =>\n    props.theme && props.theme.fuzzyFinder.colorTextbox\n      ? props.theme.fuzzyFinder.colorTextbox\n      : '#d9dbde'};\n  background-color: ${(props) =>\n    props.theme && props.theme.fuzzyFinder.bgColorTextbox\n      ? props.theme.fuzzyFinder.bgColorTextbox\n      : 'rgba(0, 0, 0, 0.6)'};\n  cursor: -webkit-image-set(\n        url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAL0lEQVQoz2NgCD3x//9/BhBYBWdhgFVAiVW4JBFKGIa4AqD0//9D3pt4I4tAdAMAHTQ/j5Zom30AAAAASUVORK5CYII=')\n          1x\n      )\n      5 8,\n    text;\n\n  &:focus {\n    border: 2px solid rgba(115, 201, 144, 0.7);\n    color: ${(props) =>\n      props.theme && props.theme.fuzzyFinder.colorTextbox\n        ? props.theme.fuzzyFinder.colorTextbox\n        : 'rgba(115, 201, 144, 0.7)'};\n    -webkit-text-fill-color: ${(props) =>\n      props.theme && props.theme.fuzzyFinder.colorTextbox\n        ? props.theme.fuzzyFinder.colorTextbox\n        : 'rgba(115, 201, 144, 0.7)'};\n  }\n\n  &::selection {\n    background: rgba(115, 201, 144, 0.3);\n  }\n`;\n\nexport const Results = styled.ol`\n  border: ${(props) =>\n    props.theme && props.theme.fuzzyFinder.border\n      ? props.theme.fuzzyFinder.border\n      : '1px solid #111314'};\n  background-color: ${(props) =>\n    props.theme && props.theme.fuzzyFinder.bgColorItem\n      ? props.theme.fuzzyFinder.bgColorItem\n      : '#222426'};\n  position: relative;\n  overflow-y: auto;\n  max-height: 312px;\n  margin: 10px 0 0 0;\n  padding: 0;\n  list-style: none;\n  cursor: default;\n  border-bottom: none;\n`;\n\nconst item = (props) => `\n  font-weight: normal;\n  color: ${\n    props.theme && props.theme.fuzzyFinder.colorItem\n      ? props.theme.fuzzyFinder.colorItem\n      : '#d9dbde'\n  };\n  padding: 12px 1em;\n  line-height: 2em;\n  border-bottom: ${\n    props.theme && props.theme.fuzzyFinder.border\n      ? props.theme.fuzzyFinder.border\n      : '1px solid #111314'\n  };\n  user-drag: none;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-drag: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n\n  & span {\n    user-drag: none;\n    user-select: none;\n    -moz-user-select: none;\n    -webkit-user-drag: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n  }\n`;\n\nconst itemActived = `\n  &:before {\n    margin-right: 0.45454545em;\n    color: #73c990;\n    font-family: 'octicons';\n    font-weight: normal;\n    font-style: normal;\n    display: inline-block;\n    line-height: 1;\n    -webkit-font-smoothing: antialiased;\n    text-decoration: none;\n    font-size: 16px;\n    width: 16px;\n    height: 16px;\n    content: \"\\f03a\";\n  }\n`;\nconst itemSelected = (props) => `\n  background-color: ${\n    props.theme && props.theme.fuzzyFinder.bgColorItemActive\n      ? props.theme.fuzzyFinder.bgColorItemActive\n      : '#303337'\n  };\n`;\n\nexport const ResultsItem = styled.li`\n  ${(props) => item(props)} ${(props) => (props.actived ? itemActived : '')} ${(\n  props\n) => (props.selected ? itemSelected(props) : '')};\n`;\n\nexport const HintContainer = styled.div`\n  float: right;\n`;\n\nexport const Hint = styled.kbd`\n  margin-top: -1px;\n  margin-left: 0.75em;\n  margin-right: calc(-0.5em + 1px);\n  display: inline-block;\n  margin-left: 0.45454545em;\n  padding: 0 0.375em;\n  line-height: 2;\n  font-family: inherit;\n  font-size: 1em;\n  letter-spacing: 0.1em;\n  border-radius: 3px;\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  background-color: ${(props) =>\n    props.theme && props.theme.fuzzyFinder.bgColorHint\n      ? props.theme.fuzzyFinder.bgColorHint\n      : 'rgba(0, 0, 0, 0.2)'};\n  color: ${(props) =>\n    props.theme && props.theme.fuzzyFinder.colorHint\n      ? props.theme.fuzzyFinder.colorHint\n      : '#d7dae0'};\n`;\n\nexport const NoResults = styled.li`\n  ${item} background-color: transparent;\n  color: inherit;\n  border: none;\n  border-bottom: ${(props) =>\n    props.theme && props.theme.fuzzyFinder.border\n      ? props.theme.fuzzyFinder.border\n      : '1px solid #111314'};\n`;\n\n// FormattedMessage does not pass className,\n// so it cannot be used yet with styled-components\n// export const ResultItemText = styled.span`\n//   user-drag: none;\n//   user-select: none;\n//   -moz-user-select: none;\n//   -webkit-user-drag: none;\n//   -webkit-user-select: none;\n//   -ms-user-select: none;\n// `;\n","import React, { PropTypes } from 'react';\nimport { mouseTrap } from 'react-mousetrap';\nimport { FormattedMessage } from 'react-intl';\nimport PubSub from 'utils/pubsub';\nimport HotKeys from 'utils/hotkeys';\nimport { Option } from 'utils/helper';\nimport messages from './messages';\nimport {\n  Modal,\n  Overlay,\n  TextBox,\n  Results,\n  ResultsItem,\n  HintContainer,\n  Hint,\n  NoResults,\n} from './wrappers';\n\nclass FuzzyFinder extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n    this.state = {\n      items: [],\n      topic: '',\n      visible: false,\n      selected: 0,\n      input: '',\n      filter: '',\n      noMatchesText: messages.notFound,\n      enableCustomSelection: false,\n    };\n  }\n\n  componentWillMount() {\n    // Subscribe to hotkeys\n    this.props.bindShortcut(\n      HotKeys.EXIT_FUZZY_FINDER.keys,\n      this.cancelByKey.bind(this)\n    );\n    this.props.bindShortcut(\n      HotKeys.MOVE_DOWN_FUZZY_FINDER.keys,\n      this.moveDown.bind(this)\n    );\n    this.props.bindShortcut(\n      HotKeys.MOVE_UP_FUZZY_FINDER.keys,\n      this.moveUp.bind(this)\n    );\n    this.props.bindShortcut(\n      HotKeys.ENTER_FUZZY_FINDER.keys,\n      this.selectItemByEnter.bind(this)\n    );\n    // Subscribe to fuzzy finder lang messages\n    this.pubSubToken = PubSub.subscribe(\n      PubSub.topics.FUZZY_FINDER_REQUIRED,\n      this.reset.bind(this)\n    );\n  }\n\n  componentWillUnmount() {\n    // Unsubscribe to fuzzy finder lang messages\n    if (this.pubSubToken) PubSub.unsubscribe(this.pubSubToken);\n  }\n\n  filter(item) {\n    return this.context.intl\n      .formatMessage({ id: item.title })\n      .toLowerCase()\n      .includes(this.state.filter.toLowerCase());\n  }\n\n  updateFilter(event) {\n    this.setState({ filter: event.target.value });\n  }\n\n  reset(topic, message) {\n    this.setState({\n      selected: 0,\n      visible: true,\n      filter: '',\n      enableCustomSelection: false,\n      noMatchesText: messages.notFound,\n      ...message,\n    });\n    this.searchInput.focus();\n  }\n\n  moveDown() {\n    this.setState({\n      selected: (this.state.selected + 1) % this.state.items.length,\n    });\n    this.updateScroll();\n  }\n\n  moveUp() {\n    if (this.state.selected) {\n      this.setState({\n        selected: (this.state.selected - 1) % this.state.items.length,\n      });\n    } else {\n      this.setState({ selected: this.state.items.length - 1 });\n    }\n    this.updateScroll();\n  }\n\n  selectItemByEnter() {\n    this.selectItem();\n    // Prevent default\n    return HotKeys.ENTER_FUZZY_FINDER.default;\n  }\n\n  // @todo this currently depends on item <li> height size and <ol> height size, make it to work without that dependence\n  updateScroll() {\n    if (this.state.selected < 6) {\n      this.itemsList.scrollTop = 0;\n    } else if (this.state.selected === 6) {\n      this.itemsList.scrollTop = 19;\n    }\n    this.itemsList.scrollTop = (19 + (this.state.selected - 6)) * 47;\n    // this.refs.itemsList.scrollTop = ((this.state.selected-1)*47) - this.refs.itemSelected.offsetTop;\n  }\n\n  cancelByKey() {\n    this.close();\n    // Prevent default\n    return HotKeys.EXIT_FUZZY_FINDER.default;\n  }\n\n  highlightItem(event) {\n    const target =\n      event.target.tagName.toLowerCase() === 'span'\n        ? event.target.parentElement\n        : event.target;\n    const position = target.getAttribute('rel');\n    if (target.tagName.toLowerCase() === 'input') return;\n    if (target.tagName.toLowerCase() !== 'li') {\n      this.close();\n      return;\n    }\n    this.setState({ selected: position });\n  }\n\n  selectItemByClick(event) {\n    const target =\n      event.target.tagName.toLowerCase() === 'span'\n        ? event.target.parentElement\n        : event.target;\n    if (target.tagName.toLowerCase() === 'input') return;\n    if (this.searchInput === document.activeElement) return;\n    if (target.tagName.toLowerCase() !== 'li') {\n      this.close();\n      return;\n    }\n    if (target.classList.contains('no-select')) return;\n    if (target.getAttribute('rel') !== this.state.selected) return;\n    this.selectItem();\n  }\n\n  selectItem() {\n    const selectedItem = this.state.items.filter(this.filter.bind(this))[\n      this.state.selected\n    ];\n    if (selectedItem) {\n      this.close(selectedItem.value);\n      return;\n    }\n    if (this.state.enableCustomSelection) this.close(this.state.filter);\n  }\n\n  close(emit) {\n    this.setState({ visible: false });\n    if (emit) PubSub.publish(this.state.topic, emit);\n    PubSub.publish(PubSub.topics.FUZZY_FINDER_CLOSED);\n  }\n\n  render() {\n    return (\n      <Modal visible={this.state.visible}>\n        <Overlay\n          onMouseDown={(event) => this.highlightItem(event)}\n          onMouseUp={(event) => this.selectItemByClick(event)}\n        >\n          <TextBox\n            innerRef={(input) => {\n              this.searchInput = input;\n            }}\n            className={'mousetrap'}\n            type=\"text\"\n            value={this.state.filter}\n            onChange={(event) => this.updateFilter(event)}\n          />\n          <Results\n            innerRef={(ol) => {\n              this.itemsList = ol;\n            }}\n          >\n            {Option(\n              this.state.items\n                .filter((item) => this.filter(item))\n                .map((item, pos) =>\n                  <ResultsItem\n                    key={item.value}\n                    actived={item.marked}\n                    selected={this.state.selected === pos}\n                    rel={pos}\n                  >\n                    {item.hint\n                      ? <HintContainer>\n                        <Hint>\n                          {item.hint}\n                        </Hint>\n                      </HintContainer>\n                      : null}\n                    <FormattedMessage id={item.title} />\n                  </ResultsItem>\n                ),\n              <NoResults className={'no-select'}>\n                <FormattedMessage {...this.state.noMatchesText} />\n              </NoResults>\n            )}\n          </Results>\n        </Overlay>\n      </Modal>\n    );\n  }\n}\n\nFuzzyFinder.contextTypes = {\n  intl: PropTypes.object.isRequired,\n};\n\nFuzzyFinder.propTypes = {\n  bindShortcut: PropTypes.func.isRequired,\n};\n\nexport default mouseTrap(FuzzyFinder);\n","/**\n *\n * App Wrappers\n */\n\n/* System imports */\nimport React from 'react';\nimport Octicon from 'react-octicon';\nimport styled from 'styled-components';\n\nexport const Section = styled.section`\n  min-height: 100%;\n  height: 100%;\n  width: 100%;\n  min-width: 100%;\n  margin: 0 auto;\n  display: flex;\n  overflow: hidden;\n  flex-direction: column;\n  position: absolute;\n  top: 0;\n  left: 0;\n  background-color: ${(props) =>\n    props.theme && props.theme.app.bgColor\n      ? props.theme.app.bgColor\n      : '#161719'};\n  color: ${(props) =>\n    props.theme && props.theme.app.color ? props.theme.app.color : ' #a3a8ae'};\n  font-size: 11px;\n  filter: ${(props) => (props.blur ? 'blur(3px)' : 'none')};\n\n  *::-webkit-scrollbar {\n    width: 0.5em;\n    height: 0.5em;\n  }\n\n  *::-webkit-scrollbar-track {\n      box-shadow: ${(props) => props.theme && props.theme.app.scrollTrackShadow ? props.theme.app.scrollTrackShadow : 'inset 0 0 6px rgba(0, 0, 0, 0.3)'};\n  }\n\n  *::-webkit-scrollbar-thumb {\n      background: ${(props) => props.theme && props.theme.app.scrollThumbBgColor ? props.theme.app.scrollThumbBgColor : 'rgba(100, 100, 100, 0.8)'};\n  }\n\n  *::-webkit-scrollbar-corner,\n  *::-webkit-scrollbar-thumb:window-inactive {\n      background: ${(props) => props.theme && props.theme.app.scrollThumbInactiveBgColor ? props.theme.app.scrollThumbInactiveBgColor : 'rgba(100, 100, 100, 0.4)'};\n  }\n`;\n\nexport const Article = styled.article`\n  display: flex;\n  flex: 1;\n  min-width: 0;\n  position: relative;\n`;\n\n\nconst ToolbarContainer = styled.article`\n-webkit-app-region: drag;\n  background-color: ${(props) =>\n    props.theme && props.theme.app.bgColor\n      ? props.theme.app.bgColor\n      : '#161719'};\n  color: ${(props) =>\n    props.theme && props.theme.app.color ? props.theme.app.color : ' #a3a8ae'};\n  font-size: 15px;\n  width: 100%;\n  height: 35px;\n  border-bottom: ${(props) =>\n    props.theme && props.theme.app.border\n      ? props.theme.app.border\n      : '1px solid #27292c'};\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n`;\n\nconst ToolbarIconContainer = styled.span`\n-webkit-app-region: no-drag;\n  height: 35px;\n  display: -ms-flexbox;\n  display: -webkit-flex;\n  display: flex;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  -webkit-box-align: center;\n  align-items: center;\n  &:hover {\n    background-color: ${(props) =>\n    props.theme && props.theme.app.color ? props.theme.app.color : 'rgba(187, 183, 183, 0.6)'};\n    color:  ${(props) =>\n    props.theme && props.theme.app.bgColor ? props.theme.app.bgColor : 'transparent'};\n  }\n`;\n\nconst ToolbarIcon = styled.span`\n-webkit-app-region: no-drag;\n  padding: 0 10px;\n  cursor: pointer;\n`;\n\nexport const Toolbar = () => (\n  <ToolbarContainer>\n    <ToolbarIconContainer>\n      <ToolbarIcon\n        onClick={() => window.remote.getCurrentWindow().minimize()}\n      ><Octicon name=\"dash\" /></ToolbarIcon>\n    </ToolbarIconContainer>\n    <ToolbarIconContainer>\n      <ToolbarIcon\n        onClick={() => window.remote.getCurrentWindow().isMaximized() ? window.remote.getCurrentWindow().unmaximize() : window.remote.getCurrentWindow().maximize()}\n      ><Octicon name=\"primitive-square\" /></ToolbarIcon>\n    </ToolbarIconContainer>\n    <ToolbarIconContainer>\n      <ToolbarIcon\n        onClick={() => window.remote.getCurrentWindow().close()}\n      ><Octicon name=\"x\" /></ToolbarIcon>\n    </ToolbarIconContainer>\n  </ToolbarContainer>);\n\n\n","/*\n * HomePage Messages\n *\n * This contains all the text for the HomePage component.\n */\nimport { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  createTicket: {\n    id: 'kz.containers.App.actions.createTicket',\n    defaultMessage: 'Create Ticket',\n  },\n  changeLang: {\n    id: 'kz.containers.App.actions.changeLang',\n    defaultMessage: 'Change Language',\n  },\n  changeTheme: {\n    id: 'kz.containers.App.actions.changeTheme',\n    defaultMessage: 'Change Theme',\n  },\n  importStock: {\n    id: 'kz.containers.App.actions.importStock',\n    defaultMessage: 'Import Stock',\n  },\n  exportDatabase: {\n    id: 'kz.containers.App.actions.exportDatabase',\n    defaultMessage: 'Export Databse',\n  },\n  resetDB: {\n    id: 'kz.containers.App.actions.resetDB',\n    defaultMessage: 'Reset Database',\n  },\n  englishLang: {\n    id: 'kz.containers.LanguageProvider.en',\n    defaultMessage: 'English',\n  },\n  spanishLang: {\n    id: 'kz.containers.LanguageProvider.es',\n    defaultMessage: 'Spanish',\n  },\n});\n","/*\n *\n * TicketItems constants\n *\n */\nexport const EXPORT_DATABASE_ACTION = 'ui/app/EXPORT_DATABASE_ACTION';\n","/**\n *\n * App.react.js\n *\n * This component is the skeleton around the actual pages, and should only\n * contain code that should be seen on all pages. (e.g. navigation bar)\n *\n * NOTE: while this component should technically be a stateless functional\n * component (SFC), hot reloading does not currently support SFCs. If hot\n * reloading is not a necessity for you then you can refactor it and remove\n * the linting exception.\n */\n\n/* System imports */\nimport React, { PropTypes } from 'react';\nimport { connect } from 'react-redux';\nimport Helmet from 'react-helmet';\nimport { mouseTrap } from 'react-mousetrap';\nimport mouseTrapCore from 'mousetrap';\nimport { withRouter } from 'react-router';\nimport { createStructuredSelector } from 'reselect';\n/* Components imports */\nimport { STATE_LOADING_DONE, STATE_LOADING_START } from 'config';\nimport { ResetDatabase } from 'db';\nimport Modal from 'components/Modal';\nimport SidebarMenu from 'containers/SidebarMenu';\nimport Footer from 'components/Footer';\nimport HelperTour from 'components/HelperTour';\nimport FuzzyFinder from 'containers/FuzzyFinder';\nimport HotKeys from 'utils/hotkeys';\nimport PubSub from 'utils/pubsub';\nimport StockModal from 'containers/StockItems/molecules/StockModal';\nimport { makeSelectLoading } from './selectors';\nimport { Section, Article, Toolbar } from './wrappers';\nimport messages from './messages';\nimport { exportDatabase } from 'actions/app'\nimport { removeTicket } from 'actions/tickets'\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { blur: false };\n  }\n\n  componentDidMount() {\n    // Electron requires this becuase it goes by default to not found route\n    if (window.isElectron) {\n      this.props.router.push('/demo');\n    }\n  }\n\n  componentWillMount() {\n    // Subscribe to hotkeys\n    this.props.bindShortcut(HotKeys.DISCOVER_ACTION.keys, this.discoverAction.bind(this));\n\n    // Subscribe to hotkeys\n    this.props.bindShortcut(HotKeys.IMPORT_STOCK.keys, this.openImportStockModal.bind(this));\n\n    // Subscribe to hotkeys\n    this.props.bindShortcut(HotKeys.EXPORT_DATABASE.keys, () => this.props.dispatch(exportDatabase()));\n\n    // Subscribe to hotkeys\n    this.props.bindShortcut(HotKeys.CREATE_TICKET.keys, () => {\n      console.log('here??')\n      this.props.dispatch(removeTicket());\n      this.props.router.push('/demo/tickets');\n    });\n\n    // Subscribe to hotkeys\n    this.props.bindShortcut(HotKeys.RESET_DB.keys, () => ResetDatabase());\n\n    // Subscribe to fuzzy finder lang messages\n    this.pubSubToken = PubSub.subscribe(\n      PubSub.topics.ACTION_SELECTED,\n      this.actionSelected.bind(this)\n    );\n  }\n\n  componentWillUnmount() {\n    // Unsubscribe to fuzzy finder lang messages\n    if (this.pubSubToken) PubSub.unsubscribe(this.pubSubToken);\n  }\n\n  openFuzzyFinder() {\n    // Request the fuzzy finder\n    // (topic, value) is emitted when the item is selected in fuzzy finder\n    PubSub.publish(PubSub.topics.FUZZY_FINDER_REQUIRED, {\n      items: [\n        {\n          value: HotKeys.CREATE_TICKET.keys,\n          title: messages.createTicket.id,\n          hint: HotKeys.CREATE_TICKET.keys,\n        },\n        {\n          value: HotKeys.IMPORT_STOCK.keys,\n          title: messages.importStock.id,\n          hint: HotKeys.IMPORT_STOCK.keys,\n        },\n        {\n          value: HotKeys.CHANGE_LANG.keys,\n          title: messages.changeLang.id,\n          hint: HotKeys.CHANGE_LANG.keys,\n        },\n        {\n          value: HotKeys.CHANGE_THEME.keys,\n          title: messages.changeTheme.id,\n          hint: HotKeys.CHANGE_THEME.keys,\n        },\n        {\n          value: HotKeys.EXPORT_DATABASE.keys,\n          title: messages.exportDatabase.id,\n          hint: HotKeys.EXPORT_DATABASE.keys,\n        },\n        {\n          value: HotKeys.RESET_DB.keys,\n          title: messages.resetDB.id,\n          hint: HotKeys.RESET_DB.keys,\n        },\n      ],\n      topic: PubSub.topics.ACTION_SELECTED,\n    });\n  }\n\n  discoverAction() {\n    this.openFuzzyFinder();\n    // Prevent default\n    return HotKeys.DISCOVER_ACTION.default;\n  }\n\n  actionSelected(topic, resource) {\n    // resource here is the keyboard key combination to trigger (i.e. alt+t)\n    mouseTrapCore.trigger(resource);\n  }\n\n  openImportStockModal() {\n    PubSub.publish(PubSub.topics.MODAL_OPENED, StockModal);\n  }\n\n  render() {\n    return (\n      <div>\n        <Helmet\n          titleTemplate=\"%s - Kalzate\"\n          defaultTitle=\"Kalzate\"\n          meta={[\n            {\n              name: 'description',\n              content: 'Serverless Point Of Sale App For Humans',\n            },\n          ]}\n        />\n        {/** this.props.loading === STATE_LOADING_START && <p> Loading </p> **/}\n        {this.props.loading === STATE_LOADING_DONE && (\n          <Section blur={this.state.blur}>\n            {window.isElectron && <Toolbar />}\n            <Article>\n              <SidebarMenu />\n              {React.Children.toArray(this.props.children)}\n            </Article>\n            <Footer />\n            <FuzzyFinder />\n            <HelperTour />\n          </Section>\n        )}\n        <Modal\n          onOpen={() => this.setState({ blur: true })}\n          onClose={() => this.setState({ blur: false })}\n        />\n      </div>\n    );\n  }\n}\n\nApp.propTypes = {\n  children: PropTypes.node,\n  loading: PropTypes.string,\n  bindShortcut: PropTypes.func,\n};\n\nconst mapStateToProps = createStructuredSelector({ loading: makeSelectLoading() });\n\nfunction mapDispatchToProps(dispatch) {\n  return { dispatch };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(mouseTrap(withRouter(App)));\n","import * as ActionTypes from './types';\n\nexport function exportDatabase() {\n    return {\n        type: ActionTypes.EXPORT_DATABASE_ACTION\n    };\n}","// import { createSelector } from 'reselect';\nimport { isEqual } from 'lodash';\nimport { createSelector } from 'reselect';\n\nconst selectRoute = () => (state) => state.route;\n\nconst makeSelectLoading = () =>\n  createSelector(selectRoute(), (substate) => substate.loading);\n\n// makeSelectLocationState expects a plain JS object for the routing state\nconst makeSelectLocationState = () => {\n  let prevRoutingState;\n\n  return (state) => {\n    const routingState = state.route;\n    if (!isEqual(routingState, prevRoutingState)) {\n      prevRoutingState = routingState;\n    }\n    return prevRoutingState;\n  };\n};\n\nexport {\n  makeSelectLoading,\n  makeSelectLocationState,\n};\n","/*\n *\n * LanguageProvider\n *\n * this component connects the redux state language locale to the\n * IntlProvider component and i18n messages (loaded from `app/translations`)\n */\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { createSelector } from 'reselect';\nimport { IntlProvider } from 'react-intl';\n\nimport { makeSelectLocale } from './selectors';\n\nexport class LanguageProvider extends React.PureComponent { // eslint-disable-line react/prefer-stateless-function\n  render() {\n    return (\n      <IntlProvider locale={this.props.locale} key={this.props.locale} messages={this.props.messages[this.props.locale]}>\n        {React.Children.only(this.props.children)}\n      </IntlProvider>\n    );\n  }\n}\n\nLanguageProvider.propTypes = {\n  locale: React.PropTypes.string,\n  messages: React.PropTypes.object,\n  children: React.PropTypes.element.isRequired,\n};\n\n\nconst mapStateToProps = createSelector(\n  makeSelectLocale(),\n  (locale) => ({ locale })\n);\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    dispatch,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LanguageProvider);\n","/*\n *\n * LanguageProvider\n *\n * this component connects the redux state language locale to the\n * IntlProvider component and i18n messages (loaded from `app/translations`)\n */\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { createSelector } from 'reselect';\nimport { ThemeProvider as StyledThemeProvider } from 'styled-components';\nimport { makeSelectTheme } from './selectors';\n\nexport function ThemeProvider(props) {\n  return (\n    <StyledThemeProvider theme={props.theme}>\n      {React.Children.only(props.children)}\n    </StyledThemeProvider>\n  );\n}\n\nThemeProvider.propTypes = {\n  theme: React.PropTypes.object,\n  children: React.PropTypes.object,\n};\n\nconst mapStateToProps = createSelector(makeSelectTheme(), (theme) => ({\n  theme,\n}));\n\nexport default connect(mapStateToProps)(ThemeProvider);\n","/*\n * AppReducer\n *\n * The reducer takes care of our data. Using actions, we can change our\n * application state.\n * To add a new action, add it to the switch statement in the reducer function\n *\n * Example:\n * case YOUR_ACTION_CONSTANT:\n *   return state.set('yourStateVariable', true);\n */\n\nimport {\n  UPDATE_SETTING_SUCCESS_ACTION,\n  UPDATE_SETTING_ERROR_ACTION,\n} from 'containers/SettingsPage/constants';\n\n// The initial state of the App\nconst initialState = {};\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case UPDATE_SETTING_SUCCESS_ACTION:\n      console.log('SUCCESS', action);\n      return { ...state, [action.key]: action.value };\n    case UPDATE_SETTING_ERROR_ACTION:\n      console.log('ERROR', action.message);\n      return state;\n    default:\n      return state;\n  }\n}\n","/*\n *\n * LanguageProvider reducer\n *\n */\n\nimport { LOCATION_CHANGE } from 'react-router-redux';\nimport { STATE_LOADING_START, STATE_LOADING_DONE, STATE_LOADING_FAILED } from 'config';\n// Initial routing state\nconst routeInitialState = {\n  locationBeforeTransitions: null,\n  loading: STATE_LOADING_START,\n};\n\n/**\n * Merge route into the global application state\n */\nfunction routeReducer(state = routeInitialState, action) {\n  switch (action.type) {\n    /* istanbul ignore next */\n    case LOCATION_CHANGE:\n      return {\n        ...state,\n        locationBeforeTransitions: action.payload,\n      };\n    case STATE_LOADING_DONE:\n      return {\n        ...state,\n        loading: STATE_LOADING_DONE,\n      };\n    case STATE_LOADING_FAILED:\n      return {\n        ...state,\n        loading: STATE_LOADING_FAILED,\n      };\n    default:\n      return state;\n  }\n}\n\nexport default routeReducer;\n","/*\n * AppReducer\n *\n * The reducer takes care of our data. Using actions, we can change our\n * application state.\n * To add a new action, add it to the switch statement in the reducer function\n *\n * Example:\n * case YOUR_ACTION_CONSTANT:\n *   return state.set('yourStateVariable', true);\n */\n\nimport {\n  CLOSE_TICKET_SUCCESS_ACTION,\n  SEARCH_TICKETS_SUCCESS_ACTION,\n} from 'containers/TicketSellingPage/constants';\n\nimport {\n  CREATE_TICKET_SUCCESS_ACTION\n} from 'actions/tickets/types';\n\n// The initial state of the App\nconst initialState = { total: 0, items: [] };\n\nfunction addTicketToState(state, action) {\n  const ticketItem = state.items.find(({ id }) => id === action.id);\n  if (ticketItem) {\n    return state;\n  }\n  return { ...state, items: state.items.concat([action]), total: state.total + 1 };\n}\n\nfunction searchTickets(state, action) {\n  const { items, total } = action.tickets;\n  return { ...state, items, total };\n}\n\nfunction appReducer(state = initialState, action) {\n  switch (action.type) {\n    case CREATE_TICKET_SUCCESS_ACTION:\n      return addTicketToState(state, action.data);\n    case SEARCH_TICKETS_SUCCESS_ACTION:\n      return searchTickets(state, action);\n    default:\n      return state;\n  }\n}\n\nexport default appReducer;\n","/*\n *\n * TicketPayments constants\n *\n */\n\nexport const SET_METHOD_TICKET_PAYMENTS_ACTION =\n  'ui/TicketPayments/SET_METHOD_TICKET_PAYMENTS_ACTION';\nexport const SET_METHOD_TICKET_PAYMENTS_ERROR_ACTION =\n  'ui/TicketPayments/SET_METHOD_TICKET_PAYMENTS_ERROR_ACTION';\nexport const SET_METHOD_TICKET_PAYMENTS_SUCCESS_ACTION =\n  'ui/TicketPayments/SET_METHOD_TICKET_PAYMENTS_SUCCESS_ACTION';\n","/*\n * AppReducer\n *\n * The reducer takes care of our data. Using actions, we can change our\n * application state.\n * To add a new action, add it to the switch statement in the reducer function\n *\n * Example:\n * case YOUR_ACTION_CONSTANT:\n *   return state.set('yourStateVariable', true);\n */\n\n// import { PAYMENT_METHOD_CREDIT_CARD } from 'config';\nimport { omit } from 'lodash';\nimport { SET_METHOD_TICKET_PAYMENTS_ACTION } from 'containers/TicketPayments/constants';\nimport {\n  SET_TICKET_GIVEN_AMOUNT_ACTION,\n  INCREASE_TICKET_GIVEN_AMOUNT_ACTION,\n  DECREASE_TICKET_GIVEN_AMOUNT_ACTION,\n} from 'containers/TicketTotal/constants';\nimport {\n  UPDATE_STOCK_TICKET_DATA_ACTION,\n  REMOVE_TICKET_ACTION,\n  UPDATE_TICKET_SUCCESS_ACTION,\n  UPDATE_TICKET_TAX_ACTION,\n  UPDATE_TICKET_DISCOUNT_ACTION,\n} from 'containers/TicketSellingPage/constants';\nimport {\n  RETURN_STOCK_FROM_TICKET_ACTION,\n  UNDO_RETURN_STOCK_FROM_TICKET_ACTION,\n  RETURN_ALL_STOCK_FROM_TICKET_ACTION,\n} from 'containers/TicketReturningPage/constants';\nimport { PAYMENT_METHOD_CASH, TICKET_SOLD_STATE, PAYMENT_METHOD_VOUCHER } from 'config';\nimport { toFixed } from 'utils/helper';\nimport {\n  ADD_STOCK_TO_TICKET_ACTION,\n  REMOVE_STOCK_FROM_TICKET_ACTION,\n  RETURN_ITEM_FROM_TICKET_ACTION,\n  UPDATE_TICKET_OPERATION_ACTION,\n  UPDATE_TICKET_PAYMENT_ACTION,\n  ADD_VOUCHER_PAYMENT_AMOUNT_SUCCESS_ACTION,\n  REMOVE_VOUCHER_PAYMENT_AMOUNT_ACTION,\n  CREATE_TICKET_SUCCESS_ACTION,\n  LOAD_TICKET_SUCCESS_ACTION,\n  CREATE_ADD_OPERATION_ACTION,\n  CREATE_REMOVE_OPERATION_ACTION\n} from 'actions/tickets/types';\n\n// The initial state of the App\nconst initialState = {\n\n  isChecked: false,\n  isGift: false,\n  isVoucher: false,\n  hasVoucherExpired: false,\n  balance: null,\n  prevNode: undefined,\n  nextNode: undefined,\n  payments: [],\n  operations: [],\n\n  // method: PAYMENT_METHOD_CREDIT_CARD,\n  // totalAmount: '0.00',\n  // givenAmount: '0.00',\n  // returnAmount: '0.00',\n  // discount: 0, // from 0 to 1, i.e. 50% == 0.5\n  // tax: 0, // from 0 to 1, i.e. 50% == 0.5\n  // currency: '',\n  // state: null, // sold, saved, refunded,\n  // items: [],\n};\n\nfunction increaseTicketGivenAmount(state, action) {\n  if (!action.by) {\n    return state;\n  }\n  const totalAmount = parseFloat(state.totalAmount);\n  const givenAmount = parseFloat(state.givenAmount);\n  const givenAmountIncrease = (givenAmount + action.by).toFixed(2);\n  if (givenAmountIncrease >= 999.99) {\n    return state;\n  }\n  const returnAmount = (parseFloat(givenAmountIncrease) - totalAmount).toFixed(2);\n  return { ...state, givenAmount: givenAmountIncrease, returnAmount };\n}\n\nfunction decreaseTicketGivenAmount(state, action) {\n  if (!action.by) {\n    return state;\n  }\n  const totalAmount = parseFloat(state.totalAmount);\n  const givenAmount = parseFloat(state.givenAmount);\n  const givenAmountDecrease = (givenAmount - action.by).toFixed(2);\n  if (givenAmountDecrease <= 0) {\n    return state;\n  }\n  const returnAmount = (parseFloat(givenAmountDecrease) - totalAmount).toFixed(2);\n  return { ...state, givenAmount: givenAmountDecrease, returnAmount };\n}\n\nfunction setTicketGivenAmount(state, action) {\n  if (!action.amount) {\n    return { ...state, givenAmount: '', returnAmount: '0.00' };\n  }\n  const totalAmount = parseFloat(state.totalAmount);\n  const givenAmountFixed = toFixed(action.amount, 2, state.givenAmount);\n  const givenAmount = parseFloat(givenAmountFixed);\n  const returnAmount = (givenAmount - totalAmount).toFixed(2);\n  return { ...state, givenAmount: givenAmountFixed, returnAmount };\n}\n\nfunction updateGivenAmount(state, totalAmount) {\n  if (state.state === TICKET_SOLD_STATE || totalAmount < 0) {\n    return '0.00';\n  }\n  return state.method !== PAYMENT_METHOD_CASH ? totalAmount : parseFloat(state.givenAmount);\n}\n\nfunction updateReturnAmount(state, givenAmount, totalAmount) {\n  // const returnAmount = (Math.abs(givenAmount) - Math.abs(totalAmount)).toFixed(2);\n  const returnAmount = (givenAmount - totalAmount).toFixed(2);\n  if (state.state === TICKET_SOLD_STATE || totalAmount < 0) {\n    return returnAmount;\n  }\n  return givenAmount > 0 ? returnAmount : '0.00';\n}\n\nfunction updateTicketTotal(state) {\n  if (state.items.length <= 0) {\n    return {\n      ...state,\n      totalAmount: '0.00',\n      givenAmount: '0.00',\n      returnAmount: '0.00',\n      method: null,\n    };\n  }\n  const subtotalToAdd = state.items\n    .filter((item) => item.added)\n    .map((item) => item.amount * item.price - (item.discount || 0))\n    .reduce((a, b) => a + b, 0);\n  const subtotalToReturn = state.items\n    .filter((item) => item.toReturn)\n    .map((item) => item.amount_return * item.price - (item.discount || 0))\n    .reduce((a, b) => a + b, 0);\n  console.log(state, subtotalToAdd, subtotalToReturn);\n  const subtotalTaxesFree = subtotalToAdd - subtotalToReturn;\n  const subtotalWithDiscount = state.discount\n    ? subtotalTaxesFree - subtotalTaxesFree * state.discount\n    : subtotalTaxesFree;\n  const subtotalWithTaxes = state.tax\n    ? subtotalWithDiscount + subtotalWithDiscount * state.tax\n    : subtotalWithDiscount;\n  const totalAmount = subtotalWithTaxes.toFixed(2);\n  const givenAmount = updateGivenAmount(state, totalAmount);\n  const returnAmount = updateReturnAmount(state, givenAmount, totalAmount);\n  console.log(totalAmount, givenAmount, returnAmount);\n  // console.log('total is', subtotalTaxesFree, subtotalWithDiscount, subtotalWithTaxes, totalAmount);\n  return { ...state, totalAmount, givenAmount, returnAmount };\n}\n\nfunction updateTicketData(state, action) {\n  return {\n    ...state,\n    items: state.items.map((item) =>\n      item.reference === action.item.reference ? { ...item, ...action.data } : item\n    ),\n  };\n}\n\nfunction updateTicketTax(state, action) {\n  return { ...state, tax: action.tax / 100 };\n}\n\nfunction updateTicketDiscount(state, action) {\n  return { ...state, discount: action.discount / 100 };\n}\n\n\n\n\n\n\n\n\n\n// amount field contains the amount of stock units that stock has \n// and is used later when checking out to update the stock, note\n// this will not work if the database is updated outside from the kalzate application\n// unless the client is refreshed/synced\nfunction addStockToTicket(state, action) {\n  const { options, stockItem } = action;\n  if (!options.incremental && stockItem.amount === 0) {\n    return removeStockFromTicket(state, { operationReference: stockItem.reference })\n  }\n  const existingOperation = state.operations.find(({ operation, reference }) =>\n    reference === stockItem.reference && operation === options.operationType);\n\n  if (existingOperation) {\n    const operations = state.operations.map((operation) =>\n      operation.reference === stockItem.reference && operation.operation === options.operationType ?\n        { ...operation, amount: options.incremental ? operation.amount + 1 : stockItem.amount } : operation\n    );\n    return { ...state, operations };\n  }\n\n  return {\n    ...state, operations: [{\n      ...stockItem,\n      operation: options.operationType,\n      amount: options.incremental ? 1 : stockItem.amount\n    }, ...state.operations]\n  };\n}\n\nfunction returnItemFromTicket(state, action) {\n\n  if (action.amount === 0) {\n    return removeStockFromTicket(state, { operationReference: action.reference })\n  }\n\n  const existingOperation = state.operations.find(({ operation, reference }) =>\n    reference === action.reference && operation === action.operation);\n\n\n  if (existingOperation) {\n    const operations = state.operations.map((operation) =>\n      operation.reference === action.reference && operation.operation === action.operation ?\n        { ...operation, amount: action.amount } : operation\n    );\n    return { ...state, operations };\n  }\n\n  return { ...state, operations: [action, ...state.operations] };\n}\n\nfunction removeStockFromTicket(state, action) {\n  const operationIndexPosition = state.operations.findIndex(\n    ({ stock }) => stock.reference === action.operationReference);\n  if (operationIndexPosition === -1) {\n    return state;\n  }\n\n  return {\n    ...state,\n    operations: [\n      ...state.operations.slice(0, operationIndexPosition),\n      ...state.operations.slice(operationIndexPosition + 1),\n    ],\n  };\n}\n\n\nfunction updateTicketOperation(state, action) {\n\n  const operations = state.operations.map((operation) =>\n    operation.reference === action.reference ?\n      { ...operation, ...action } : operation\n  );\n\n  return { ...state, operations };\n\n}\n\nfunction updateTicketPayment(state, action) {\n\n  const payment = state.payments.find(({ method }) => method === action.method);\n\n  if (payment) {\n    const payments = state.payments.map(\n      payment => payment.method === action.method ? ({ ...payment, ...action }) : payment);\n    return { ...state, payments };\n  }\n\n  return {\n    ...state,\n    payments: [...state.payments, { concept: null, amount: null, ...action }]\n  };\n}\n\nfunction addVoucherPaymentAmount(state, action) {\n\n  const payment = state.payments.find(({ method }) => method === PAYMENT_METHOD_VOUCHER);\n\n  if (payment) {\n    const payments = state.payments.map(\n      payment => payment.method === PAYMENT_METHOD_VOUCHER ? ({ ...payment, amount: action }) : payment);\n    return { ...state, payments };\n  }\n\n  return state;\n}\n\nfunction removeVoucherPaymentAmount(state) {\n\n  const payment = state.payments.find(({ method }) => method === PAYMENT_METHOD_VOUCHER);\n\n  if (payment) {\n    const payments = state.payments.map(\n      payment => payment.method === PAYMENT_METHOD_VOUCHER ? ({ ...payment, amount: null }) : payment);\n    return { ...state, payments };\n  }\n\n  return state;\n}\n\nfunction loadTicket(state, action) {\n  console.log('ticket reducer', action)\n  return action;\n}\n\n\nfunction createOperation(state, action) {\n  const { stock, ...operation } = action;\n\n  if (operation.amount === 0) {\n    return removeStockFromTicket(state, { operationReference: stock.reference })\n  }\n\n  const existingOperation = state.operations.find(theOperation =>\n    theOperation.stock.reference === stock.reference);\n\n  if (existingOperation) {\n    const operations = state.operations.map((theOperation) =>\n      theOperation.stock.reference === stock.reference ?\n        { ...theOperation, amount: theOperation.amount + 1, ...operation } : theOperation\n    );\n    return { ...state, operations };\n  }\n\n  console.log(stock, operation)\n\n  return {\n    ...state, operations: [{\n      stock, amount: 1, ...operation\n    }, ...state.operations]\n  };\n}\n\n\n\n\n\n\n\n\n\n\n\n\nfunction returnStockFromTicket(state, action) {\n  const items = state.items.map((item) =>\n    item.reference === action.item.reference\n      ? {\n        ...item,\n        amount_return: action.value,\n        toReturn: true,\n      }\n      : item\n  );\n  return {\n    ...state,\n    items,\n  };\n}\n\nfunction returnAllStockFromTicket(state) {\n  const items = state.items.map((item) =>\n    !item.toReturn && !item.added ? { ...item, amount_return: item.amount, toReturn: true } : item\n  );\n  return {\n    ...state,\n    items,\n  };\n}\n\nfunction undoReturnStockFromTicket(state, action) {\n  const items = state.items.map((item) =>\n    item.reference === action.item.reference\n      ? omit({ ...item, amount: item.amount_return }, ['amount_return', 'toReturn'])\n      : omit(item, 'added')\n  );\n  return {\n    ...state,\n    items,\n  };\n}\n\nfunction removeTicket() {\n  return { ...initialState };\n}\n\nfunction isReadOnly(ticket) {\n  return (\n    (ticket.next && ticket.created_at && Number(ticket.next) !== Number(ticket.created_at)) ||\n    ticket.items.every(({ amount, amount_return_prev }) => amount === amount_return_prev)\n  );\n}\n\n// function loadTicket(state, action) {\n//   const ticket = action.ticket.toJSON();\n//   console.log('ticket', ticket);\n//   return isReadOnly(ticket) ? ticket : updateTicketTotal(ticket);\n// }\n\nfunction setTicketPaymentMethod(state, action) {\n  if (state.state === TICKET_SOLD_STATE) {\n    return { ...state, method: action.method };\n  }\n\n  if (state.totalAmount <= 0) {\n    return { ...state, method: action.method, givenAmount: '0.00', returnAmount: '0.00' };\n  }\n\n  if (action.method !== PAYMENT_METHOD_CASH) {\n    return {\n      ...state,\n      method: action.method,\n      givenAmount: state.totalAmount,\n      returnAmount: '0.00',\n    };\n  }\n\n  return { ...state, method: action.method };\n}\n\nfunction appReducer(state = initialState, action) {\n  switch (action.type) {\n    case ADD_STOCK_TO_TICKET_ACTION:\n      return addStockToTicket(state, action.data);\n    case REMOVE_STOCK_FROM_TICKET_ACTION:\n      return removeStockFromTicket(state, action.data);\n    case RETURN_ITEM_FROM_TICKET_ACTION:\n      return returnItemFromTicket(state, action.data);\n    case UPDATE_TICKET_OPERATION_ACTION:\n      return updateTicketOperation(state, action.data);\n    case UPDATE_TICKET_PAYMENT_ACTION:\n      return updateTicketPayment(state, action.data);\n    case ADD_VOUCHER_PAYMENT_AMOUNT_SUCCESS_ACTION:\n      return addVoucherPaymentAmount(state, action.data);\n    case REMOVE_VOUCHER_PAYMENT_AMOUNT_ACTION:\n      return removeVoucherPaymentAmount(state, action.data);\n    case CREATE_TICKET_SUCCESS_ACTION:\n      return removeTicket(state, action.data);\n    case LOAD_TICKET_SUCCESS_ACTION:\n      return loadTicket(state, action.data);\n    case CREATE_ADD_OPERATION_ACTION:\n    case CREATE_REMOVE_OPERATION_ACTION:\n      return createOperation(state, action.data);\n\n\n\n    case UPDATE_TICKET_SUCCESS_ACTION:\n      return updateTicketTotal(state, action);\n    case UPDATE_STOCK_TICKET_DATA_ACTION:\n      return updateTicketData(state, action);\n    case UPDATE_TICKET_TAX_ACTION:\n      return updateTicketTax(state, action);\n    case UPDATE_TICKET_DISCOUNT_ACTION:\n      return updateTicketDiscount(state, action);\n    case RETURN_ALL_STOCK_FROM_TICKET_ACTION:\n      return returnAllStockFromTicket(state, action);\n    case RETURN_STOCK_FROM_TICKET_ACTION:\n      return returnStockFromTicket(state, action);\n    case UNDO_RETURN_STOCK_FROM_TICKET_ACTION:\n      return undoReturnStockFromTicket(state, action);\n    case REMOVE_TICKET_ACTION:\n      return removeTicket(state, action);\n    // case LOAD_TICKET_SUCCESS_ACTION:\n    //   return loadTicket(state, action);\n    case SET_METHOD_TICKET_PAYMENTS_ACTION:\n      return setTicketPaymentMethod(state, action);\n    case SET_TICKET_GIVEN_AMOUNT_ACTION:\n      return setTicketGivenAmount(state, action);\n    case INCREASE_TICKET_GIVEN_AMOUNT_ACTION:\n      return increaseTicketGivenAmount(state, action);\n    case DECREASE_TICKET_GIVEN_AMOUNT_ACTION:\n      return decreaseTicketGivenAmount(state, action);\n    default:\n      return state;\n  }\n}\n\nexport default appReducer;\n","/*\n * AppReducer\n *\n * The reducer takes care of our data. Using actions, we can change our\n * application state.\n * To add a new action, add it to the switch statement in the reducer function\n *\n * Example:\n * case YOUR_ACTION_CONSTANT:\n *   return state.set('yourStateVariable', true);\n */\n\nimport { DEFAULT_STOCK_ITEMS_LIMIT } from 'config';\nimport {\n  REFRESH_STOCK_SUCCESS_ACTION,\n  UPDATE_STOCK_SUCCESS_ACTION,\n  START_STOCK_CHANGE_ACTION,\n} from 'containers/StockItems/constants';\n\n// The initial state of the App\nconst initialState = {\n  items: [],\n  total: 0,\n  limit: DEFAULT_STOCK_ITEMS_LIMIT,\n  skip: 0,\n  loading: false,\n};\n\nfunction updateStock(state, action) {\n  return {\n    ...state,\n    items: state.items.map((stockItem) =>\n      stockItem.reference === action.stock.reference ? action.stock : stockItem\n    ),\n  };\n}\n\nfunction refreshStock(state, action) {\n  return { ...action.stock, loading: false };\n}\n\nfunction appReducer(state = initialState, action) {\n  switch (action.type) {\n    case START_STOCK_CHANGE_ACTION:\n      return { ...state, loading: true };\n    case UPDATE_STOCK_SUCCESS_ACTION:\n      return updateStock(state, action);\n    case REFRESH_STOCK_SUCCESS_ACTION:\n      return refreshStock(state, action);\n    default:\n      return state;\n  }\n}\n\nexport default appReducer;\n","/*\n * AppReducer\n *\n * The reducer takes care of our data. Using actions, we can change our\n * application state.\n * To add a new action, add it to the switch statement in the reducer function\n *\n * Example:\n * case YOUR_ACTION_CONSTANT:\n *   return state.set('yourStateVariable', true);\n */\n\nimport { omit, merge } from 'lodash';\nimport {\n  UPDATE_TMP_STOCK_DATA_ACTION,\n  UPDATE_STOCK_SUCCESS_ACTION,\n  UPDATE_STOCK_MODAL_OPTION_ACTION,\n  SEARCH_STOCK_SUCCESS_ACTION,\n  GET_MATCHES_STOCK_SUCCESS_ACTION,\n} from 'containers/StockItems/constants';\nimport {\n  UPDATE_TMP_TICKET_DATA_ACTION,\n  UPDATE_STOCK_TICKET_DATA_ACTION,\n  GET_MATCHES_TICKETS_SUCCESS_ACTION,\n} from 'containers/TicketSellingPage/constants';\nimport {\n  TOGGLE_TICKET_TOTAL_VISIBILITY,\n  TOGGLE_RAW_TICKET_VISIBILITY,\n} from 'containers/TicketTotalContainer/constants';\nimport { TOGGLE_TICKET_PAYMENTS_VISIBILITY } from 'containers/TicketPaymentsContainer/constants';\n\nimport { REMOVE_TICKET_ACTION } from 'containers/TicketSellingPage/constants';\nimport {\n  CREATE_REMOVE_OPERATION_ACTION,\n  CREATE_ADD_OPERATION_ACTION,\n  ADD_VOUCHER_PAYMENT_AMOUNT_ACTION,\n  ADD_VOUCHER_PAYMENT_AMOUNT_ERROR_ACTION,\n  GET_TICKET_MATCHES_SUCCESS_ACTION,\n  GET_TICKET_MATCHES_ERROR_ACTION\n} from 'actions/tickets/types';\n\n// The initial state of the App\nconst initialState = {\n  stock: {},\n  ticket: {},\n  search: {\n    stock: {},\n    ticket: {},\n    menu: {},\n  },\n  matches: {\n    stock: { reference: [] },\n    tickets: [],\n  },\n  modal: { removeStock: false, archiveStock: false },\n  visibility: { tickets: { payments: true, total: true, raw: false } },\n  loading: { tickets: false },\n  errors: {\n    voucher: null\n  }\n};\n\nfunction appReducer(state = initialState, action) {\n  switch (action.type) {\n    // case CREATE_STOCK_SUCCESS_ACTION:\n    //   return state.update('items', (items) => items.push(action.stock));\n    case ADD_VOUCHER_PAYMENT_AMOUNT_ACTION:\n      return {\n        ...state,\n        errors: {\n          ...state.errors,\n          voucher: null\n        }\n      };\n    case ADD_VOUCHER_PAYMENT_AMOUNT_ERROR_ACTION:\n      return {\n        ...state,\n        errors: {\n          ...state.errors,\n          voucher: action.data\n        }\n      };\n    case CREATE_REMOVE_OPERATION_ACTION:\n    case CREATE_ADD_OPERATION_ACTION:\n      return {\n        ...state,\n        ticket: merge({}, state.ticket, {\n          [action.data.stock.reference]: { amount: null, discountValue: null },\n        }),\n      };\n\n    case UPDATE_STOCK_TICKET_DATA_ACTION:\n      return {\n        ...state,\n        ticket: merge({}, state.ticket, {\n          [action.item.reference]: { amount: null, discountValue: null },\n        }),\n      };\n    case UPDATE_TMP_TICKET_DATA_ACTION:\n      return {\n        ...state,\n        ticket: merge({}, state.ticket, { [action.reference]: action.data }),\n      };\n    case UPDATE_TMP_STOCK_DATA_ACTION:\n      return {\n        ...state,\n        stock: merge({}, state.stock, { [action.reference]: action.data }),\n      };\n\n    case UPDATE_STOCK_SUCCESS_ACTION:\n      return {\n        ...state,\n        stock: omit(state.stock, action.stock.reference),\n      };\n    case SEARCH_STOCK_SUCCESS_ACTION:\n      return { ...state, search: { ...state.search, stock: action.search || {} } };\n    case GET_MATCHES_STOCK_SUCCESS_ACTION:\n      return {\n        ...state,\n        matches: {\n          ...state.matches,\n          stock: { ...state.matches.stock, [action.field]: action.items || [] },\n        },\n      };\n    case GET_TICKET_MATCHES_SUCCESS_ACTION:\n      return {\n        ...state,\n        matches: {\n          ...state.matches,\n          tickets: action.data || [],\n        },\n      };\n    case UPDATE_STOCK_MODAL_OPTION_ACTION:\n      return { ...state, modal: { ...state.modal, [action.option]: action.value } };\n    case TOGGLE_RAW_TICKET_VISIBILITY:\n      return {\n        ...state,\n        visibility: {\n          ...state.visibility,\n          tickets: { ...state.visibility.tickets, raw: !state.visibility.tickets.raw },\n        },\n      };\n    case REMOVE_TICKET_ACTION:\n      return {\n        ...state,\n        visibility: {\n          ...state.visibility,\n          tickets: { ...state.visibility.tickets, raw: false },\n        },\n      };\n    case TOGGLE_TICKET_TOTAL_VISIBILITY:\n      return {\n        ...state,\n        visibility: {\n          ...state.visibility,\n          tickets: { ...state.visibility.tickets, total: !state.visibility.tickets.total },\n        },\n      };\n    case TOGGLE_TICKET_PAYMENTS_VISIBILITY:\n      return {\n        ...state,\n        visibility: {\n          ...state.visibility,\n          tickets: { ...state.visibility.tickets, payments: !state.visibility.tickets.payments },\n        },\n      };\n    default:\n      return state;\n  }\n}\n\nexport default appReducer;\n","/*\n * AppReducer\n *\n * The reducer takes care of our data. Using actions, we can change our\n * application state.\n * To add a new action, add it to the switch statement in the reducer function\n *\n * Example:\n * case YOUR_ACTION_CONSTANT:\n *   return state.set('yourStateVariable', true);\n */\n\nimport {\n  LOAD_CHART_DATA_SUCCESS_ACTION,\n} from 'containers/DiscoverPage/constants';\n\n// The initial state of the App\nconst initialState = { salesChart: [], ticketsChart: [], stockChart: [], alertChart: [] };\n\nfunction updateChartReducer(state, action) {\n\n    console.log(action)\n  if (!action.chart) return {...state, ...action.data};\n\n  return {\n    ...state,\n    [action.chart]: action.data,\n  };\n}\n\nfunction chartsReducer(state = initialState, action) {\n  switch (action.type) {\n\n    case LOAD_CHART_DATA_SUCCESS_ACTION:\n      return updateChartReducer(state, action);\n    default:\n      return state;\n  }\n}\n\nexport default chartsReducer;\n","/*\n *\n * LanguageProvider constants\n *\n */\n\nexport const CHANGE_LOCALE = 'app/LanguageToggle/CHANGE_LOCALE';\nexport const DEFAULT_LOCALE = 'en';\n","/*\n *\n * LanguageProvider reducer\n *\n */\n\n\nimport {\n  CHANGE_LOCALE,\n} from 'containers/LanguageProvider/constants';\nimport {\n  DEFAULT_LOCALE,\n} from 'containers/App/constants'; // eslint-disable-line\nimport { appLocalesMessages } from 'i18n';\n\nconst initialState = {\n  locale: DEFAULT_LOCALE,\n};\n\nfunction languageProviderReducer(state = initialState, action) {\n  switch (action.type) {\n    case CHANGE_LOCALE: {\n      const locale = action.locale;\n      if (locale && appLocalesMessages[locale]) {\n        return { locale };\n      }\n      return state;\n    }\n    default:\n      return state;\n  }\n}\n\nexport default languageProviderReducer;\n","/*\n *\n * ThemeProvider reducer\n *\n */\n\nimport { getQueryParams } from 'utils/url';\nimport * as themes from 'containers/ThemeProvider/themes';\nimport { DEFAULT_THEME, CHANGE_THEME } from 'containers/ThemeProvider/constants';\n// import { CHANGE_THEME } from 'containers/ThemeProvider/constants';\n\n// // Check 'theme' query param to use as default theme\nconst { theme } = getQueryParams(window.location.search);\n\nconst initialState = {\n  // If no query param 'theme', fallback to light theme by default\n  theme: theme && themes[theme] ? themes[theme] : themes[DEFAULT_THEME],\n  name: theme || DEFAULT_THEME,\n};\n\nfunction themeProviderReducer(state = initialState, action) {\n  switch (action.type) {\n    case CHANGE_THEME:\n      // If not theme found, do nothing, just keep current theme\n      if (themes[action.theme]) {\n        return {\n          theme: themes[action.theme],\n          name: action.theme,\n        };\n      }\n      return state;\n    default:\n      return state;\n  }\n}\n\nexport default themeProviderReducer;\n","/**\n * Combine all reducers in this file and export the combined reducers.\n * If we were to do this in store.js, reducers wouldn't be hot reloadable.\n */\n\nimport { combineReducers } from 'redux';\nimport settingsReducer from 'reducers/settings';\nimport routeReducer from 'reducers/router';\nimport ticketsReducer from 'reducers/tickets';\nimport ticketReducer from 'reducers/ticket';\nimport stockReducer from 'reducers/stock';\nimport tmpReducer from 'reducers/tmp';\nimport chartsReducer from 'reducers/charts';\nimport languageProviderReducer from 'reducers/language';\nimport themeProviderReducer from 'reducers/theme';\n\nimport { databaseAsyncReducer } from './db';\n/*\n * routeReducer\n *\n * The reducer merges route location changes into our immutable state.\n * The change is necessitated by moving to react-router-redux@4\n *\n */\n\n/**\n * Creates the main reducer with the asynchronously loaded ones\n */\nexport default function createReducer(asyncReducers) {\n  return databaseAsyncReducer(combineReducers({\n    settings: settingsReducer,\n    tickets: ticketsReducer,\n    ticket: ticketReducer,\n    stock: stockReducer,\n    theme: themeProviderReducer,\n    route: routeReducer,\n    language: languageProviderReducer,\n    tmp: tmpReducer,\n    charts: chartsReducer,\n\n    ...asyncReducers,\n  }));\n}\n","import { takeEvery, put, call } from 'redux-saga/effects';\nimport { Settings } from 'db';\nimport * as Constants from 'config';\nimport {\n  UPDATE_SETTING_ACTION,\n  UPDATE_SETTING_ERROR_ACTION,\n  UPDATE_SETTING_SUCCESS_ACTION,\n} from 'containers/SettingsPage/constants';\nimport { changeTheme } from 'containers/ThemeProvider/actions';\nimport { changeLocale } from 'containers/LanguageProvider/actions';\n\nfunction* updateSetting(action) {\n  try {\n    const { key, value } = action;\n    switch (key) {\n      case Constants.THEME_SETTING:\n        yield call((setting) => Settings().collection.upsert(setting), { key, value });\n        yield put(changeTheme(value));\n        break;\n      case Constants.LANG_SETTING:\n        yield call((setting) => Settings().collection.upsert(setting), { key, value });\n        yield put(changeLocale(value));\n        break;\n      case Constants.COUNTRY_SETTING:\n      case Constants.TIMEZONE_SETTING:\n      case Constants.NAME_SETTING:\n      case Constants.ADDRESS_SETTING:\n      case Constants.EMAIL_SETTING:\n      case Constants.PHONE_SETTING:\n      case Constants.PRINTER_NAME_SETTING:\n      case Constants.PRINTER_IP_SETTING:\n      case Constants.TICKET_TEMPLATE_SETTING:\n      case Constants.BACKUP_FRECUENCY_SETTING:\n      case Constants.BACKUP_LOCATION_SETTING:\n      case Constants.ANALYTICS_SERVER_SETTING:\n        yield call((setting) => Settings().collection.upsert(setting), { key, value });\n        break;\n      default:\n        return;\n    }\n\n    yield put({ type: UPDATE_SETTING_SUCCESS_ACTION, key, value });\n  } catch (e) {\n    yield put({ type: UPDATE_SETTING_ERROR_ACTION, message: e.message });\n  }\n}\n\nexport default takeEvery(UPDATE_SETTING_ACTION, updateSetting);\n","/*\n *\n * LanguageProvider actions\n *\n */\n\nimport { CHANGE_THEME } from './constants';\n\nexport function changeTheme(theme) {\n  return {\n    type: CHANGE_THEME,\n    theme,\n  };\n}\n","/*\n *\n * LanguageProvider actions\n *\n */\n\nimport {\n  CHANGE_LOCALE,\n} from './constants';\n\nexport function changeLocale(languageLocale) {\n  return {\n    type: CHANGE_LOCALE,\n    locale: languageLocale,\n  };\n}\n","import { takeEvery, put } from 'redux-saga/effects';\n// import * as Constants from 'config';\nimport { DOWNLOAD_FILE_ACTION, DOWNLOAD_FILE_ERROR_ACTION } from 'containers/App/constants';\n\nfunction* downloadFile(action) {\n  try {\n    // content should come in as an string\n    const { content, fileName, mime = 'text/json' } = action;\n    const blob = new Blob([content], { type: mime });\n    const dlAnchorElem = document.createElement('a');\n    dlAnchorElem.setAttribute('href', window.URL.createObjectURL(blob));\n    dlAnchorElem.setAttribute('download', fileName);\n    dlAnchorElem.click(); // if not working, try with dlAnchorElem.dispatchEvent(new MouseEvent(....))\n    dlAnchorElem.remove();\n  } catch (e) {\n    yield put({ type: DOWNLOAD_FILE_ERROR_ACTION, message: e.message });\n  }\n}\n\nexport default takeEvery(DOWNLOAD_FILE_ACTION, downloadFile);\n","import { takeEvery, put, call } from 'redux-saga/effects';\nimport { Stock, Tickets } from 'db';\n// import * as Constants from 'config';\nimport { DOWNLOAD_FILE_ACTION } from 'containers/App/constants';\n// import * as Constants from 'config';\nimport { EXPORT_DATABASE_ACTION } from 'actions/app/types';\n\nfunction* exportDatabase() {\n  try {\n    const stock = yield call(() => Stock().dump());\n    const tickets = yield call(() => Tickets().dump());\n    yield put({\n      type: DOWNLOAD_FILE_ACTION,\n      content: JSON.stringify({ stock: stock.docs, tickets: tickets.docs }),\n      fileName: `database_backup_${new Date().toLocaleDateString().replace(/\\//g, '_')}.json`,\n    });\n  } catch (e) {\n  }\n}\n\nexport default takeEvery(EXPORT_DATABASE_ACTION, exportDatabase);\n","import { takeEvery, put } from 'redux-saga/effects';\n// import * as Constants from 'config';\nimport {\n  UPDATE_TICKET_ACTION,\n  UPDATE_TICKET_SUCCESS_ACTION,\n  UPDATE_TICKET_ERROR_ACTION,\n} from 'containers/TicketSellingPage/constants';\n\nfunction* updateTicket(action) {\n  try {\n    yield put({\n      ...action,\n      type: action.put,\n    });\n    yield put({\n      ...action,\n      type: UPDATE_TICKET_SUCCESS_ACTION,\n    });\n  } catch (e) {\n    // @todo print notification if batch mode\n    yield put({ type: UPDATE_TICKET_ERROR_ACTION, message: e.message });\n  }\n}\n\nexport default takeEvery(UPDATE_TICKET_ACTION, updateTicket);\n","import { takeEvery, put, call, select } from 'redux-saga/effects';\nimport { Tickets } from 'db';\nimport { createTicketSuccess } from 'actions/tickets';\nimport { CREATE_TICKET_ACTION } from 'actions/tickets/types';\nimport {\n  CLOSE_TICKET_ERROR_ACTION,\n  PRINT_TICKET_ACTION,\n} from 'containers/TicketSellingPage/constants';\nimport { REFRESH_STOCK_ACTION } from 'containers/StockItems/constants';\nimport { marshallTicket } from 'utils/ticket';\nimport { compileTicket } from 'utils/receipt';\n\nfunction* closeTicket(action) {\n  try {\n    const { ticket, settings } = action.data;\n\n    console.log('create ticket', ticket)\n\n    const ticketListItem = yield call((...args) => Tickets().create(...args), marshallTicket(ticket), true);\n\n    const createdTicket = { ...ticket, ...ticketListItem };\n\n    const ticketReceipt = compileTicket(settings, createdTicket);\n\n    // @todo DANGEROUS: as we are using select effect. this saga get coupled\n    // with the state shape so if for any reason in the future the state changes\n    // (i.e. from stock.limit to stock.itemsPerPage) then this saga has to be\n    // updated too. So it is better to avoid using select as much as possible\n    // However in this case it is not so easy to avoid it, so at least we would\n    // have to move the selector (i.e. (store) => store.stock.limit) to a common\n    // shared location so all react components/sagas use same selector and if\n    // the state shape changes later in the future, only that selector has to\n    // be updated. See https://github.com/redux-saga/redux-saga/issues/640\n    // and https://github.com/redux-saga/redux-saga/tree/master/docs/api#selectselector-args\n    // Another way to solve this would be using the RxDB query subscriptions so\n    // whenever the stock gets update, it is refreshed in the StockItems Component\n    yield put({\n      limit: yield select((store) => store.stock.limit),\n      skip: yield select((store) => store.stock.skip),\n      type: REFRESH_STOCK_ACTION,\n    });\n    // END DANGEROUS\n\n    yield put({\n      content: ticketReceipt,\n      options: {\n        printerName: settings.printerName,\n        printerIp: settings.printerIP,\n        printerWidth: '58mm',     \n        image: {\n          type: 'qrcode',\n          value: createdTicket.created_at,\n        },     \n        copies: 1,     \n      },\n      type: PRINT_TICKET_ACTION,\n    });\n\n    // Save to menu\n    yield put(createTicketSuccess(createdTicket));\n  } catch (e) {\n    console.error(e);\n    // @todo print notification if batch mode\n    yield put({ type: CLOSE_TICKET_ERROR_ACTION, message: e.message });\n  }\n}\n\nexport default takeEvery(CREATE_TICKET_ACTION, closeTicket);\n","import { takeEvery, put, call } from 'redux-saga/effects';\nimport { Tickets } from 'db';\nimport {\n  LOAD_TICKET_ERROR_ACTION,\n} from 'containers/TicketSellingPage/constants';\n\nimport { LOAD_TICKET_ACTION } from 'actions/tickets/types';\nimport { loadTicketSuccess } from 'actions/tickets';\n\nfunction* loadTickets(action) {\n  try {\n    const { value, field } = action.data;\n    const ticket = yield call(\n      (value, field) =>\n        Tickets().open({ value, field }),\n      value,\n      field\n    );\n    return yield put(loadTicketSuccess(ticket));\n  } catch (e) {\n    yield put({ type: LOAD_TICKET_ERROR_ACTION, message: e.message });\n  }\n}\n\nexport default takeEvery(LOAD_TICKET_ACTION, loadTickets);\n","import { takeEvery, put, call } from 'redux-saga/effects';\nimport { Tickets } from 'db';\nimport {\n  GET_TICKET_MATCHES_ACTION,\n} from 'actions/tickets/types';\nimport {\n  getTicketMatchesError,\n  getTicketMatchesSuccess\n} from 'actions/tickets';\n\nfunction* matchesTickets(action) {\n  try {\n    const { field, value } = action.data;\n    const { items: ticketMatches } = yield call((...args) => Tickets().query('ticketMatches', field, value), field, value);\n    yield put(getTicketMatchesSuccess(ticketMatches));\n  } catch (e) {\n    yield put(getTicketMatchesError(e));\n  }\n}\n\nexport default takeEvery(GET_TICKET_MATCHES_ACTION, matchesTickets);\n","import { takeEvery, put } from 'redux-saga/effects';\nimport {\n  PRINT_TICKET_ACTION,\n  PRINT_TICKET_SUCCESS_ACTION,\n  PRINT_TICKET_ERROR_ACTION,\n} from 'containers/TicketSellingPage/constants';\n\nfunction print(text, options) {\n   window.ipcRenderer.send('print-ticket', text, options);\n}\n\nfunction* printTicket(action) {\n  try {\n    const { content, options } = action;\n\n    if(window.isElectron){\n      print(content, options);\n    }\n    else {\n      console.log('web printing', content, options);\n    }\n    \n    yield put({\n      ...action,\n      type: PRINT_TICKET_SUCCESS_ACTION,\n    });\n  } catch (e) {\n    // @todo print notification if batch mode\n    yield put({ type: PRINT_TICKET_ERROR_ACTION, message: e.message });\n  }\n}\n\nexport default takeEvery(PRINT_TICKET_ACTION, printTicket);\n","import { takeEvery, put, call } from 'redux-saga/effects';\nimport { Tickets } from 'db';\nimport { DEFAULT_TICKET_ITEMS_LIMIT } from 'config';\nimport {\n  SEARCH_TICKETS_ACTION,\n  SEARCH_TICKETS_ERROR_ACTION,\n  SEARCH_TICKETS_SUCCESS_ACTION,\n} from 'containers/TicketSellingPage/constants';\n\nfunction* searchTickets(action) {\n  try {\n    const { field, value, operator } = action;\n\n    const tickets = yield call(\n      (...options) =>\n        field\n          ? Tickets().get({\n              match: {\n                [options.field]: {\n                  [options.operator]: options.value,\n                },\n              },\n              count: true,\n            })\n          : Tickets().query(Tickets().queries.dailyTickets(DEFAULT_TICKET_ITEMS_LIMIT, 0)),\n      field,\n      value,\n      operator\n    );\n    console.log(tickets);\n    return yield put({\n      type: SEARCH_TICKETS_SUCCESS_ACTION,\n      tickets,\n    });\n  } catch (e) {\n    yield put({ type: SEARCH_TICKETS_ERROR_ACTION, message: e.message });\n  }\n}\n\nexport default takeEvery(SEARCH_TICKETS_ACTION, searchTickets);\n","import { takeEvery, put, call } from 'redux-saga/effects';\nimport { Tickets } from 'db';\nimport {\n  ADD_VOUCHER_PAYMENT_AMOUNT_ACTION,\n} from 'actions/tickets/types';\nimport {\n  addVoucherPaymentAmountSuccess,\n  addVoucherPaymentAmountError\n} from 'actions/tickets';\nimport { ticketExchangeAmount } from 'selectors/tickets';\n\nfunction* voucherTickets(action) {\n  try {\n    const { data: voucherId } = action;\n\n    console.log('get ticket', voucherId)\n\n    const { items, total } = yield call(\n      (voucherId) => Tickets().query('ticketByCreationDate', voucherId),\n      voucherId\n    );\n\n    if (total !== 1) {\n      return yield put(addVoucherPaymentAmountError('INVALID_VOUCHER'));\n    }\n\n    const ticket = items[0];\n\n    if (!ticket || !ticket.isVoucher) {\n      return yield put(addVoucherPaymentAmountError('INVALID_VOUCHER'));\n    }\n\n    if (ticket.hasVoucherExpired) {\n      return yield put(addVoucherPaymentAmountError('EXPIRED_VOUCHER'));\n    }\n\n    const voucherAmount = ticketExchangeAmount({ ticket });\n\n    if (voucherAmount <= 0) {\n      return yield put(addVoucherPaymentAmountError('INVALID_VOUCHER'));\n    }\n    console.log('voucher amount', voucherAmount);\n    yield put(addVoucherPaymentAmountSuccess(voucherAmount));\n  } catch (error) {\n    console.log('voucher error', error);\n    yield put(addVoucherPaymentAmountError(error.message));\n  }\n}\n\nexport default takeEvery(ADD_VOUCHER_PAYMENT_AMOUNT_ACTION, voucherTickets);\n","import { takeEvery, put, call } from 'redux-saga/effects';\nimport flatten from 'lodash/flatten';\nimport { Tickets } from 'db';\nimport {\n  PRINT_TICKET_ACTION,\n  PRINT_DAILY_SUMMARY_TICKET_ACTION,\n} from 'actions/tickets/types';\nimport { compileTicket } from 'utils/receipt';\n\nfunction* summaryTickets(action) {\n  try {\n    const settings = action.data;\n\n    const { items } = yield call(() => Tickets().query('dailyTicketOperations'));\n\n    if (!items || !items.length) {\n      return;\n    }\n\n    const summaryTicket = {\n      isDailySummaryTicket: true,\n      payments: [],\n      operations: flatten(items)\n    }\n\n    const ticketReceipt = compileTicket(settings, summaryTicket);\n\n    yield put({\n      content: ticketReceipt,\n      printerName: settings.printerName,\n      printerIP: settings.printerIP,\n      type: PRINT_TICKET_ACTION,\n    });\n  } catch (e) {\n    // Create general error notification action to display errors as toasts or in a sidebar notification panel\n    console.error('Summary ticket could not be printed', e)\n  }\n}\n\nexport default takeEvery(PRINT_DAILY_SUMMARY_TICKET_ACTION, summaryTickets);\n","import { takeEvery, put, call } from 'redux-saga/effects';\nimport { Stock } from 'db';\n// import * as Constants from 'config';\nimport {\n  CREATE_STOCK_ACTION,\n  CREATE_STOCK_ERROR_ACTION,\n  START_STOCK_CHANGE_ACTION,\n  // CREATE_STOCK_SUCCESS_ACTION,\n  REFRESH_STOCK_ACTION,\n} from 'containers/StockItems/constants';\nimport { DEFAULT_STOCK_ITEMS_LIMIT } from 'config';\n\nfunction* createStock(action) {\n  try {\n    const { stock: stockItem, options } = action;\n    yield put({ type: START_STOCK_CHANGE_ACTION });\n    yield call((...args) => Stock().create(...args), stockItem, options);\n    // yield put({ type: CREATE_STOCK_SUCCESS_ACTION, stock: stockItem });\n    // @todo print notification if batch mode\n    yield put({\n      type: REFRESH_STOCK_ACTION,\n      limit: DEFAULT_STOCK_ITEMS_LIMIT,\n      skip: 0,\n    });\n  } catch (e) {\n    console.error(e);\n    // @todo print notification if batch mode\n    yield put({ type: CREATE_STOCK_ERROR_ACTION, message: e.message });\n  }\n}\n\nexport default takeEvery(CREATE_STOCK_ACTION, createStock);\n","import { takeEvery, put, call } from 'redux-saga/effects';\nimport { Stock } from 'db';\n// import * as Constants from 'config';\nimport {\n  UPDATE_STOCK_ACTION,\n  UPDATE_STOCK_ERROR_ACTION,\n  UPDATE_STOCK_SUCCESS_ACTION,\n} from 'containers/StockItems/constants';\n\nfunction* updateStock(action) {\n  try {\n    const { stock: stockItem } = action;\n    stockItem.price = parseFloat(stockItem.price);\n    const updatedStock = yield call(\n      (...args) => Stock().update(...args),\n      stockItem\n    );\n    yield put({ type: UPDATE_STOCK_SUCCESS_ACTION, stock: updatedStock });\n    // const stockUpdated = yield call((...args) => Stock().init(...args), DEFAULT_STOCK_ITEMS_LIMIT, 0);\n    // yield put({ type: REFRESH_STOCK_SUCCESS_ACTION, stock: stockUpdated });\n  } catch (e) {\n    yield put({ type: UPDATE_STOCK_ERROR_ACTION, message: e.message });\n  }\n}\n\nexport default takeEvery(UPDATE_STOCK_ACTION, updateStock);\n","import { takeEvery, put, call } from 'redux-saga/effects';\nimport { Stock } from 'db';\n// import * as Constants from 'config';\nimport {\n  REFRESH_STOCK_ACTION,\n  REFRESH_STOCK_ERROR_ACTION,\n  REFRESH_STOCK_SUCCESS_ACTION,\n} from 'containers/StockItems/constants';\nimport { DEFAULT_STOCK_ITEMS_LIMIT } from 'config';\n\nfunction* refreshStock(action) {\n  try {\n    const { limit, skip, search: match } = action;\n    const stock = yield call((...args) => Stock().get(...args), {\n      limit: limit || DEFAULT_STOCK_ITEMS_LIMIT,\n      skip,\n      match,\n    });\n    yield put({ type: REFRESH_STOCK_SUCCESS_ACTION, stock });\n  } catch (e) {\n    yield put({ type: REFRESH_STOCK_ERROR_ACTION, message: e.message });\n  }\n}\n\nexport default takeEvery(REFRESH_STOCK_ACTION, refreshStock);\n","import { takeEvery, put, call } from 'redux-saga/effects';\nimport { Stock } from 'db';\n// import * as Constants from 'config';\nimport {\n  REMOVE_STOCK_ACTION,\n  REMOVE_STOCK_ERROR_ACTION,\n  REMOVE_STOCK_SUCCESS_ACTION,\n  REFRESH_STOCK_ACTION,\n} from 'containers/StockItems/constants';\nimport { DEFAULT_STOCK_ITEMS_LIMIT } from 'config';\n\nfunction* removeStock(action) {\n  try {\n    const { reference, limit, skip, search } = action;\n    const stock = yield call((...args) => Stock().remove(...args), reference);\n    yield put({ type: REMOVE_STOCK_SUCCESS_ACTION, stock });\n    yield put({\n      type: REFRESH_STOCK_ACTION,\n      limit: limit || DEFAULT_STOCK_ITEMS_LIMIT,\n      skip: skip || 0,\n      search,\n    });\n  } catch (e) {\n    yield put({ type: REMOVE_STOCK_ERROR_ACTION, message: e.message });\n  }\n}\n\nexport default takeEvery(REMOVE_STOCK_ACTION, removeStock);\n","import { takeEvery, put, call } from 'redux-saga/effects';\nimport { Stock } from 'db';\n// import * as Constants from 'config';\nimport { EXPORT_STOCK_ACTION, EXPORT_STOCK_ERROR_ACTION } from 'containers/StockItems/constants';\nimport { DOWNLOAD_FILE_ACTION } from 'containers/App/constants';\n\nfunction* exportStock(action) {\n  try {\n    const { decrypt } = action;\n    const stock = yield call((...args) => Stock().dump(...args), decrypt);\n    yield put({\n      type: DOWNLOAD_FILE_ACTION,\n      content: JSON.stringify(stock.docs),\n      fileName: `stock_${new Date().toLocaleDateString().replace(/\\//g, '_')}.json`,\n    });\n  } catch (e) {\n    yield put({ type: EXPORT_STOCK_ERROR_ACTION, message: e.message });\n  }\n}\n\nexport default takeEvery(EXPORT_STOCK_ACTION, exportStock);\n","import { takeEvery, put, call } from 'redux-saga/effects';\n// import { Stock } from 'db';\n// import * as Constants from 'config';\nimport {\n  SEARCH_STOCK_ACTION,\n  SEARCH_STOCK_ERROR_ACTION,\n  SEARCH_STOCK_SUCCESS_ACTION,\n  REFRESH_STOCK_ACTION,\n} from 'containers/StockItems/constants';\nimport { DEFAULT_STOCK_ITEMS_LIMIT } from 'config';\n\nfunction* searchStock(action) {\n  try {\n    const { search, limit, skip } = action;\n    yield put({\n      type: REFRESH_STOCK_ACTION,\n      limit: limit || DEFAULT_STOCK_ITEMS_LIMIT,\n      skip: skip || 0,\n      search,\n    });\n    yield put({\n      type: SEARCH_STOCK_SUCCESS_ACTION,\n      search,\n    });\n  } catch (e) {\n    yield put({ type: SEARCH_STOCK_ERROR_ACTION, message: e.message });\n  }\n}\n\nexport default takeEvery(SEARCH_STOCK_ACTION, searchStock);\n","import { takeEvery, put, call } from 'redux-saga/effects';\nimport { Stock } from 'db';\nimport {\n  GET_MATCHES_STOCK_ACTION,\n  GET_MATCHES_STOCK_ERROR_ACTION,\n  GET_MATCHES_STOCK_SUCCESS_ACTION,\n} from 'containers/StockItems/constants';\n\nfunction* matchesStock(action) {\n  try {\n    const { field, value } = action;\n    const { items } = yield call(\n      (...args) => Stock().matches(...args),\n      field,\n      value\n    );\n    yield put({\n      type: GET_MATCHES_STOCK_SUCCESS_ACTION,\n      field,\n      items,\n    });\n  } catch (e) {\n    yield put({ type: GET_MATCHES_STOCK_ERROR_ACTION, message: e.message });\n  }\n}\n\nexport default takeEvery(GET_MATCHES_STOCK_ACTION, matchesStock);\n","import { takeEvery, put, call } from 'redux-saga/effects';\nimport { Charts } from 'db';\nimport {\n  LOAD_CHART_DATA_ACTION,\n  LOAD_CHART_DATA_SUCCESS_ACTION,\n} from 'containers/DiscoverPage/constants';\n\nfunction* loadChartDataSaga(action = {}) {\n  try {\n    const { chart } = action;\n\n    if (!Charts()) return;\n\n    const chartData = yield !chart ? call(() => Charts().init()) : call(() => Charts()[chart]());\n    console.log('char data', chartData);\n    yield put({\n      type: LOAD_CHART_DATA_SUCCESS_ACTION,\n      // data: [\n      //   { day: 'Mon', amount: '200.56' },\n      //   { day: 'Tue', amount: '153.94' },\n      //   { day: 'Wed', amount: '208.56' },\n      //   { day: 'Thu', amount: '501.89' },\n      //   { day: 'Fri', amount: '377.89' },\n      //   { day: 'Sat', amount: '177.89' },\n      //   { day: 'Sun', amount: '277.89' },\n      // ],\n      data: chartData,\n      chart,\n    });\n\n    // yield put({\n    //   type: LOAD_CHART_DATA_SUCCESS_ACTION,\n    //   data: [\n    //     { day: 'Mon', minimum: '14', maximum: '65', median: '33', quartile1: '20', quartile3: '35' },\n    //     { day: 'Tue', minimum: '25', maximum: '73', median: '25', quartile1: '25', quartile3: '30' },\n    //     { day: 'Wed', minimum: '15', maximum: '40', median: '25', quartile1: '17', quartile3: '28' },\n    //     { day: 'Thu', minimum: '18', maximum: '55', median: '33', quartile1: '28', quartile3: '42' },\n    //     { day: 'Fri', minimum: '14', maximum: '66', median: '35', quartile1: '22', quartile3: '45' },\n    //     { day: 'Sat', minimum: '22', maximum: '70', median: '34', quartile1: '28', quartile3: '42' },\n    //     { day: 'Sun', minimum: '14', maximum: '65', median: '33', quartile1: '30', quartile3: '50' },\n    //   ],\n    //   chart: 'ticketsChart',\n    // });\n    // yield put({\n    //   type: LOAD_CHART_DATA_SUCCESS_ACTION,\n    //   data: [\n    //     { amount: 0, price: '0', sold: 0, title: 'Brand1' },\n    //     { amount: 50, price: '30', sold: 200, title: 'Brand1' },\n    //     { amount: 50, price: '0', sold: 70, title: 'Brand1' },\n    //     { amount: 50, price: '20.56', sold: 0, title: 'Brand1' },\n    //     { amount: 50, price: '20.56', sold: 111, title: 'Brand1' },\n    //     { amount: 30, price: '10.56', sold: 200, title: 'Brand2' },\n    //     { amount: 30, price: '30.00', sold: 10, title: 'Brand3' },\n    //     { amount: 300, price: '30.00', sold: 10, title: 'Brand3' },\n    //     { amount: 60, price: '15.90', sold: 160, title: 'Brand4' }],\n    //   chart: 'stockChart',\n    // });\n    // yield put({\n    //   type: LOAD_CHART_DATA_SUCCESS_ACTION,\n    //   data: [\n    //     { sold: 'BRAND-DESC-TOP-SOLD', notSold: 'BRAND-DESC-NOT-SOLD', emptyStock: 'BRAND-DESC-NO-STOCK', alertStock: 'BRAND-DESC-FEW-STOCK' },\n    //     { sold: 'BRAND-DESC-TOP-SOLD', notSold: 'BRAND-DESC-NOT-SOLD', emptyStock: 'BRAND-DESC-NO-STOCK', alertStock: 'BRAND-DESC-FEW-STOCK' },\n    //     { sold: 'BRAND-DESC-TOP-SOLD', notSold: 'BRAND-DESC-NOT-SOLD', emptyStock: 'BRAND-DESC-NO-STOCK', alertStock: 'BRAND-DESC-FEW-STOCK' },\n    //     { sold: 'BRAND-DESC-TOP-SOLD', notSold: 'BRAND-DESC-NOT-SOLD', emptyStock: 'BRAND-DESC-NO-STOCK', alertStock: 'BRAND-DESC-FEW-STOCK' },\n    //     { sold: 'BRAND-DESC-TOP-SOLD', notSold: 'BRAND-DESC-NOT-SOLD', emptyStock: 'BRAND-DESC-NO-STOCK', alertStock: 'BRAND-DESC-FEW-STOCK' },\n    //     { sold: 'BRAND-DESC-TOP-SOLD', notSold: 'BRAND-DESC-NOT-SOLD', emptyStock: 'BRAND-DESC-NO-STOCK', alertStock: 'BRAND-DESC-FEW-STOCK' },\n    //   ],\n    //   chart: 'alertChart',\n    // });\n  } catch (e) {\n    console.error(e);\n  }\n}\n\nexport default takeEvery(LOAD_CHART_DATA_ACTION, loadChartDataSaga);\n","import { all } from 'redux-saga/effects';\nimport settingsSaga from './settings';\nimport { downloadFileSaga, exportDatabaseSaga } from './app';\nimport { updateTicketSaga, closeTicketSaga, loadTicketSaga, matchesTicketSaga, printTicketSaga, searchTicketsSaga, voucherTicketsSaga, summaryTicketsSaga } from './tickets';\nimport {\n  stockCreateSaga,\n  stockUpdateSaga,\n  stockRefreshSaga,\n  stockRemoveSaga,\n  stockExportSaga,\n  stockSearchSaga,\n  stockMatchesSaga,\n} from './stock';\nimport { loadChartDataSaga } from './charts';\n\nexport default function* () {\n  yield all([\n    downloadFileSaga,\n    exportDatabaseSaga,\n    settingsSaga,\n    updateTicketSaga,\n    closeTicketSaga,\n    loadTicketSaga,\n    matchesTicketSaga,\n    printTicketSaga,\n    searchTicketsSaga,\n    voucherTicketsSaga,\n    summaryTicketsSaga,\n    stockCreateSaga,\n    stockUpdateSaga,\n    stockRefreshSaga,\n    stockRemoveSaga,\n    stockExportSaga,\n    stockSearchSaga,\n    stockMatchesSaga,\n    loadChartDataSaga,\n  ]);\n}\n","/**\n * Create the store with asynchronously loaded reducers\n */\n\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport { routerMiddleware } from 'react-router-redux';\nimport createSagaMiddleware from 'redux-saga';\nimport databaseMiddleware from './db';\nimport createReducer from './reducers';\nimport sagas from './sagas';\n\nconst sagaMiddleware = createSagaMiddleware();\n\nexport default function configureStore(initialState = {}, history) {\n  // Create the store with two middlewares\n  // 1. sagaMiddleware: Makes redux-sagas work\n  // 2. routerMiddleware: Syncs the location/URL path to the state\n  const middlewares = [\n    sagaMiddleware,\n    routerMiddleware(history),\n    databaseMiddleware,\n  ];\n\n  const enhancers = [\n    applyMiddleware(...middlewares),\n  ];\n\n  // If Redux DevTools Extension is installed use it, otherwise use Redux compose\n  /* eslint-disable no-underscore-dangle */\n  const composeEnhancers =\n    process.env.NODE_ENV !== 'production' &&\n      process.env.NODE_ENV !== 'desktop-production' &&\n      typeof window === 'object' &&\n      window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ?\n      window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : compose;\n\n  const store = createStore(\n    createReducer(),\n    initialState,\n    composeEnhancers(...enhancers)\n  );\n\n  // Extensions\n  store.runSaga = sagaMiddleware.run;\n  store.runSaga(sagas);\n  store.asyncReducers = {}; // Async reducer registry\n\n  // Make reducers hot reloadable, see http://mxs.is/googmo\n  /* istanbul ignore next */\n  if (module.hot) {\n    module.hot.accept('./reducers', () => {\n      import('./reducers').then((reducerModule) => {\n        const createReducers = reducerModule.default;\n        const nextReducers = createReducers(store.asyncReducers);\n\n        store.replaceReducer(nextReducers);\n      });\n    });\n  }\n\n  return store;\n}\n","import { injectGlobal } from 'styled-components';\n\n/* eslint no-unused-expressions: 0 */\ninjectGlobal`\n\n  html,\n  body {\n    height: 100vh;\n    width: 100vh;\n    overflow: hidden;\n  }\n\n  body {\n    font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu, Cantarell, Arial, sans-serif;\n    font-weight: normal;\n  }\n\n  body.fontLoaded {\n    font-family: 'Open Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;\n  }\n\n  #root {\n    font-size: 11px;\n    min-height: 100vh;\n    min-width: 100vh;\n  }\n`;\n","import conformsTo from 'lodash/conformsTo';\nimport isEmpty from 'lodash/isEmpty';\nimport isFunction from 'lodash/isFunction';\nimport isObject from 'lodash/isObject';\nimport isString from 'lodash/isString';\nimport invariant from 'invariant';\nimport warning from 'warning';\nimport createReducer from 'reducers';\n\n/**\n * Validate the shape of redux store\n */\nexport function checkStore(store) {\n  const shape = {\n    dispatch: isFunction,\n    subscribe: isFunction,\n    getState: isFunction,\n    replaceReducer: isFunction,\n    runSaga: isFunction,\n    asyncReducers: isObject,\n  };\n  invariant(\n    conformsTo(store, shape),\n    '(app/utils...) asyncInjectors: Expected a valid redux store'\n  );\n}\n\n/**\n * Inject an asynchronously loaded reducer\n */\nexport function injectAsyncReducer(store, isValid) {\n  return function injectReducer(name, asyncReducer) {\n    if (!isValid) checkStore(store);\n\n    invariant(\n      isString(name) && !isEmpty(name) && isFunction(asyncReducer),\n      '(app/utils...) injectAsyncReducer: Expected `asyncReducer` to be a reducer function'\n    );\n\n    if (Reflect.has(store.asyncReducers, name)) return;\n\n    store.asyncReducers[name] = asyncReducer; // eslint-disable-line no-param-reassign\n    store.replaceReducer(createReducer(store.asyncReducers));\n  };\n}\n\n/**\n * Inject an asynchronously loaded saga\n */\nexport function injectAsyncSagas(store, isValid) {\n  return function injectSagas(sagas) {\n    if (!isValid) checkStore(store);\n\n    invariant(\n      Array.isArray(sagas),\n      '(app/utils...) injectAsyncSagas: Expected `sagas` to be an array of generator functions'\n    );\n\n    warning(\n      !isEmpty(sagas),\n      '(app/utils...) injectAsyncSagas: Received an empty `sagas` array'\n    );\n\n    sagas.map(store.runSaga);\n  };\n}\n\n/**\n * Helper for creating injectors\n */\nexport function getAsyncInjectors(store) {\n  checkStore(store);\n\n  return {\n    injectReducer: injectAsyncReducer(store, true),\n    injectSagas: injectAsyncSagas(store, true),\n  };\n}\n","// These are the pages you can go to.\n// They are all wrapped in the App component, which should contain the navbar etc\n// See http://blog.mxstbr.com/2016/01/react-apps-with-pages for more information\n// about the code splitting business\nimport { getAsyncInjectors } from 'utils/asyncInjectors';\n\nconst errorLoading = (err) => {\n  console.error('Dynamic page loading failed', err); // eslint-disable-line no-console\n};\n\nconst loadModule = (cb) => (componentModule) => {\n  cb(null, componentModule && componentModule.default ? componentModule.default : componentModule);\n};\n\nexport default function createRoutes(store) {\n  // Create reusable async injectors using getAsyncInjectors factory\n  const { injectReducer, injectSagas } = getAsyncInjectors(store); // eslint-disable-line no-unused-vars\n\n  return [\n    {\n      path: '/demo',\n      name: 'home',\n      getComponent(nextState, cb) {\n        const importModules = Promise.all([import('containers/HomePage')]);\n\n        const renderRoute = loadModule(cb);\n\n        importModules.then(([component]) => {\n          renderRoute(component);\n        });\n\n        importModules.catch(errorLoading);\n      },\n    },\n    {\n      path: '/demo/settings',\n      name: 'settings',\n      getComponent(nextState, cb) {\n        const importModules = Promise.all([import('containers/SettingsPage')]);\n\n        const renderRoute = loadModule(cb);\n\n        importModules.then(([component]) => {\n          renderRoute(component);\n        });\n\n        importModules.catch(errorLoading);\n      },\n    },\n    {\n      path: '/demo/discover',\n      name: 'discover',\n      getComponent(nextState, cb) {\n        const importModules = Promise.all([import('containers/DiscoverPage')]);\n\n        const renderRoute = loadModule(cb);\n\n        importModules.then(([component]) => {\n          renderRoute(component);\n        });\n\n        importModules.catch(errorLoading);\n      },\n    },\n    {\n      path: '/demo/tickets(/:id)',\n      name: 'tickets',\n      getComponent(nextState, cb) {\n        const importModules = Promise.all([import('containers/TicketsPage')]);\n\n        const renderRoute = loadModule(cb);\n\n        importModules.then(([component]) => {\n          renderRoute(component);\n        });\n\n        importModules.catch(errorLoading);\n      },\n    },\n    {\n      path: '*',\n      name: 'notfound',\n      getComponent(nextState, cb) {\n        import('containers/NotFoundPage')\n          .then(loadModule(cb))\n          .catch(errorLoading);\n      },\n    },\n  ];\n}\n","/**\n * app.js\n *\n * This is the entry file for the application, only setup and boilerplate\n * code.\n */\n\n// Needed for redux-saga es6 generator support\n// import 'babel-polyfill';\n\n// Import all the third party stuff\nimport React from 'react';\nimport { Provider } from 'react-redux';\nimport { applyRouterMiddleware, Router, browserHistory } from 'react-router';\nimport { syncHistoryWithStore } from 'react-router-redux';\nimport { useScroll } from 'react-router-scroll';\n// import { hot } from 'react-hot-loader';\nimport 'sanitize.css/sanitize.css';\n\n// Import root app\nimport App from 'containers/App';\n// import App from 'containers/AppDesktop';\n\n// Import selector for `syncHistoryWithStore`\nimport { makeSelectLocationState } from 'containers/App/selectors';\n\n// Import Language Provider\nimport LanguageProvider from 'containers/LanguageProvider';\n\n// Import Theme Provider\nimport ThemeProvider from 'containers/ThemeProvider';\n\n// // Load the favicon, the manifest.json file and the .htaccess file\n// /* eslint-disable import/no-unresolved, import/extensions */\n// import '!file-loader?name=[name].[ext]!./favicon.ico';\n// import '!file-loader?name=[name].[ext]!./manifest.json';\n// import 'file-loader?name=[name].[ext]!./.htaccess';\n/* eslint-enable import/no-unresolved, import/extensions */\n\nimport configureStore from './store';\n// import configureStore from './store.desktop';\n\n// Import CSS reset and Global Styles\nimport './global-styles';\n\n// Import root routes\nimport createRoutes from './routes';\n\n// Create redux store with history\n// this uses the singleton browserHistory provided by react-router\n// Optionally, this could be changed to leverage a created history\n// e.g. `const browserHistory = useRouterHistory(createBrowserHistory)();`\nconst initialState = {};\nconst routerHistory = browserHistory;\nconst store = configureStore(initialState, routerHistory);\n\n// Sync history and store, as the react-router-redux reducer\n// is under the non-default key (\"routing\"), selectLocationState\n// must be provided for resolving how to retrieve the \"route\" in the state\nconst history = syncHistoryWithStore(routerHistory, store, {\n  selectLocationState: makeSelectLocationState(),\n});\n\n// Set up the router, wrapping all Routes in the App component\nconst rootRoute = {\n  component: App,\n  childRoutes: createRoutes(store),\n};\n\nexport default class Main extends React.Component {\n  render() {\n    const messages = this.props.messages;\n\n    return (\n      <Provider store={store}>\n        <ThemeProvider>\n          <LanguageProvider messages={messages}>\n            <Router\n              history={history}\n              routes={rootRoute}\n              render={\n                // Scroll to top when going to a new page, imitating default browser\n                // behaviour\n                applyRouterMiddleware(useScroll())\n              }\n            />\n          </LanguageProvider>\n        </ThemeProvider>\n      </Provider>\n    );\n  }\n}\n\n// export default (process.env.NODE_ENV === 'development' ? hot(module)(Main) : Main);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import { register as registerServiceWorker } from 'lib/serviceWorker';\nimport { unregister as unregisterServiceWorker } from 'lib/serviceWorker';\nimport App from './app';\nimport { translationMessages } from './i18n';\n\nfunction initApplication() {\n  const render = (messages) =>\n    ReactDOM.render(<App messages={messages} />, document.getElementById('root'));\n\n  // Hot reloadable translation json files\n  if (module.hot) {\n    // modules.hot.accept does not accept dynamic dependencies,\n    // have to be constants at compile-time\n    module.hot.accept('./i18n', () => {\n      render(translationMessages);\n    });\n  }\n\n  // Chunked polyfill for browsers without Intl support\n  if (!window.Intl) {\n    new Promise((resolve) => {\n      resolve(import('intl'));\n    })\n      .then(() =>\n        Promise.all([\n          import('intl/locale-data/jsonp/en.js'),\n          import('intl/locale-data/jsonp/es.js'),\n        ])\n      )\n      .then(() => render(translationMessages))\n      .catch((err) => {\n        throw err;\n      });\n  } else {\n    render(translationMessages);\n  }\n\n  unregisterServiceWorker();\n}\n\ninitApplication();\n","/*\n *\n * WorkSpacePage constants\n *\n */\n\nexport const UPDATE_SETTING_ACTION = 'ui/SettingsPage/UPDATE_SETTING_ACTION';\nexport const UPDATE_SETTING_ERROR_ACTION = 'UPDATE_SETTING_ERROR_ACTION';\nexport const UPDATE_SETTING_SUCCESS_ACTION = 'UPDATE_SETTING_SUCCESS_ACTION';\n","import { createSelector } from 'reselect';\nimport { isEmpty } from 'lodash';\n\nimport {\n    getSubtotal,\n    getCreditCardPaymentAmount,\n    getCashPaymentAmount,\n    getVoucherPaymentAmount,\n    getVoucherPaymentConcept,\n    parseOperations\n} from 'utils/ticket';\n\n\nexport const ticketDomain = (state) => state.ticket;\n\nexport const ticketList = (state) => state.tickets;\n\nexport const isTicketReadOnly =\n    createSelector(\n        ticketDomain,\n        (ticket) =>\n            (ticket.isChecked === true &&\n                ticket.nextNode)\n    );\n\n\nexport const isNewTicket =\n    createSelector(\n        ticketDomain,\n        (ticket) => ticket.isChecked === false\n    );\n\n/**\n * the ticket total amount\n * it can be positive or negative, including zero\n * A positive value means the customer has to pay that amount for the items purchased\n * A negative value means the customer has to get back thath amount either as a voucher or in cash/credit card/...etc\n * A value of zero means the customer does not have to pay anything\n */\nexport const ticketTotalAmount =\n    createSelector(ticketDomain, (ticket) => ticket.operations\n        .reduce((acc, operation) => acc + getSubtotal(operation), 0)\n    );\n\n/**\n * the ticket provided amount\n * it can only be positive or zero\n * A positive value means the customer has given that amount in order to make the order\n * A value of zero means the customer does not have to pay anything\n */\nexport const ticketProvidedAmount =\n    createSelector(ticketDomain, (ticket) =>\n        ticket.payments\n            .reduce((acc, { amount }) =>\n                amount ? acc + amount : acc, 0)\n    );\n\n/**\n * the ticket exchange amount\n * it can be positive or negative, including zero\n * A positive value means the customer has to receive that amount either as a voucher or in cash\n * A negative value means the customer has to pay that amount to make the order\n * A value of zero means the customer does not have to pay anything\n */\nexport const ticketExchangeAmount =\n    createSelector(\n        ticketTotalAmount,\n        ticketProvidedAmount,\n        (totalAmount, providedAmount) => providedAmount - totalAmount\n    );\n\nexport const ticketBalance =\n    createSelector(ticketTotalAmount,\n        (totalAmount) => totalAmount >= 0 ? 'positive' : 'negative'\n    );\n\n/**\n * the ticket remaining amount\n * it can be positive or zero\n * This is the result of the total minus the provided amount\n */\nexport const ticketRemainingAmount =\n    createSelector(ticketExchangeAmount,\n        (exchangeAmount) => exchangeAmount >= 0 ? 0 : Math.round((Math.abs(exchangeAmount) + Number.EPSILON) * 100) / 100);\n\nexport const isTicketCheckoutDisabled =\n    createSelector(\n        ticketDomain,\n        ticketTotalAmount,\n        ticketProvidedAmount,\n        isNewTicket,\n        (ticket, totalAmount, providedAmount, isNewTicket) => {\n            if (isEmpty(ticket.operations)) {\n                return true;\n            }\n\n            if (isNewTicket) {\n                return totalAmount > providedAmount || totalAmount === 0;\n            }\n\n            return totalAmount > 0 && totalAmount > providedAmount;\n\n        }\n    );\n\nexport const isTicketVoucherCheckoutDisabled =\n    createSelector(\n        ticketDomain,\n        ticketTotalAmount,\n        (ticket, totalAmount) => {\n            return isEmpty(ticket.operations) || totalAmount >= 0;\n        }\n    );\n\n\nexport const ticketPayments =\n    createSelector(\n        ticketDomain,\n        ({ payments }) => payments\n    );\n\nexport const ticketCreditCardPaymentAmount =\n    createSelector(\n        ticketPayments,\n        (payments) => getCreditCardPaymentAmount(payments)\n    );\n\nexport const ticketCashPaymentAmount =\n    createSelector(\n        ticketPayments,\n        (payments) => getCashPaymentAmount(payments)\n    );\n\nexport const ticketVoucherPaymentAmount =\n    createSelector(\n        ticketPayments,\n        (payments) => getVoucherPaymentAmount(payments)\n    );\n\nexport const ticketVoucherPaymentConcept =\n    createSelector(\n        ticketPayments,\n        (payments) => getVoucherPaymentConcept(payments)\n    );\n\nexport const ticketOperations =\n    createSelector(\n        ticketDomain,\n        ({ operations = [], history = [] }) => {\n\n            if (!history.length) {\n                return operations;\n            }\n\n            return parseOperations(history, operations);\n        }\n    );\n\nexport const isEmptyTicket =\n    createSelector(\n        ticketOperations,\n        (operations) => operations.length === 0\n    );\n\nexport const ticket =\n    createSelector(\n        ticketDomain,\n        isTicketReadOnly,\n        ticketBalance,\n        ticketVoucherPaymentAmount,\n        ticketTotalAmount,\n        (ticket, isTicketReadOnly, balance, voucherAmount, totalAmount) =>\n            ({\n                ...ticket,\n                balance,\n                isVoucher: voucherAmount > totalAmount,\n                ...(!isTicketReadOnly && { created_at: undefined })\n            })\n    );"],"sourceRoot":""}