(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{128:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return u});n(140);var r=n(31),o=n.n(r);n(7);function a(e,t){return o.a.isEmpty(e)?t:e}function i(e,t){return Object.keys(e).map(function(n){return{value:n,title:e[n],marked:n===t}})}function c(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.navigator.platform).toLowerCase();switch(e){case 0:return t.includes("mac")||t.includes("iphone")||t.includes("ipad")?"\u2325":"Alt-";default:return e}}var s=/\.+/;function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(console.log("...",e),!e)return"0.00";var r=String(e).replace(s,".").replace(" \u20ac","").trim();return console.log("...",r),r.startsWith(".")?"0.00":/^[0-9]{1,3}\.*?[0-9]*$/.test(e)?r.indexOf(".")<0?"".concat(r,".00"):r.indexOf(".")===r.length-1?"".concat(r,".00"):r.length-1-r.indexOf(".")===1?"".concat(r,"0"):r.slice(0,r.indexOf(".")+t+1):n}},13:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"s",function(){return a}),n.d(t,"t",function(){return i}),n.d(t,"v",function(){return c}),n.d(t,"r",function(){return s}),n.d(t,"i",function(){return u}),n.d(t,"j",function(){return l}),n.d(t,"k",function(){return d}),n.d(t,"l",function(){return p}),n.d(t,"m",function(){return f}),n.d(t,"n",function(){return m}),n.d(t,"c",function(){return b}),n.d(t,"d",function(){return h}),n.d(t,"o",function(){return k}),n.d(t,"p",function(){return v}),n.d(t,"q",function(){return g}),n.d(t,"f",function(){return O}),n.d(t,"g",function(){return y}),n.d(t,"h",function(){return T}),n.d(t,"w",function(){return x}),n.d(t,"u",function(){return E}),n.d(t,"e",function(){return j});var r="ui/StockItems/CREATE_STOCK_ACTION",o="ui/StockItems/CREATE_STOCK_ERROR_ACTION",a="ui/StockItems/UPDATE_STOCK_ACTION",i="ui/StockItems/UPDATE_STOCK_ERROR_ACTION",c="ui/StockItems/UPDATE_STOCK_SUCCESS_ACTION",s="ui/StockItems/START_STOCK_CHANGE_ACTION",u="ui/StockItems/REFRESH_STOCK_ACTION",l="ui/StockItems/REFRESH_STOCK_ERROR_ACTION",d="ui/StockItems/REFRESH_STOCK_SUCCESS_ACTION",p="ui/StockItems/REMOVE_STOCK_ACTION",f="ui/StockItems/REMOVE_STOCK_ERROR_ACTION",m="ui/StockItems/REMOVE_STOCK_SUCCESS_ACTION",b="ui/StockItems/EXPORT_STOCK_ACTION",h="ui/StockItems/EXPORT_STOCK_ERROR_ACTION",k="ui/StockItems/SEARCH_STOCK_ACTION",v="ui/StockItems/SEARCH_STOCK_ERROR_ACTION",g="ui/StockItems/SEARCH_STOCK_SUCCESS_ACTION",O="ui/StockItems/GET_MATCHES_STOCK_ACTION",y="ui/StockItems/GET_MATCHES_STOCK_ERROR_ACTION",T="ui/StockItems/GET_MATCHES_STOCK_SUCCESS_ACTION",x="ui/StockItems/UPDATE_TMP_STOCK_DATA_ACTION",E="ui/StockItems/UPDATE_STOCK_MODAL_OPTION_ACTION",j=["json","yaml","csv"]},16:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"s",function(){return o}),n.d(t,"p",function(){return a}),n.d(t,"t",function(){return i}),n.d(t,"u",function(){return c}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return l}),n.d(t,"r",function(){return d}),n.d(t,"g",function(){return p}),n.d(t,"h",function(){return f}),n.d(t,"l",function(){return m}),n.d(t,"m",function(){return b}),n.d(t,"e",function(){return h}),n.d(t,"f",function(){return k}),n.d(t,"i",function(){return v}),n.d(t,"j",function(){return g}),n.d(t,"k",function(){return O}),n.d(t,"n",function(){return y}),n.d(t,"o",function(){return T}),n.d(t,"q",function(){return x});var r="ui/StockItems/ADD_STOCK_TO_TICKET_ACTION",o="ui/StockItems/RETURN_ITEM_FROM_TICKET_ACTION",a="ui/StockItems/REMOVE_STOCK_FROM_TICKET_ACTION",i="ui/tickets/UPDATE_OPERATION_ACTION",c="ui/tickets/UPDATE_TICKET_PAYMENT_ACTION",s="ui/tickets/ADD_VOUCHER_PAYMENT_AMOUNT_ACTION",u="ui/tickets/ADD_VOUCHER_PAYMENT_AMOUNT_ERROR_ACTION",l="ui/tickets/ADD_VOUCHER_PAYMENT_AMOUNT_SUCCESS_ACTION",d="ui/tickets/REMOVE_VOUCHER_PAYMENT_AMOUNT_ACTION",p="ui/tickets/CREATE_TICKET_ACTION",f="ui/tickets/CREATE_TICKET_SUCCESS_ACTION",m="ui/tickets/LOAD_TICKET_ACTION",b="ui/tickets/LOAD_TICKET_SUCCESS_ACTION",h="ui/TicketItems/CREATE_ADD_OPERATION_ACTION",k="ui/TicketItems/CREATE_REMOVE_OPERATION_ACTION",v="ui/TicketItems/GET_TICKET_MATCHES_ACTION",g="ui/TicketItems/GET_TICKET_MATCHES_ERROR_ACTION",O="ui/TicketItems/GET_TICKET_MATCHES_SUCCESS_ACTION",y="ui/TicketItems/PRINT_DAILY_SUMMARY_TICKET_ACTION",T="ui/TicketItems/PRINT_TICKET_ACTION",x="ui/TicketItems/REMOVE_TICKET_ACTION"},160:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var r="app/DiscoverPage/LOAD_CHART_DATA_ACTION",o="app/DiscoverPage/LOAD_CHART_DATA_SUCCESS_ACTION"},184:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(88);function o(e,t){return{type:r.a,key:e,value:t}}},186:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(52),o=n(70),a=n(140),i=n.n(a),c=n(31),s=n.n(c),u=n(90),l=n(57),d=n(7),p=/{{([^{}]+)}}/g,f=/\[([^[]+)]|"((?:\\.|[^"\\])*)"|([^ ]+)/g,m=/"/g;function b(e,t,n,a){return function(e,t,n,o){for(var a=arguments.length,c=new Array(a>4?a-4:0),p=4;p<a;p++)c[p-4]=arguments[p];if("shop"===n.toLowerCase())return function(e,t){switch(t){case"name":return e.name;case"address":return e.address;case"email":return e.email;case"phone":return e.phone;default:return""}}(e,o.toLowerCase());if("ticket"===n.toLowerCase())return function(e,t,n,o){switch(n){case"date":var a=Object(r.a)(o,1),c=a[0],p=new Date(t.created_at||(new Date).getTime());return i()(p,c||"dd/mm/yyyy");case"return_date":var f=Object(r.a)(o,2),m=f[0],b=f[1],h=new Date(t.created_at||(new Date).getTime());return h.setDate(h.getDate()+parseInt(m,d.j)),i()(h,b||"dd/mm/yyyy");case"items":var k=o.map(function(e){return JSON.parse(e)}),v=Object(r.a)(k,3),g=v[0],O=v[1],y=v[2];return console.log("util",t),t.operations.map(function(e){var n=g.map(function(n,r){return function(e,t,n,r,o){if("description"===e)return String(s.a.padEnd(Object(l.b)(r.stock),parseInt(n,10)));if("price"===e)return o.isGift?s.a.padEnd("0.00",parseInt(n,10)):String(s.a.padEnd(Object(l.a)(r.stock.price),parseInt(n,10)));if("subtotal"===e)return o.isGift?s.a.padEnd("0.00",parseInt(n,10)):String(s.a.padEnd(Object(l.a)(Object(l.g)(r)),parseInt(n,10)));if("amount"===e)return String(s.a.padEnd(Object(l.d)(r),parseInt(n,10)));return String(s.a.padEnd(t,parseInt(n,10)))}(n.toLowerCase(),e[n],O[r],e,t)});return"".concat(new Array(y[0]+1).join(" ")).concat(n[0]).concat(n[1]).concat(n[2]).concat(n[3]).concat(new Array(y[1]+1).join(" "))}).join("\r\n ");case"payment":return t.payments.map(function(e){switch(e.method){case d.v:return"Credit Card";case d.w:return"Phone App";case d.u:return"Cash";case d.y:return"Voucher";default:return""}}).join("\r\n ");case"code":return t.isDailySummaryTicket?i()(new Date,"dd/mm/yyyy HH:MM:ss"):t.created_at||(new Date).getTime();case"id":return t.id;case"given":return t.isGift?"0.00":Object(l.c)(Object(u.m)({ticket:t}));case"return":return t.isDailySummaryTicket?"0.00":t.isGift?"0.00":Object(l.c)(Object(u.j)({ticket:t}));case"total":return t.isGift?"0.00":Object(l.c)(Object(u.o)({ticket:t}));case"category":return t.isGift?"Gift":t.isVoucher?"Voucher":t.isDailySummaryTicket?"Daily Summary Ticket":"Ticket";default:return""}}(0,t,o.toLowerCase(),c);return""}.apply(void 0,[e,t].concat(Object(o.a)(a.match(f).map(function(e){return e.startsWith('"')?e.replace(m,""):e}))))}function h(e,t){try{return e.ticketTemplate.replace(p,b.bind(null,e,t))}catch(n){console.error(n)}}},200:function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a});var r="ui/TicketTotal/SET_TICKET_GIVEN_AMOUNT_ACTION",o="ui/TicketTotal/INCREASE_TICKET_GIVEN_AMOUNT_ACTION",a="ui/TicketTotal/DECREASE_TICKET_GIVEN_AMOUNT_ACTION"},201:function(e,t,n){"use strict";n.d(t,"n",function(){return r}),n.d(t,"j",function(){return o}),n.d(t,"e",function(){return a}),n.d(t,"i",function(){return i}),n.d(t,"h",function(){return c}),n.d(t,"g",function(){return s}),n.d(t,"f",function(){return u}),n.d(t,"d",function(){return l}),n.d(t,"a",function(){return d}),n.d(t,"k",function(){return p}),n.d(t,"c",function(){return f}),n.d(t,"b",function(){return m}),n.d(t,"m",function(){return b}),n.d(t,"l",function(){return h});var r="ui/TicketItems/UPDATE_TMP_TICKET_DATA_ACTION",o="ui/TicketItems/UPDATE_STOCK_TICKET_DATA_ACTION",a="ui/TicketItems/REMOVE_STOCK_FROM_TICKET_ACTION",i="ui/TicketItems/UNDO_RETURN_STOCK_FROM_TICKET_ACTION",c="ui/TicketItems/RETURN_STOCK_FROM_TICKET_ACTION",s="ui/TicketItems/RETURN_ALL_STOCK_FROM_TICKET_ACTION",u="ui/TicketItems/REMOVE_TICKET_ACTION",l="ui/TicketItems/LOAD_TICKET_ACTION",d="ui/StockItems/ADD_STOCK_TO_TICKET_ACTION",p="ui/TicketItems/UPDATE_TICKET_ACTION",f="ui/TicketItems/GET_MATCHES_TICKETS_ACTION",m="ui/TicketItems/CLOSE_TICKET_ACTION",b="ui/TicketItems/UPDATE_TICKET_TAX_ACTION",h="ui/TicketItems/UPDATE_TICKET_DISCOUNT_ACTION"},204:function(e,t,n){"use strict";var r=n(165),o=n(0),a=n.n(o),i=n(44),c=n.n(i),s=n(9),u=n(8);function l(){var e=Object(s.a)(["\n  outline: none;\n  pointer-events: ",";\n  margin-left: 5px;\n  height: 35px;\n  width: 115px;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-size: 1.3em;\n  font-style: normal;\n  font-weight: 400;\n  border: 1px solid rgba(163, 168, 174, 0.6);\n  color: rgba(163, 168, 174, 0.6);\n  cursor: pointer;\n  transition: all 0.5s ease-in-out;\n  position: relative;\n  overflow: hidden;\n  &::after {\n    content: '';\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    width: 5px;\n    height: 5px;\n    opacity: 0;\n    border-radius: 100%;\n    background-color: ",";\n    transform: scale(1, 1) translate(-50%);\n    transform-origin: 50% 50%;\n  }\n  &:hover {\n    border: 1px solid ",";\n    color: ",";\n  }\n  &:focus:not(:active)::after {\n    animation: "," 1s ease-out;\n  }\n"]);return l=function(){return e},e}function d(){var e=Object(s.a)(["\n  0% {\n    transform: scale(0, 0);\n    opacity: 1;\n  }\n  20% {\n    transform: scale(20, 20);\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n    transform: scale(40, 40);\n  }\n"]);return d=function(){return e},e}var p=Object(u.e)(d()),f=u.c.button(l(),function(e){return e.inactive?"none":"auto"},function(e){return e.color[1]},function(e){return e.color[0]},function(e){return e.color[0]},p),m=function(e){return e.primary?["rgb(115, 201, 144)","rgba(115, 201, 144, .2)"]:e.secundary?["rgba(100, 148, 237)","rgba(100, 148, 237, .2)"]:["rgb(226, 192, 141)","rgba(226, 192, 141, .2)"]};t.a=function(e){var t=e.title,n=Object(r.a)(e,["title"]);return a.a.createElement(f,Object.assign({color:m(e)},n),e.icon&&a.a.createElement(c.a,{name:e.icon})," ",t)}},21:function(e,t,n){"use strict";var r=n(279),o=n.n(r);o.a.topics={FUZZY_FINDER_REQUIRED:"FUZZY_FINDER_REQUIRED",FUZZY_FINDER_LANG_ITEM_SELECTED:"FUZZY_FINDER_LANG_ITEM_SELECTED",FUZZY_FINDER_THEME_ITEM_SELECTED:"FUZZY_FINDER_THEME_ITEM_SELECTED",FUZZY_FINDER_NOTEBOOK_ITEM_ADDED:"FUZZY_FINDER_NOTEBOOK_ITEM_ADDED",FUZZY_FINDER_CLOSED:"FUZZY_FINDER_CLOSED",HELPER_TOUR_TIP_OPENED:"HELPER_TOUR_TIP_OPENED",HELPER_TOUR_TIP_CLOSED:"HELPER_TOUR_TIP_CLOSED",HELPER_TOUR_TIP_REMOVED:"HELPER_TOUR_TIP_REMOVED",MODAL_OPENED:"MODAL_OPENED",MODAL_CLOSED:"MODAL_CLOSED",ACTION_SELECTED:"ACTION_SELECTED"},t.a=o.a},262:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"h",function(){return a}),n.d(t,"d",function(){return i}),n.d(t,"e",function(){return c}),n.d(t,"b",function(){return s}),n.d(t,"f",function(){return u}),n.d(t,"c",function(){return l}),n.d(t,"i",function(){return d}),n.d(t,"g",function(){return p});var r=n(13);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:r.a,stock:e,options:t}}function a(e){return{type:r.s,stock:e}}function i(e,t,n){return{type:r.i,limit:e,skip:t,search:n}}function c(e,t,n,o){return{type:r.l,reference:e,limit:t,skip:n,search:o}}function s(e){return{type:r.c,decrypt:e}}function u(e,t,n){return{type:r.o,limit:t,skip:n,search:e}}function l(e,t){return{type:r.f,field:e,value:t}}function d(e,t){return{type:r.w,reference:e,data:t}}function p(e,t){return{type:r.u,option:e,value:t}}},263:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"f",function(){return i}),n.d(t,"a",function(){return c}),n.d(t,"h",function(){return u}),n.d(t,"i",function(){return l}),n.d(t,"e",function(){return d}),n.d(t,"d",function(){return p}),n.d(t,"g",function(){return s});var r=n(12),o=function(){return Object(r.createSelector)(function(e){return e.stock},function(e){return e.items})},a=function(){return Object(r.createSelector)(function(e){return e.stock},function(e){return e.limit})},i=function(){return Object(r.createSelector)(function(e){return e.stock},function(e){return e.skip})},c=function(){return Object(r.createSelector)(function(e){return e.stock},function(e){return e.total})},s=function(){return Object(r.createSelector)(Object(r.createSelector)(function(e){return e.tmp},function(e){return e.matches}),function(e){return e.stock.reference})},u=function(){return Object(r.createSelector)(Object(r.createSelector)(function(e){return e.tmp},function(e){return e.search}),function(e){return e.stock})},l=function(){return Object(r.createSelector)(function(e){return e.tmp},function(e){return e.stock})},d=function(){return Object(r.createSelector)(function(e){return e.tmp},function(e){return e.modal.removeStock})},p=function(){return Object(r.createSelector)(function(e){return e.tmp},function(e){return e.modal.archiveStock})}},264:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o});var r="ui/TicketTotal/TOGGLE_TICKET_TOTAL_VISIBILITY",o="ui/TicketTotal/TOGGLE_RAW_TICKET_VISIBILITY"},280:function(e){e.exports={"kz.components.Footer.bugs":"","kz.components.Footer.help":"Support Us","kz.components.Footer.home":"","kz.components.Footer.languages":"","kz.components.Footer.license":"","kz.components.Footer.themes":"Themes","kz.containers.SidebarMenu.home":"HOME","kz.containers.SidebarMenu.settings":"SETTINGS","kz.containers.SidebarMenu.discover":"DISCOVER","kz.containers.SidebarMenu.tickets":"YOUR TICKETS","kz.containers.SidebarMenu.cashDrawer":"Cash Drawer","kz.containers.SidebarMenu.searchTickets":"Search Tickets","kz.components.HomePage.header":"Kalzate","kz.components.HomePage.help":"Discover all you can do with","kz.components.HomePage.subheader":"A Point Of Sale For Busy People","kz.containers.SettingsPage.addressField":"Address","kz.containers.SettingsPage.analyticsServerField":"Analytics Server","kz.containers.SettingsPage.backupLocationField":"Backup Location","kz.containers.SettingsPage.backupPeriodField":"Backup Frecuency","kz.containers.SettingsPage.company":"Company Settings","kz.containers.SettingsPage.countryField":"Country","kz.containers.SettingsPage.emailField":"Email","kz.containers.SettingsPage.langField":"Language","kz.containers.SettingsPage.nameField":"Name","kz.containers.SettingsPage.phoneField":"Phone","kz.containers.SettingsPage.printerIPField":"Printer IP","kz.containers.SettingsPage.printerNameField":"Printer Name","kz.containers.SettingsPage.storage":"Storage Settings","kz.containers.SettingsPage.themeField":"Theme","kz.containers.SettingsPage.ticket":"Ticket Settings","kz.containers.SettingsPage.ticketTemplateField":"Ticket Template","kz.containers.SettingsPage.timezoneField":"Timezone","kz.containers.SettingsPage.user":"User Settings","kz.containers.Discover.salesTitle":"Sales Chart","kz.containers.Discover.salesDesc":"The sales chart renders the total incoming made (y axis) per day (x axis)","kz.containers.Discover.salesNoData":"No enough data to display the sales chart","kz.containers.Discover.salesNoDataDesc":"Please, create some tickets to display it","kz.containers.Discover.ticketsTitle":"Tickets Chart","kz.containers.Discover.ticketsDesc":"The tickets chart renders ticket aggregaation values including the maximum, minimum, third quartile, median and first quartile (y axis) per day (x axis)","kz.containers.Discover.ticketsNoData":"No enough data to display the tickets chart","kz.containers.Discover.ticketsNoDataDesc":"Please, create some tickets to display it","kz.containers.Discover.stockTitle":"Stock Chart","kz.containers.Discover.stockInfo":"{sold} units at {price} each ({title} - {amount})","kz.containers.Discover.stockDesc":"The stock chart renders the relationship between the price (x axis) and the number of items sold (y axis). The radius is the amount of items available","kz.containers.Discover.stockNoData":"No enough data to display the stock chart","kz.containers.Discover.stockNoDataDesc":"Please, upload stock data in order to display it","kz.containers.Discover.alertTitle":"Alert Stock Chart","kz.containers.Discover.alertDesc":"The alert chart renders the top stock items more sold, the top stock items less sold and the items with no available stock","kz.containers.Discover.alertNoData":"No enough data to display the alert chart","kz.containers.Discover.alertNoDataDesc":"Please, upload stock data in order to display it","kz.containers.Discover.alertTopSold":"Top Sold","kz.containers.Discover.alertTopLessSold":"Top Less Sold","kz.containers.Discover.alertEmptyStock":"Empty Stock","kz.containers.TicketPaymentsContainer.title":"Payment Method","kz.containers.TicketTotalContainer.title":"Payment Summary","kz.containers.StockItems.modal.title":"Drop stock file here","kz.containers.StockItems.modal.desc":"Use a csv, json or yaml file extension","kz.containers.StockItems.modal.items":"{items} items found","kz.containers.StockItems.modal.noItems":"No items found","kz.containers.StockItems.modal.help":"Need Help ? Download a stock file sample here","kz.containers.StockItems.modal.loading":"Please wait, I'm on it","kz.containers.StockItems.modal.option.remove":"Remove Current Stock","kz.containers.StockItems.modal.option.archive":"Archive Current Stock","kz.containers.StockItems.pagination.of":"of","kz.containers.StockItems.table.reference":"Reference","kz.containers.StockItems.table.brand":"Brand","kz.containers.StockItems.table.gender":"Gender","kz.containers.StockItems.table.color":"Color","kz.containers.StockItems.table.size":"Size","kz.containers.StockItems.table.price":"Price","kz.containers.StockItems.table.amount":"Amount","kz.containers.StockItems.notFound":"Hey, Looks as there's no Items!","kz.containers.StockItems.notFoundHelp":"Try adding a new one or changing the searching criterias.","kz.containers.StockItemsBasic.table.desc":"Description","kz.containers.TicketItems.notFound":"Ticket empty","kz.containers.TicketItems.notFoundHelp":"Add some items to this ticket","kz.containers.TicketItems.discount":"Discount","kz.containers.TicketItems.vat":"VAT","kz.containers.TicketItems.save":"Save Ticket","kz.containers.TicketItems.new":"New Ticket","kz.containers.TicketItems.gift":"Is a Gift","kz.containers.TicketItems.checkout":"Checkout","kz.containers.TicketItems.table.reference":"Reference","kz.containers.TicketItems.table.description":"Description","kz.containers.TicketItems.table.subtotal":"Subtotal","kz.containers.TicketItems.table.price":"Price","kz.containers.TicketItems.table.amount":"Amount","kz.containers.TicketItems.search":"Ticket ID","kz.containers.TicketSoldItems.amountInfoTooltip":"You can return up to a maximum of {returnAmount} units previously bought","kz.containers.TicketSoldItems.removedAmountInfoTooltip":"You can return up to {returnAmount} units (out of {previousAddedAmount} units previously bought and {previousRemovedAmount} units previously returned)","kz.containers.TicketSoldItems.notFound":"Ticket empty","kz.containers.TicketSoldItems.notFoundHelp":"This ticket has been removed from the system","kz.containers.TicketSoldItems.discount":"Discount","kz.containers.TicketSoldItems.vat":"VAT","kz.containers.TicketSoldItems.print":"Print Ticket","kz.containers.TicketSoldItems.new":"New Ticket","kz.containers.TicketSoldItems.gift":"Voucher","kz.containers.TicketSoldItems.checkout":"Checkout","kz.containers.TicketSoldItems.table.reference":"Reference","kz.containers.TicketSoldItems.table.description":"Description","kz.containers.TicketSoldItems.table.subtotal":"Subtotal","kz.containers.TicketSoldItems.table.price":"Price","kz.containers.TicketSoldItems.table.amount":"Amount","kz.containers.TicketSoldItems.table.return":"Return","kz.containers.TicketSoldItems.search":"Ticket ID","kz.containers.TicketReturnItems.notFound":"Ticket empty","kz.containers.TicketReturnItems.notFoundHelp":"This ticket has been removed from the system","kz.containers.TicketReturnItems.discount":"Discount","kz.containers.TicketReturnItems.vat":"VAT","kz.containers.TicketReturnItems.print":"Print Ticket","kz.containers.TicketReturnItems.new":"New Ticket","kz.containers.TicketReturnItems.table.reference":"Reference","kz.containers.TicketReturnItems.table.description":"Description","kz.containers.TicketReturnItems.table.subtotal":"Subtotal","kz.containers.TicketReturnItems.table.price":"Price","kz.containers.TicketReturnItems.table.amount":"Amount","kz.containers.TicketReturnItems.search":"Ticket ID","kz.containers.TicketReadOnly.addedAmountInfoTooltip":"This cutomer did buy {amount} units of this item in previous tickets","kz.containers.TicketReadOnly.removedAmountInfoTooltip":"This cutomer did return {amount} units of this item in previous tickets","kz.components.Modal.ok":"ok","kz.components.Modal.cancel":"Cancel","octoql.components.Footer.author.message":"","octoql.components.Footer.license.message":"","octoql.components.FuzzyFinder.notFound":"","octoql.components.HelperTour.footer.left.message":"","octoql.components.HelperTour.footer.right.message":"","octoql.components.HelperTour.tree.message":"","kz.containers.LanguageProvider.en":"English","kz.containers.LanguageProvider.es":"Spanish","octoql.components.NotFoundPage.header":"","octoql.components.ResourcesTree.notebook.add":"","octoql.containers.App.actions.addNotebook":"","octoql.containers.App.actions.changeLang":"","octoql.containers.App.actions.openNotebook":"","octoql.containers.WorkSpacePage.title":"","kz.components.Ribbon.forkme":"Fork me on Github","kz.containers.App.actions.createTicket":"Create Ticket","kz.containers.App.actions.changeLang":"Change Language","kz.containers.App.actions.changeTheme":"Change Theme","kz.containers.App.actions.importStock":"Import Stock","kz.containers.App.actions.exportDatabase":"Export Database","kz.containers.App.actions.resetDB":"Factory Reset","kz.containers.ThemeProvider.themes.dark":"Dark","kz.containers.ThemeProvider.themes.light":"Light","kz.containers.ThemeProvider.themes.monokai":"Monokai","kz.containers.TicketPayments.method.credit_card":"Credit Card","kz.containers.TicketPayments.method.ticket":"Voucher","kz.containers.TicketPayments.method.cash":"Cash","kz.containers.TicketPayments.method.phone":"Smartphone"}},283:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"CONTAINER",function(){return a}),n.d(r,"ITEMS_LIST",function(){return i}),n.d(r,"ITEM",function(){return c}),n.d(r,"FIELD_REFERENCE",function(){return s}),n.d(r,"FIELD_BRAND",function(){return u}),n.d(r,"FIELD_DESCRIPTION",function(){return l}),n.d(r,"FIELD_PRICE",function(){return d}),n.d(r,"FIELD_AMOUNT",function(){return p}),n.d(r,"ADD_ITEM",function(){return f}),n.d(r,"REMOVE_ITEM",function(){return m}),n.d(r,"CHECK_ITEM",function(){return b}),n.d(r,"ADD_ITEM_TO_TICKET",function(){return h});var o={};n.r(o),n.d(o,"PAYMENT_METHOD_CREDIT_CARD",function(){return k}),n.d(o,"PAYMENT_METHOD_CASH",function(){return v}),n.d(o,"PAYMENT_METHOD_VOUCHER",function(){return g}),n.d(o,"PAYMENT_METHOD_VOUCHER_AMOUNT",function(){return O}),n.d(o,"PAYMENT_METHOD_PHONE",function(){return y}),n.d(o,"CHECKOUT_BUTTON",function(){return T}),n.d(o,"SELL_SAVE_BUTTON",function(){return x}),n.d(o,"NEW_TICKET_BUTTON",function(){return E}),n.d(o,"VOUCHER_BUTTON",function(){return j}),n.d(o,"TICKETS_LIST",function(){return C}),n.d(o,"RETURN_ITEMS_LIST",function(){return S}),n.d(o,"RETURN_ITEM_ROW",function(){return I}),n.d(o,"INCREASE_RETURN_ITEM_BUTTON",function(){return w});var a="stock.container",i="stock.itemsList",c="stock.item",s="stock.ref",u="stock.brand",l="stock.desc",d="stock.price",p="stock.amount",f="stock.plus",m="stock.remove",b="stock.check",h="stock.addToTicket",k="tickets.paymentMethodCreditCard",v="tickets.paymentMethodCash",g="tickets.paymentMethodVoucher",O="tickets.paymentMethodVoucher.amount",y="tickets.paymentMethodPhone",T="tickets.sellCheckoutButton",x="tickets.sellSaveButton",E="tickets.newTicketButton",j="tickets.returnVoucherButton",C="tickets.ticketsList",S="tickets.returnItemsList",I="tickets.returnItemRow",w="tickets.increaseReturnItemButton";n.d(t,"a",function(){return _}),n.d(t,"b",function(){return A});var _=r,A=o},285:function(e,t,n){"use strict";var r=n(19),o=n(26),a=n(27),i=n(32),c=n(17),s=n(0),u=n.n(s),l=n(44),d=n.n(l),p=n(9),f=n(8);function m(){var e=Object(p.a)(["\n  background: ",';\n  bottom: 100%;\n  color: #a3a8ae;\n  display: inline-table;\n  left: -88px;\n  margin-bottom: 15px;\n  opacity: 0;\n  padding: 2px;\n  pointer-events: none;\n  position: absolute;\n  width: 200px;\n  -webkit-transition: all .25s ease-out;\n  -moz-transition: all .25s ease-out;\n  -ms-transition: all .25s ease-out;\n  -o-transition: all .25s ease-out;\n  transition: all .25s ease-out;\n  -webkit-box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.28);\n  -moz-box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.28);\n  -ms-box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.28);\n  -o-box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.28);\n  box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.28);\n  -webkit-user-select: none;\n\n  & :before {\n    bottom: -20px;\n    content: " ";\n    display: block;\n    height: 20px;\n    left: 0;\n    position: absolute;\n    width: 100%;\n  }\n\n  & :after {\n    border-left: solid transparent 10px;\n    border-right: solid transparent 10px;\n    border-top: solid var(--bgColor) 10px;\n    bottom: -10px;\n    content: " ";\n    height: 0;\n    left: 50%;\n    margin-left: -13px;\n    position: absolute;\n    width: 0;\n  }\n\n  '," \n  "," \n  ",";\n  ",";\n"]);return m=function(){return e},e}function b(){var e=Object(p.a)([void 0," 1s ease-in 1,\n    "," 2s ease-in-out infinite alternate;\n  -moz-animation: "," 1s ease-in 1,\n    "," 2s ease-in-out infinite alternate;\n  animation: "," 1s ease-in 1,\n    "," 2s ease-in-out infinite alternate;\n\n  -webkit-animation-fill-mode: forwards;\n  -moz-animation-fill-mode: forwards;\n  animation-fill-mode: forwards;\n\n  -webkit-animation-delay: 2s;\n  -moz-animation-delay: 2s;\n  animation-delay: 2s;\n"],["\n  opacity: 0;\n  opacity: 1 \\9; /*just in case ie*/\n  -webkit-animation: "," 1s ease-in 1,\n    "," 2s ease-in-out infinite alternate;\n  -moz-animation: "," 1s ease-in 1,\n    "," 2s ease-in-out infinite alternate;\n  animation: "," 1s ease-in 1,\n    "," 2s ease-in-out infinite alternate;\n\n  -webkit-animation-fill-mode: forwards;\n  -moz-animation-fill-mode: forwards;\n  animation-fill-mode: forwards;\n\n  -webkit-animation-delay: 2s;\n  -moz-animation-delay: 2s;\n  animation-delay: 2s;\n"]);return b=function(){return e},e}function h(){var e=Object(p.a)(["\n  position: absolute;\n  outline: none;\n  z-index: 3;\n  width: 16px;\n  height: 16px;\n  text-align: center;\n  -webkit-transform: translateZ(0);\n  -webkit-font-smoothing: antialiased;\n  color: ",";\n  "," \n  "," \n  "," \n  ",";\n"]);return h=function(){return e},e}function k(){var e=Object(p.a)(["\n  0% {\n    transform: translate(0, 0);\n  }\n  50% {\n    transform: translate(2px, 0);\n  }\n  100% {\n    transform: translate(0, 0);\n  }\n"]);return k=function(){return e},e}function v(){var e=Object(p.a)(["\n  from {\n      opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n"]);return v=function(){return e},e}var g=Object(f.e)(v()),O=Object(f.e)(k()),y=function(e,t){return"".concat(e,": ").concat(t,"px;")},T=f.c.div(h(),function(e){return e.color||"rgb(226, 192, 141)"},function(e){return e.left?y("left",e.left):""},function(e){return e.right?y("right",e.right):""},function(e){return e.top?y("top",e.top):""},function(e){return e.bottom?y("bottom",e.bottom):""}),x=f.c.div(b(),g,O,g,O,g,O),E=f.c.div(m(),function(e){return e.theme&&e.theme.tooltips.bgColor?e.theme.tooltips.bgColor:"rgba(39, 41, 44, 0.9)"},function(e){return"up"===e.direction?"\n  top: 30px;\n  & :after {\n    top: -10px;\n    transform: rotate(180deg);\n  }\n  & :before {\n    top: -20px;\n  }\n":""},function(e){return"down"===e.direction?"\n -webkit-transform: translateY(10px);\n  -moz-transform: translateY(10px);\n  -ms-transform: translateY(10px);\n  -o-transform: translateY(10px);\n  transform: translateY(10px);\n":""},function(e){return"left"===e.direction?"\n  left: -215px;\n  top: -75px;\n  bottom: initial;\n  & :after {\n    left: 208px;\n    bottom: 15px;\n    transform: rotate(270deg);\n  }\n  & :before {\n    height: 105px;\n    left: 200px;\n    top: 0px;\n    width: 20px;\n  }\n":""},function(e){return e.visible?"\n  -webkit-transition: all .25s ease-out;\n  -moz-transition: all .25s ease-out;\n  -ms-transition: all .25s ease-out;\n  -o-transition: all .25s ease-out;\n  transition: all .25s ease-out;\n  opacity: 1;\n  pointer-events: auto;\n  -webkit-transform: translateY(0px);\n  -moz-transform: translateY(0px);\n  -ms-transform: translateY(0px);\n  -o-transform: translateY(0px);\n  transform: translateY(0px);\n":""});function j(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(c.a)(e);if(t){var o=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(i.a)(this,n)}}var C=function(e){Object(a.a)(n,e);var t=j(n);function n(e){var o;return Object(r.a)(this,n),(o=t.call(this,e)).state={visible:!1},o}return Object(o.a)(n,[{key:"startReadingTip",value:function(){this.setState({visible:!0})}},{key:"stopReadingTip",value:function(){this.setState({visible:!1})}},{key:"remove",value:function(){this.tip.remove()}},{key:"render",value:function(){var e=this;return u.a.createElement(T,{innerRef:function(t){e.tip=t},onMouseEnter:function(t){return e.startReadingTip(t)},onMouseLeave:function(t){return e.stopReadingTip(t)},left:this.props.left,top:this.props.top,right:this.props.right,bottom:this.props.bottom,color:this.props.color,onClick:function(t){return e.props.onClick?e.props.onClick(t):null}},this.props.animated?u.a.createElement(x,null,u.a.createElement(d.a,{name:this.props.icon||"unverified"})):u.a.createElement(d.a,{name:this.props.icon||"unverified"}),u.a.createElement(E,{direction:this.props.direction,visible:this.state.visible},this.props.children))}}]),n}(u.a.Component);t.a=C},29:function(e,t,n){"use strict";n.d(t,"u",function(){return r}),n.d(t,"o",function(){return o}),n.d(t,"j",function(){return a}),n.d(t,"k",function(){return i}),n.d(t,"e",function(){return c}),n.d(t,"f",function(){return s}),n.d(t,"a",function(){return u}),n.d(t,"p",function(){return l}),n.d(t,"s",function(){return d}),n.d(t,"r",function(){return p}),n.d(t,"d",function(){return f}),n.d(t,"b",function(){return m}),n.d(t,"c",function(){return b}),n.d(t,"g",function(){return h}),n.d(t,"i",function(){return k}),n.d(t,"h",function(){return v}),n.d(t,"t",function(){return g}),n.d(t,"q",function(){return O}),n.d(t,"l",function(){return y}),n.d(t,"m",function(){return T}),n.d(t,"n",function(){return x});var r="ui/TicketItems/UPDATE_TMP_TICKET_DATA_ACTION",o="ui/TicketItems/UPDATE_STOCK_TICKET_DATA_ACTION",a="ui/TicketItems/REMOVE_STOCK_FROM_TICKET_ACTION",i="ui/TicketItems/REMOVE_TICKET_ACTION",c="ui/TicketItems/LOAD_TICKET_ACTION",s="ui/TicketItems/LOAD_TICKET_ERROR_ACTION",u="ui/StockItems/ADD_STOCK_TO_TICKET_ACTION",l="ui/TicketItems/UPDATE_TICKET_ACTION",d="ui/TicketItems/UPDATE_TICKET_SUCCESS_ACTION",p="ui/TicketItems/UPDATE_TICKET_ERROR_ACTION",f="ui/TicketItems/GET_MATCHES_TICKETS_ACTION",m="ui/TicketItems/CLOSE_TICKET_ACTION",b="ui/TicketItems/CLOSE_TICKET_ERROR_ACTION",h="ui/TicketItems/PRINT_TICKET_ACTION",k="ui/TicketItems/PRINT_TICKET_SUCCESS_ACTION",v="ui/TicketItems/PRINT_TICKET_ERROR_ACTION",g="ui/TicketItems/UPDATE_TICKET_TAX_ACTION",O="ui/TicketItems/UPDATE_TICKET_DISCOUNT_ACTION",y="ui/TicketItems/SEARCH_TICKETS_ACTION",T="ui/TicketItems/SEARCH_TICKETS_ERROR_ACTION",x="ui/TicketItems/SEARCH_TICKETS_SUCCESS_ACTION"},398:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(58);function o(e){var t=e.content,n=e.fileName;return{type:r.c,content:t,fileName:n}}},413:function(e,t){},416:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="ui/TicketPayments/TOGGLE_TICKET_PAYMENTS_VISIBILITY"},425:function(e,t,n){"use strict";var r=n(19),o=n(26),a=n(27),i=n(32),c=n(17),s=n(0),u=n.n(s),l=n(59),d=n(12),p=n(398),f=n(9),m=n(8);function b(){var e=Object(f.a)(["\n  width: 550px;\n  margin: 10px auto;\n"]);return b=function(){return e},e}function h(){var e=Object(f.a)(["\n  width: 550px;\n  margin: auto;\n  border: 2px dotted rgba(163, 168, 174, 0.6);\n  height: 250px;\n  letter-spacing: 0.15em;\n  text-align: center;\n  font-size: 1.7em;\n  display: table;\n  cursor: pointer;\n"]);return h=function(){return e},e}function k(){var e=Object(f.a)(["\n  width: 600px;\n  color: rgba(163, 168, 174, 0.6);\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-size: 1.5em;\n  font-style: normal;\n  font-weight: 300;\n"]);return k=function(){return e},e}var v=m.c.section(k()),g=m.c.div(h()),O=m.c.div(b()),y=v,T=n(52),x=n(15),E=n(399),j=n(402),C=n.n(j),S=n(285),I=n(78);function w(){var e=Object(f.a)(["\n  cursor: default;\n  padding: 14px;\n  font-size: 11px;\n  font-weight: 400;\n  letter-spacing: 3px;\n  transition: all 0.5s ease-in-out;\n"]);return w=function(){return e},e}var _=m.c.div(w()),A=n(13);function z(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(c.a)(e);if(t){var o=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(i.a)(this,n)}}var D=function(e){Object(a.a)(n,e);var t=z(n);function n(e){var o;return Object(r.a)(this,n),(o=t.call(this,e)).state={loading:!1,items:null,filename:""},o}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.onApproved(function(){return e.saveData()})}},{key:"saveData",value:function(){return!this.state.items.length||(this.props.createStock(this.state.items,{batch:!0,remove:this.props.removeStockOption,archive:this.props.archiveStockOption,filename:this.state.filename}),!0)}},{key:"toJS",value:function(e,t,n){try{switch(t){case A.e[0]:return n(null,JSON.parse(e));case A.e[1]:return n(null,Object(E.safeLoad)(e));case A.e[2]:return C()({colParser:{size:"number",price:"number",amount:"number",colors:function(e){return e.split(",").map(function(e){return e.trim()})}}}).fromString(e).on("end_parsed",function(e){return n(null,e)}).on("error",function(e){return n(e)});default:return e}}catch(r){return n(r)}}},{key:"processFile",value:function(e){var t=this,n=e.name.split("."),r=Object(T.a)(n,2)[1];if(A.e.includes(r.toLowerCase())&&(window.File&&window.FileReader&&window.FileList&&window.Blob)){var o=new FileReader;o.onerror=function(e){var n=e.target;t.setState({loading:!1,items:[]}),console.error("could not read file, error code",n.error)},o.onloadstart=function(){t.setState({loading:!0})},o.onload=function(){t.toJS(o.result,r.toLowerCase(),function(n,r){return t.setState({loading:!1,items:r,filename:e.name},function(){return t.props.enable()})})},o.readAsText(e,"UTF-8")}}},{key:"openFileContext",value:function(e){this.fileInput&&this.fileInput.click()}},{key:"dropHandler",value:function(e){if(e.preventDefault(),e.dataTransfer.items)for(var t=0;t<e.dataTransfer.items.length;t+=1){var n=e.dataTransfer.items[t];"file"===n.kind&&this.processFile(n.getAsFile())}this.removeDragData(e)}},{key:"dragOverHandler",value:function(e){e.preventDefault()}},{key:"removeDragData",value:function(e){e.dataTransfer.items?e.dataTransfer.items.clear():e.dataTransfer.clearData()}},{key:"downloadSample",value:function(e){e.stopPropagation(),e.preventDefault(),this.props.downloadFile(n.SAMPLE_FILE,"sample_stock_file.csv","text/csv")}},{key:"render",value:function(){var e=this;return u.a.createElement(g,{draggable:"true",onClick:function(t){var n=t.target;return e.openFileContext(n)},onDrop:function(t){return e.dropHandler(t)},onDragOver:function(t){return e.dragOverHandler(t)}},u.a.createElement("input",{ref:function(t){return e.fileInput=t},type:"file",multiple:"false",accept:".csv,.json,.yaml,text/csv, application/json, application/x-yaml, application/vnd.ms-excel, text/*",onChange:function(t){var n=t.target;return n.files[0]?e.processFile(n.files[0]):null},style:{display:"none"}}),u.a.createElement("div",{style:{display:"table-cell",verticalAlign:"middle"}},u.a.createElement("p",{style:{margin:"2px"}},u.a.createElement(x.a,I.a.modalTitle)),u.a.createElement("div",{style:{fontSize:"0.6em",margin:"2px"}},u.a.createElement(x.a,I.a.modalDesc),u.a.createElement(S.a,{animated:!0,color:"inherit",right:"40",top:"5",direction:"down",onClick:function(t){return e.downloadSample(t)}},u.a.createElement(_,{onClick:function(t){return e.downloadSample(t)}},u.a.createElement(x.a,I.a.modalHelp)))),this.state.items&&u.a.createElement("p",{style:{marginTop:"20px",fontSize:"0.6em"}},this.state.items.length?u.a.createElement(x.a,Object.assign({},I.a.modalItems,{values:{items:this.state.items.length}})):u.a.createElement(x.a,I.a.modalNoItems)),this.state.loading&&u.a.createElement("p",{style:{marginTop:"20px",fontSize:"0.6em"}},u.a.createElement(x.a,I.a.modalLoading))))}}]),n}(u.a.Component);D.SAMPLE_FILE='reference, brand, gender, colors, size, price, amount\n  400, Adidas, man, "white,red", 38, 64.95, 10\n  401, Nike, man, "white,blue", 40, 69.99, 15\n  402, Alpina, man, "red", 44, 44, 5\n  403, Barker, man, "black", 39, 39.99, 5\n  404, Faith, man, "white,blue", 37, 77.77, 7\n  410, Joma, woman, "green, yellow", 37, 59.90, 15\n  411, Tamaris, man, "white,red", 36, 35.95, 5\n  412, Whyred, woman, "black,brown", 41, 54.99, 15\n  413, Racoon, man, "red", 38, 75.5, 10\n  414, Ultimo, woman, "black", 34, 59.99, 5';var R=D;function N(){var e=Object(f.a)(["\n  background-color: rgba(163, 168, 174, 0.3);\n  border-radius: 22px;\n  cursor: pointer;\n  height: 22px;\n  position: relative;\n  transition: all 300ms ease;\n  width: 45px;\n\n  &::before {\n    content: '';\n    bottom: 0;\n    position: absolute;\n    left: 0;\n    top: 0;\n    transition: all 300ms ease;\n    background-color: rgba(163, 168, 174, 0.2);\n    box-shadow: none;\n    border-radius: inherit;\n    right: 0;\n    transform: scale(0);\n    margin: 2px;\n  }\n\n  &::after {\n    content: '';\n    bottom: 0;\n    position: absolute;\n    left: 0;\n    top: 0;\n    transition: all 300ms ease;\n    background-color: rgba(163, 168, 174, 0.3);\n    border: 0 solid #dedede;\n    border-radius: 22px;\n    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.45);\n    height: 22px;\n    margin-bottom: auto;\n    margin-top: auto;\n    position: absolute;\n    margin: auto 0;\n    width: 22px;\n  }\n"]);return N=function(){return e},e}function F(){var e=Object(f.a)(["\n  display: none;\n  &:checked + div {\n    background-color: rgba(163, 168, 174, 0.5);\n    box-shadow: inset 0 0 18px rgba(0, 0, 0, 0.21);\n  }\n  &:checked + div::before {\n    transform: scale(0);\n  }\n  &:checked + div::after {\n    left: 22px;\n  }\n"]);return F=function(){return e},e}function P(){var e=Object(f.a)(["\n  align-items: center;\n  display: flex;\n"]);return P=function(){return e},e}function M(){var e=Object(f.a)(["\n  padding: 10px;\n  position: relative;\n  top: 5px;\n  display: inline-block;\n"]);return M=function(){return e},e}var L=m.c.div(M()),U=m.c.label(P()),H=m.c.input(F()),B=m.c.div(N()),K=function(e){var t=e.type,n=e.defaultChecked,r=e.onChange;return u.a.createElement(L,null,u.a.createElement(U,null,u.a.createElement(H,{type:t,defaultChecked:n,onChange:function(e){var t=e.target;return r(t.checked)}}),u.a.createElement(B,null)))};function q(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(c.a)(e);if(t){var o=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(i.a)(this,n)}}var V=function(e){Object(a.a)(n,e);var t=q(n);function n(e){return Object(r.a)(this,n),t.call(this,e)}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return u.a.createElement(O,null,u.a.createElement("div",{style:{display:"inline-block",width:"50%"}},u.a.createElement(K,{defaultChecked:this.props.removeStockOption,type:"checkbox",style:{marginRight:"5px"},onChange:function(t){return e.props.updateModalOption("removeStock",t)}}),u.a.createElement("label",null,u.a.createElement(x.a,I.a.modalOptionRemove))),u.a.createElement("div",{style:{display:"inline-block",width:"50%",paddingLeft:"20px"}},u.a.createElement(K,{type:"checkbox",defaultChecked:this.props.archiveStockOption,style:{marginRight:"5px"},onChange:function(t){return e.props.updateModalOption("archiveStock",t)}}),u.a.createElement("label",null,u.a.createElement(x.a,I.a.modalOptionArchive))))}}]),n}(u.a.Component),G=n(262),Y=n(263);function Z(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(c.a)(e);if(t){var o=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(i.a)(this,n)}}var W=function(e){Object(a.a)(n,e);var t=Z(n);function n(e){return Object(r.a)(this,n),t.call(this,e)}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return u.a.createElement(y,null,u.a.createElement(R,Object.assign({enable:function(){return e.props.disableNext(!1)},disable:function(){return e.props.disableNext()},onApproved:function(){var t;return(t=e.props).onApproved.apply(t,arguments)}},this.props,{downloadFile:function(){var t;return(t=e.props).downloadFile.apply(t,arguments)}})),u.a.createElement(V,this.props))}}]),n}(u.a.Component),$=Object(d.createStructuredSelector)({removeStockOption:Object(Y.e)(),archiveStockOption:Object(Y.d)()});t.a=Object(l.connect)($,function(e){return{createStock:function(){return e(G.a.apply(void 0,arguments))},updateModalOption:function(){return e(G.g.apply(void 0,arguments))},downloadFile:function(t,n,r){return e(Object(p.a)({content:t,fileName:n,mime:r}))}}})(W)},438:function(e,t){},453:function(e,t){},458:function(e){e.exports={"app.components.BlogPost.header":"This is the BlogPost component !","app.containers.TicketItems.header":"This is TicketItems container !","app.containers.TicketPayments.header":"This is TicketPayments container !","app.containers.TicketTotal.header":"This is TicketTotal container !","kz.components.Footer.bugs":"Fallos","kz.components.Footer.help":"Contribuye","kz.components.Footer.home":"Nosotros","kz.components.Footer.languages":"Idiomas","kz.components.Footer.license":"MIT","kz.components.Footer.themes":"Dise\xf1os","kz.components.HomePage.header":"Kalzate","kz.components.HomePage.help":"Descubre qu\xe9 puedes hacer con","kz.components.HomePage.subheader":"Un TPV sin rodeos ni mareos","kz.containers.SidebarMenu.home":"INICIO","kz.containers.SidebarMenu.settings":"OPCIONES","kz.containers.SidebarMenu.discover":"ATALAYA","kz.containers.SidebarMenu.tickets":"TUS TICKETS","kz.containers.SidebarMenu.cashDrawer":"Hacer caja","kz.containers.SidebarMenu.searchTickets":"Buscar Tickets","kz.containers.SettingsPage.addressField":"Direccion","kz.containers.SettingsPage.analyticsServerField":"Servidor Big Data","kz.containers.SettingsPage.backupLocationField":"Localizacion Copias","kz.containers.SettingsPage.backupPeriodField":"Frecuencia Copias","kz.containers.SettingsPage.company":"Opciones de Empresa","kz.containers.SettingsPage.countryField":"Pais","kz.containers.SettingsPage.emailField":"Email","kz.containers.SettingsPage.langField":"Idioma","kz.containers.SettingsPage.nameField":"Nombre","kz.containers.SettingsPage.phoneField":"Telefono","kz.containers.SettingsPage.printerIPField":"Servidor Impresora","kz.containers.SettingsPage.printerNameField":"Nombre Impresora","kz.containers.SettingsPage.storage":"Opciones de Almacenamiento","kz.containers.SettingsPage.themeField":"Tema","kz.containers.SettingsPage.ticket":"Opciones de Venta","kz.containers.SettingsPage.ticketTemplateField":"Plantilla Ticket","kz.containers.SettingsPage.timezoneField":"Zona Horaria","kz.containers.SettingsPage.user":"Opciones de Usuario","kz.containers.Discover.salesTitle":"Gr\xe1fico de Ventas","kz.containers.Discover.salesDesc":"El gr\xe1fico de ventas muestra el total de ingresos (eje y) por d\xeda (eje x)","kz.containers.Discover.salesNoData":"No tenemos suficiente informaci\xf3n para mostrar el gr\xe1fico de ventas","kz.containers.Discover.salesNoDataDesc":"Hazme el favor y vende algunos tickets para que podamos mostrarte el gr\xe1fico de ventas.","kz.containers.Discover.ticketsTitle":"Gr\xe1fico de Tickets","kz.containers.Discover.ticketsDesc":"El gr\xe1fico de tickets muestra valores estad\xedsticos como el m\xe1ximo, el m\xednimo, la mediana, el primer y el tercer cuartil de los tickets vendidos en su divisa (eje y) por d\xeda (eje x)","kz.containers.Discover.ticketsNoData":"No tenemos suficiente informaci\xf3n para mostrar el gr\xe1fico de tickets","kz.containers.Discover.ticketsNoDataDesc":"Hazme el favor y vende algunos tickets para que podamos mostrarte el gr\xe1fico de tickets","kz.containers.Discover.stockTitle":"Gr\xe1fico de Art\xedculos","kz.containers.Discover.stockInfo":"{sold} unidades a {price} cada una ({title} - {amount})","kz.containers.Discover.stockDesc":"The gr\xe1fico de art\xedculos muestra la relaci\xf3n entre el precio (eje x) y el n\xfamero de unidades vendidas (eje y). El radio de cada stock representa la cantidad de unidades disponibles no vendidas a\xfan","kz.containers.Discover.stockNoData":"No tenemos suficiente informaci\xf3n para mostrar el gr\xe1fico de art\xedculos","kz.containers.Discover.stockNoDataDesc":"Hazme el favor y a\xf1ada algunos art\xedculos a su tienda para que podamos mostrarte el gr\xe1fico de art\xedculos","kz.containers.Discover.alertTitle":"Gr\xe1fico de Alertas","kz.containers.Discover.alertDesc":"El gr\xe1fico de alertas muestra los art\xedculos m\xe1s vendidos, los menos vendidos y aquellos que se encuentran agotados","kz.containers.Discover.alertNoData":"No tenemos suficiente informaci\xf3n para mostrar el gr\xe1fico de alertas","kz.containers.Discover.alertNoDataDesc":"Hazme el favor y a\xf1ada algunos art\xedculos a su tienda para que podamos mostrarte el gr\xe1fico de alertas","kz.containers.Discover.alertTopSold":"M\xe1s Vendidos","kz.containers.Discover.alertTopLessSold":"Menos Vendidos","kz.containers.Discover.alertEmptyStock":"Agotados","kz.containers.TicketPaymentsContainer.title":"Forma de Pago","kz.containers.TicketTotalContainer.title":"Resumen Pedido","kz.containers.StockItems.modal.title":"Arrastra fichero aqu\xed","kz.containers.StockItems.modal.desc":"Usa el formato csv, json o yaml","kz.containers.StockItems.modal.items":"{items} art\xedculos encontrados","kz.containers.StockItems.modal.noItems":"No hay art\xedculos","kz.containers.StockItems.modal.help":"Necesitas ayuda ? B\xe1jate un fichero de ejemplo aqu\xed","kz.containers.StockItems.modal.loading":"Por favor espere, estamos en ello","kz.containers.StockItems.modal.option.remove":"Eliminar Art\xedculos","kz.containers.StockItems.modal.option.archive":"Archivar Art\xedculos","kz.containers.StockItems.pagination.of":"de","kz.containers.StockItems.table.reference":"Referencia","kz.containers.StockItems.table.brand":"Marca","kz.containers.StockItems.table.gender":"G\xe9nero","kz.containers.StockItems.table.color":"Color","kz.containers.StockItems.table.size":"Talla","kz.containers.StockItems.table.price":"Precio","kz.containers.StockItems.table.amount":"Cantidad","kz.containers.StockItems.notFound":"Vaya tela, \xa1no hay ning\xfan art\xedculo!","kz.containers.StockItems.notFoundHelp":"Prueba a\xf1adir algunos art\xedculos o cambiando el criterio de b\xfasqueda.","kz.containers.StockItemsBasic.table.desc":"Descripci\xf3n","kz.containers.TicketItems.notFound":"Ticket vac\xedo","kz.containers.TicketItems.notFoundHelp":"A\xf1ade algunos art\xedculos a este ticket","kz.containers.TicketItems.discount":"Descuento","kz.containers.TicketItems.vat":"IVA","kz.containers.TicketItems.save":"Guardar","kz.containers.TicketItems.new":"Nuevo","kz.containers.TicketItems.gift":"Regalo","kz.containers.TicketItems.checkout":"Finalizar","kz.containers.TicketItems.table.reference":"Referencia","kz.containers.TicketItems.table.description":"Descripci\xf3n","kz.containers.TicketItems.table.subtotal":"Subtotal","kz.containers.TicketItems.table.price":"Precio","kz.containers.TicketItems.table.amount":"Cantidad","kz.containers.TicketItems.search":"C\xf3digo Ticket","kz.containers.TicketSoldItems.amountInfoTooltip":"Puedes devolver hasta un m\xe1ximo de {returnAmount} unidades anteriormente compradas","kz.containers.TicketSoldItems.removedAmountInfoTooltip":"Puedes devolver hasta un m\xe1ximo de {returnAmount} unidades (de un total de {previousAddedAmount} unidades compradas y {previousRemovedAmount} unidades ya devueltas)","kz.containers.TicketSoldItems.notFound":"Ticket vac\xedo","kz.containers.TicketSoldItems.notFoundHelp":"Este ticket ha sido eliminado del sistema","kz.containers.TicketSoldItems.discount":"Descuento","kz.containers.TicketSoldItems.vat":"IVA","kz.containers.TicketSoldItems.print":"Imprimir","kz.containers.TicketSoldItems.new":"Nuevo","kz.containers.TicketSoldItems.gift":"Cup\xf3n","kz.containers.TicketSoldItems.checkout":"Finalizar","kz.containers.TicketSoldItems.table.reference":"Referencia","kz.containers.TicketSoldItems.table.description":"Descripci\xf3n","kz.containers.TicketSoldItems.table.subtotal":"Subtotal","kz.containers.TicketSoldItems.table.price":"Precio","kz.containers.TicketSoldItems.table.amount":"Cantidad","kz.containers.TicketSoldItems.table.return":"Devolver","kz.containers.TicketSoldItems.search":"C\xf3digo Ticket","kz.containers.TicketReturnItems.notFound":"Ticket vac\xedo","kz.containers.TicketReturnItems.notFoundHelp":"Este ticket ha sido eliminado del sistema","kz.containers.TicketReturnItems.discount":"Descuento","kz.containers.TicketReturnItems.vat":"IVA","kz.containers.TicketReturnItems.print":"Imprimir","kz.containers.TicketReturnItems.new":"Nuevo","kz.containers.TicketReturnItems.table.reference":"Referencia","kz.containers.TicketReturnItems.table.description":"Descripci\xf3n","kz.containers.TicketReturnItems.table.subtotal":"Subtotal","kz.containers.TicketReturnItems.table.price":"Precio","kz.containers.TicketReturnItems.table.amount":"Cantidad","kz.containers.TicketReturnItems.search":"C\xf3digo Ticket","kz.containers.TicketReadOnly.addedAmountInfoTooltip":"Este cliente compr\xf3 {amount} unidades de este art\xedculo en compras anteriores","kz.containers.TicketReadOnly.removedAmountInfoTooltip":"Este cliente devolvi\xf3 {amount} unidades de este art\xedculo en compras anteriores","kz.components.Modal.ok":"Importar","kz.components.Modal.cancel":"Cancelar","octoql.components.Footer.author.message":"Made with love by {author}.","octoql.components.Footer.license.message":"This project is licensed under the MIT license.","octoql.components.FuzzyFinder.notFound":"No matches found","octoql.components.HelperTour.footer.left.message":"Use the options down","octoql.components.HelperTour.footer.right.message":"Use the options below to change the application language, report a bug or syncronice your notebooks","octoql.components.HelperTour.tree.message":"Use the options up","kz.containers.LanguageProvider.en":"Ingl\xe9s","kz.containers.LanguageProvider.es":"Espa\xf1ol","octoql.components.NotFoundPage.header":"This is NotFoundPage component!","octoql.components.ResourcesTree.notebook.add":"Type the resource you want to add. This can be a Valo cluster instance (i.e. 192.168.34.10:9999), a tenant in that Valo cluster(i.e. 192.168.34.10:9999/myTenant), or a collection in that tenant (i.e. 192.168.34.10:9999/myTenant/myCollection), or a notebook within a collection (i.e. 192.168.34.10:9999/myTenant/myCollection/myNotebook.js)","octoql.containers.App.actions.addNotebook":"Add Notebook","kz.components.Ribbon.forkme":"S\xedguenos en Github","kz.containers.App.actions.createTicket":"Crear Ticket","octoql.containers.App.actions.changeLang":"Change Language","octoql.containers.App.actions.openNotebook":"Open Notebook","octoql.containers.WorkSpacePage.title":"Notebook","kz.containers.App.actions.changeLang":"Cambiar Idioma","kz.containers.App.actions.changeTheme":"Cambiar Tema","kz.containers.App.actions.importStock":"Importar Stock","kz.containers.App.actions.exportDatabase":"Exportar Datos","kz.containers.App.actions.resetDB":"Eliminar Datos","kz.containers.ThemeProvider.themes.dark":"Dark","kz.containers.ThemeProvider.themes.light":"Light","kz.containers.ThemeProvider.themes.monokai":"Monokai","kz.containers.TicketPayments.method.credit_card":"Tarjeta Cr\xe9dito","kz.containers.TicketPayments.method.ticket":"Ticket","kz.containers.TicketPayments.method.cash":"Efectivo","kz.containers.TicketPayments.method.phone":"Smartphone"}},470:function(e,t,n){e.exports=n(875)},54:function(e,t,n){"use strict";n.d(t,"d",function(){return a}),n.d(t,"e",function(){return i}),n.d(t,"p",function(){return c}),n.d(t,"a",function(){return s}),n.d(t,"c",function(){return u}),n.d(t,"b",function(){return l}),n.d(t,"o",function(){return d}),n.d(t,"f",function(){return p}),n.d(t,"g",function(){return f}),n.d(t,"k",function(){return m}),n.d(t,"n",function(){return b}),n.d(t,"l",function(){return h}),n.d(t,"h",function(){return k}),n.d(t,"i",function(){return v}),n.d(t,"j",function(){return g}),n.d(t,"m",function(){return O});var r=n(2),o=n(16);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:o.e,data:Object(r.a)({stock:e},t,{operation:"add"})}}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:o.f,data:Object(r.a)({stock:e},t,{operation:"remove"})}}function c(e){return{type:o.u,data:e}}function s(e){return{type:o.b,data:e}}function u(e){return{type:o.d,data:e}}function l(e){return{type:o.c,data:e}}function d(){return{type:o.r}}function p(e,t){return{type:o.g,data:{ticket:e,settings:t}}}function f(e){return{type:o.h,data:e}}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id";return{type:o.l,data:{value:e,field:t}}}function b(){return{type:o.q}}function h(e){return{type:o.m,data:e}}function k(e,t){return{type:o.i,data:{field:e,value:t}}}function v(e){return{type:o.j,data:e}}function g(e){return{type:o.k,data:e}}function O(e){return{type:o.n,data:e}}},57:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"c",function(){return u}),n.d(t,"b",function(){return d}),n.d(t,"d",function(){return p}),n.d(t,"g",function(){return f}),n.d(t,"f",function(){return b}),n.d(t,"e",function(){return h}),n.d(t,"h",function(){return k}),n.d(t,"i",function(){return v}),n.d(t,"k",function(){return g}),n.d(t,"j",function(){return O});var r=n(20),o=n(2),a=n(7);function i(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.i;return e.toFixed(t)};function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.h;return"".concat(s(e)).concat(t)}function l(e,t){switch(e){case"COLORS":case"GENDER":case"BRAND":return t?t.substring(0,3):"";case"DESC":return t?t.substring(0,10):"";default:return t}}function d(e){return"SCHEMA_BASIC"===a.k?"".concat(l("DESC",e.desc)):"".concat(l("BRAND",e.brand),"-").concat(e.colors.map(function(e){return l("COLORS",e)}).join()," (").concat(e.size,"-").concat(l("BRAND",e.gender),")")}var p=function(e){var t=e.operation,n=e.amount;return t===a.b?n:t===a.C?-n:void 0},f=function(e){var t=e.stock,n=e.operation,r=e.amount,o=e.discountType,i=e.discountValue;if(!n)return 0;var c=r*t.price;if(o===a.q?c*=1-i/100:o===a.p&&(c-=i),c>r*t.price||c<=0)return 0;if(n===a.b)return c;if(n===a.C)return-c;throw new Error('operation type "'.concat(n,'" unknown, use "').concat(a.b,'" or "').concat(a.C,'"'))},m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"amount",r=e.find(function(e){return e.method===t});return r?r[n]:null},b=function(e){return m(e,a.v)},h=function(e){return m(e,a.u)},k=function(e){return m(e,a.y)},v=function(e){return m(e,a.y,"concept")},g=function(e,t){var n,c=e.reduce(function(e,t){var n=t.stock,i=t.discountValue,c=t.discountType,s=t.operation,u=t.amount,l=e[n.reference];return l?Object(o.a)({},e,Object(r.a)({},n.reference,Object(o.a)({},l,s===a.b&&{previousAddedAmount:u+l.previousAddedAmount},s===a.C&&{previousRemovedAmount:u+l.previousRemovedAmount}))):Object(o.a)({},e,Object(r.a)({},n.reference,Object(o.a)({stock:n,discountValue:i,discountType:c,addedAmount:0,removedAmount:0,previousAddedAmount:0,previousRemovedAmount:0},s===a.b&&{previousAddedAmount:u},s===a.C&&{previousRemovedAmount:u})))},{}),s=i(t);try{for(s.s();!(n=s.n()).done;){var u=n.value,l=u.stock,d=u.discountValue,p=u.discountType,f=u.operation,m=u.amount,b=c[l.reference];c[l.reference]=b?Object(o.a)({},b,{discountValue:d,discountType:p},f===a.b&&{addedAmount:m+b.addedAmount,operation:f},f===a.C&&{removedAmount:m+b.removedAmount,operation:f}):Object(o.a)({stock:l,discountValue:d,discountType:p,isNewEntry:!0,addedAmount:0,removedAmount:0},f===a.b&&{addedAmount:m},f===a.C&&{removedAmount:m},{operation:a.b,previousAddedAmount:0,previousRemovedAmount:0})}}catch(h){s.e(h)}finally{s.f()}return Object.values(c)},O=function(e){return{isChecked:e.isChecked,isGift:e.isGift,isVoucher:e.isVoucher,balance:e.balance,prevNode:e.prevNode,nextNode:e.nextNode,payments:e.payments,operations:e.operations}}},58:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return i});var r="en",o="kalzate/App/CHANGE_TAKE_AMOUNT",a="kalzate/App/DOWNLOAD_FILE_ACTION",i="kalzate/App/DOWNLOAD_FILE_ERROR_ACTION"},635:function(e,t){},651:function(e,t){},7:function(e,t,n){"use strict";n.d(t,"h",function(){return a}),n.d(t,"g",function(){return i}),n.d(t,"k",function(){return c}),n.d(t,"o",function(){return s}),n.d(t,"m",function(){return u}),n.d(t,"i",function(){return l}),n.d(t,"j",function(){return d}),n.d(t,"f",function(){return p}),n.d(t,"s",function(){return f}),n.d(t,"G",function(){return m}),n.d(t,"L",function(){return b}),n.d(t,"t",function(){return h}),n.d(t,"a",function(){return k}),n.d(t,"r",function(){return v}),n.d(t,"z",function(){return g}),n.d(t,"B",function(){return O}),n.d(t,"A",function(){return y}),n.d(t,"K",function(){return T}),n.d(t,"d",function(){return x}),n.d(t,"e",function(){return E}),n.d(t,"c",function(){return j}),n.d(t,"l",function(){return C}),n.d(t,"v",function(){return S}),n.d(t,"w",function(){return I}),n.d(t,"u",function(){return w}),n.d(t,"x",function(){return _}),n.d(t,"y",function(){return A}),n.d(t,"J",function(){return z}),n.d(t,"I",function(){return D}),n.d(t,"H",function(){return R}),n.d(t,"n",function(){return N}),n.d(t,"b",function(){return F}),n.d(t,"C",function(){return P}),n.d(t,"q",function(){return M}),n.d(t,"p",function(){return L}),n.d(t,"F",function(){return U}),n.d(t,"D",function(){return H}),n.d(t,"E",function(){return B});var r,o=n(20),a="\u20ac",i={},c="SCHEMA_BASIC",s='MY STORE {{shop name}}\n\n  Address: {{shop address}}\n  Email: {{shop email}}\n  Phone: {{shop phone}}\n  Date: {{ticket date "dd/mm/yyyy HH:MM"}}\n \n  Ticket: {{ticket code}}\n  Category: {{ticket category}}\n \n --------------------------------------------\n  Item                   U.   PSP    Subtotal\n --------------------------------------------\n {{ticket items ["description", "amount", "price", "subtotal"] [23, 5, 7, 7] [1, 0]}}\n --------------------------------------------\n                           TOTAL: {{ticket total}}\n \n  {{ticket payment}}\n  Amount: {{ticket given}},\n  Return: {{ticket return}}\n \n  RETURNS BETWEEN {{ticket date "dd/mm/yyyy"}} AND {{ticket return_date 15 "dd/mm/yyyy"}} \n \n  *** THANKS FOR SHOPPING AT {{shop name}} ***\n \n -   -   -   -   -   -   -   -   -   -   -',u=50,l=2,d=15,p="country",f="lang",m="theme",b="timezone",h="name",k="address",v="email",g="phone",O="printerName",y="printerIP",T="ticketTemplate",x="backupFrecuency",E="backupLocation",j="analyticsServer",C=(r={},Object(o.a)(r,p,"spain"),Object(o.a)(r,"currency",a),Object(o.a)(r,f,"en"),Object(o.a)(r,m,"monokai"),Object(o.a)(r,b,"Europe/Madrid"),Object(o.a)(r,h,"Kalzate"),Object(o.a)(r,k,""),Object(o.a)(r,v,"zurisadai.pabon@gmail.com"),Object(o.a)(r,g,"+34610601389"),Object(o.a)(r,O,"TERMICA"),Object(o.a)(r,y,""),Object(o.a)(r,T,s),Object(o.a)(r,x,"daily"),Object(o.a)(r,E,""),Object(o.a)(r,j,""),r),S="payment_method_credit_card",I="payment_method_phone",w="payment_method_cash",_="payment_method_ticket",A="payment_method_voucher",z="TICKET_SOLD_STATE",D="positive",R="negative",N=50,F="add",P="remove",M="percentage",L="fixed",U="ui/STATE_LOADING_START",H="ui/STATE_LOADING_DONE",B="ui/STATE_LOADING_FAILED"},764:function(e,t){},770:function(e,t){},78:function(e,t,n){"use strict";var r=n(15);t.a=Object(r.d)({notFound:{id:"kz.containers.StockItems.notFound",defaultMessage:"Hey, Looks as there's no Items!"},notFoundHelp:{id:"kz.containers.StockItems.notFoundHelp",defaultMessage:"Try adding a new one or changing the searching criterias."},modalTitle:{id:"kz.containers.StockItems.modal.title",defaultMessage:"Drop stock file here"},modalDesc:{id:"kz.containers.StockItems.modal.desc",defaultMessage:"Use a csv, json or yaml file extension"},modalItems:{id:"kz.containers.StockItems.modal.items",defaultMessage:"{items} items found"},modalNoItems:{id:"kz.containers.StockItems.modal.noItems",defaultMessage:"No items found"},modalHelp:{id:"kz.containers.StockItems.modal.help",defaultMessage:"Need Help ? Download a stock file sample here"},modalLoading:{id:"kz.containers.StockItems.modal.loading",defaultMessage:"Please wait, I'm on it"},modalOptionRemove:{id:"kz.containers.StockItems.modal.option.remove",defaultMessage:"Remove Current Stock"},modalOptionArchive:{id:"kz.containers.StockItems.modal.option.archive",defaultMessage:"Archive Current Stock"},paginationOf:{id:"kz.containers.StockItems.pagination.of",defaultMessage:"of"},reference:{id:"kz.containers.StockItems.table.reference",defaultMessage:"Reference"},brand:{id:"kz.containers.StockItems.table.brand",defaultMessage:"Brand"},gender:{id:"kz.containers.StockItems.table.gender",defaultMessage:"Gender"},color:{id:"kz.containers.StockItems.table.color",defaultMessage:"Color"},size:{id:"kz.containers.StockItems.table.size",defaultMessage:"Size"},price:{id:"kz.containers.StockItems.table.price",defaultMessage:"Price"},amount:{id:"kz.containers.StockItems.table.amount",defaultMessage:"Amount"}})},796:function(e,t){if("undefined"===typeof esprima){var n=new Error("Cannot find module 'esprima'");throw n.code="MODULE_NOT_FOUND",n}e.exports=esprima},801:function(e,t){},803:function(e,t){},832:function(e,t){},875:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"dark",function(){return Ce}),n.d(r,"monokai",function(){return Se}),n.d(r,"light",function(){return Ie});var o=n(0),a=n.n(o),i=n(259),c=n.n(i);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=n(19),u=n(26),l=n(27),d=n(32),p=n(17),f=n(59),m=n(68),b=n(131),h=n(428),k=(n(602),n(284)),v=n.n(k),g=n(96),O=n(260),y=n.n(O),T=n(12),x=n(7),E=n(2),j=n(1),C=n.n(j),S=n(11),I=n(55),w="SCHEMA_SHOES",_=n(20),A=n(52),z=n(23),D=n(135),R=n.n(D),N={title:"stock schema",version:0,description:"describes an stock document",type:"object",properties:{created_at:{type:"number",index:!0},id:{type:"string",primary:!0,final:!0},reference:{type:"string",index:!0,final:!0},brand:{type:"string"},size:{type:"number"},price:{type:"number"},amount:{type:"number"},gender:{type:"string"},colors:{type:"array",uniqueItems:!0,item:{type:"string"}},sold:{type:"number",default:0,index:!0}}},F=5,P=n(81);function M(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(p.a)(e);if(t){var o=Object(p.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var L=function(e){Object(l.a)(n,e);var t=M(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{message:""};return Object(s.a)(this,n),(e=t.call(this)).title="Database could not be found",e.code="NoDatabaseFoundError",e.message=r.message||e.title,e}return n}(Object(P.a)(Error));function U(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(p.a)(e);if(t){var o=Object(p.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var H=function(e){Object(l.a)(n,e);var t=U(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{message:""},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(s.a)(this,n),(e=t.call(this,r)).title="Stock could not be created",e.code="NoStockCreatedError",e.data=o,e.message="Stock ".concat(JSON.stringify(o)," could not be created. Please, check extra info: ").concat(r.message),e}return n}(Object(P.a)(Error)),B=function(e){Object(l.a)(n,e);var t=U(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{message:""},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(s.a)(this,n),(e=t.call(this,r)).title="Stock could not be updated",e.code="NoStockUpdatedError",e.data=o,e.message="Stock ".concat(JSON.stringify(o)," could not be updated. To update an stock, it has to exist and fit the stock schema. Have a look a it on src/models/stock/schema.js. Please, check extra info: ").concat(r.message),e}return n}(Object(P.a)(Error)),K=function(e){Object(l.a)(n,e);var t=U(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{message:""},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return Object(s.a)(this,n),(e=t.call(this,r)).title="Stock matches not found",e.code="NoStockMatchesFoundError",e.data={field:o,value:a},e.message='No matches found for field "'.concat(o,'" with value ').concat(a,".Please, check extra info: ").concat(r.message),e}return n}(Object(P.a)(Error)),q=function(e){Object(l.a)(n,e);var t=U(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{message:""},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(s.a)(this,n),(e=t.call(this,r)).title="Stock query could not be executed",e.code="QueryStockError",e.data={query:o,e:r},e.message="Stock Query did not run.Please, check extra info: \n    ".concat(JSON.stringify(o),"\n    Error: ").concat(r.message),e}return n}(Object(P.a)(Error)),V=function(){function e(t,n){if(Object(s.a)(this,e),this.defaults={limit:F,skip:0},this.queries={fullStock:function(){return{limit:Number.MAX_SAFE_INTEGER}},topSold:function(){return{match:{sold:{$gte:1}},limit:10,skip:0,sort:{sold:-1}}},topNotSold:function(){return{match:{sold:{$gte:1}},limit:10,skip:0,sort:{sold:1}}},topEmptyStock:function(){return{match:{amount:{$eq:0}},limit:10,skip:0}}},!Object(I.isRxDatabase)(t))throw new Error("A valid RxDatabase is required!");if(!Object(I.isRxCollection)(n))throw new Error("A valid RxCollection is required!");this.db=t,this.collection=n}return Object(u.a)(e,[{key:"query",value:function(){var e=Object(S.a)(C.a.mark(function e(t){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.get(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),new q(e.t0,t);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=Object(S.a)(C.a.mark(function e(t,n){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(z.isArray)(t)?this.createBatch(t,n):this.createOne(t,n);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),new H(e.t0,t);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t,n){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(S.a)(C.a.mark(function e(){var t,n=arguments;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.prev=1,e.next=4,this.fetchById(t);case 4:return e.next=6,this.upsert(t);case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(1),new B(e.t0,t);case 12:case"end":return e.stop()}},e,this,[[1,9]])}));return function(){return e.apply(this,arguments)}}()},{key:"increaseAmount",value:function(){var e=Object(S.a)(C.a.mark(function e(){var t,n,r=arguments;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},e.prev=1,e.t0=z.first,e.next=5,this.fetchById(t);case 5:return e.t1=e.sent,n=(0,e.t0)(e.t1),e.next=9,this.upsert(Object(E.a)({},n._data,{amount:n.amount+t.amount}));case 9:return e.abrupt("return",e.sent);case 12:throw e.prev=12,e.t2=e.catch(1),new B(e.t2,t);case 15:case"end":return e.stop()}},e,this,[[1,12]])}));return function(){return e.apply(this,arguments)}}()},{key:"decreaseAmount",value:function(){var e=Object(S.a)(C.a.mark(function e(){var t,n,r=arguments;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},e.prev=1,e.t0=z.first,e.next=5,this.fetchById(t);case 5:return e.t1=e.sent,n=(0,e.t0)(e.t1),e.next=9,this.upsert(Object(E.a)({},n._data,{amount:n.amount-t.amount,sold:n.sold+t.amount}));case 9:return e.abrupt("return",e.sent);case 12:throw e.prev=12,e.t2=e.catch(1),new B(e.t2,t);case 15:case"end":return e.stop()}},e,this,[[1,12]])}));return function(){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=Object(S.a)(C.a.mark(function e(){var t,n,r,o,a,i,c,s,u,l,d,p,f,m,b,h,k=this,v=arguments;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=v.length>0&&void 0!==v[0]?v[0]:{},n=t.match,r=t.limit,o=void 0===r?this.defaults.limit:r,a=t.skip,i=void 0===a?this.defaults.skip:a,c=t.count,s=void 0===c||c,u=t.sort,l=void 0===u?{created_at:"desc"}:u,d=this.collection.find(n).limit(o).skip(i).sort(l).exec(),s){e.next=4;break}return e.abrupt("return",d);case 4:return p=new Promise(function(){var e=Object(S.a)(C.a.mark(function e(t){var r;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.collection.find(n).exec();case 2:r=e.sent,t(r.length);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),e.next=7,Promise.all([d,p]);case 7:return f=e.sent,m=Object(A.a)(f,2),b=m[0],h=m[1],e.abrupt("return",{items:b,total:h,limit:o,skip:i});case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"matches",value:function(){var e=Object(S.a)(C.a.mark(function e(t,n){var r;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n){e.next=3;break}return e.abrupt("return",{value:n,items:[]});case 3:return e.next=5,this.get({match:Object(_.a)({},t,{$regex:new RegExp("^".concat(n))})});case 5:return r=e.sent,e.abrupt("return",{value:n,items:r.items.map(function(e){return e[t]})});case 9:throw e.prev=9,e.t0=e.catch(0),new K(e.t0,t,n);case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t,n){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=Object(S.a)(C.a.mark(function e(t){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.collection.findOne({reference:{$eq:t}}).remove());case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"removeAll",value:function(){var e=Object(S.a)(C.a.mark(function e(){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.collection.remove();case 2:return e.next=4,this.db.collection({name:"stock",schema:N});case 4:this.collection=e.sent;case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"dump",value:function(){var e=Object(S.a)(C.a.mark(function e(){var t,n=arguments;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=!(n.length>0&&void 0!==n[0])||n[0],e.abrupt("return",this.collection.dump(t));case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"formatDescription",value:function(e){var t=this;return"".concat(this.abbrv("BRAND",e.brand),"-").concat(e.colors.map(function(e){return t.abbrv("COLORS",e)}).join()," (").concat(e.size,"-").concat(this.abbrv("BRAND",e.gender),")")}},{key:"createBatch",value:function(){var e=Object(S.a)(C.a.mark(function e(){var t,n,r,o=this,a=arguments;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:[],n=a.length>1&&void 0!==a[1]?a[1]:{},t.length){e.next=4;break}throw new Error("stock items is empty");case 4:if(!n.remove){e.next=7;break}return e.next=7,this.removeAll();case 7:return r=Object(z.uniqBy)(t,"reference").map(function(e){return o.createOne(e,!0)}),e.abrupt("return",Promise.all(r));case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"createOne",value:function(){var e=Object(S.a)(C.a.mark(function e(){var t,n,r,o=arguments;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:{},n=o.length>1&&void 0!==o[1]&&o[1],t&&t.reference&&t.price&&!(t.price<=0)){e.next=4;break}throw new Error("Stock requires reference and price");case 4:return e.next=6,this.collection.find({reference:{$eq:t.reference}}).exec();case 6:if((r=e.sent).length){e.next=9;break}return e.abrupt("return",this.upsert(Object(z.merge)(t,{id:R()(),created_at:(new Date).getTime(),sold:0})));case 9:if(n){e.next=11;break}throw new Error("Stock already exists");case 11:return e.abrupt("return",this.upsert(Object(z.merge)(t,{id:r[0].id,created_at:r[0].created_at,amount:(r[0].amount||0)+(t.amount||0)})));case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"upsert",value:function(){var e=Object(S.a)(C.a.mark(function e(t){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.collection.atomicUpsert(t));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchById",value:function(){var e=Object(S.a)(C.a.mark(function e(t){var n;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.id){e.next=2;break}throw new Error("Stock requires an id field to be updated");case 2:return e.next=4,this.collection.find({id:{$eq:t.id}}).exec();case 4:if((n=e.sent).length){e.next=7;break}throw new Error("Stock to be updated does not exists");case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"abbrv",value:function(e,t){switch(e){case"COLORS":case"GENDER":case"BRAND":return t?t.substring(0,3):"";default:return t}}}]),e}(),G=function(e){return Y.apply(this,arguments)};function Y(){return(Y=Object(S.a)(C.a.mark(function e(t){var n;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new L;case 2:if(!t.collections.stock){e.next=6;break}e.t0=t.collections.stock,e.next=9;break;case 6:return e.next=8,t.collection({name:"stock",schema:N});case 8:e.t0=e.sent;case 9:return n=e.t0,e.abrupt("return",new V(t,n));case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Z={title:"stock schema",version:0,description:"describes an stock document",type:"object",properties:{created_at:{type:"number",index:!0},id:{type:"string",primary:!0,final:!0},reference:{type:"string",index:!0,final:!0},brand:{type:"string"},price:{type:"number"},amount:{type:"number"},desc:{type:"string"},sold:{type:"number",default:0,index:!0}}},W=5,$=function(){function e(t,n,r){if(Object(s.a)(this,e),this.defaults={limit:W,skip:0},this.queries={fullStock:function(){return{limit:Number.MAX_SAFE_INTEGER}},topSold:function(){return{match:{sold:{$gte:1}},limit:10,skip:0,sort:{sold:-1}}},topNotSold:function(){return{match:{sold:{$gte:1}},limit:10,skip:0,sort:{sold:1}}},topEmptyStock:function(){return{match:{amount:{$eq:0}},limit:10,skip:0}}},!Object(I.isRxDatabase)(t))throw new Error("A valid RxDatabase is required!");if(!Object(I.isRxCollection)(n))throw new Error("A valid RxCollection is required!");this.db=t,this.collection=n,this.schema=r}return Object(u.a)(e,[{key:"query",value:function(){var e=Object(S.a)(C.a.mark(function e(t){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.get(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),new q(e.t0,t);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=Object(S.a)(C.a.mark(function e(t,n){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(z.isArray)(t)?this.createBatch(t,n):this.createOne(t,n);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),new H(e.t0,t);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t,n){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(S.a)(C.a.mark(function e(){var t,n=arguments;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.prev=1,e.next=4,this.fetchById(t);case 4:return e.next=6,this.upsert(t);case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(1),new B(e.t0,t);case 12:case"end":return e.stop()}},e,this,[[1,9]])}));return function(){return e.apply(this,arguments)}}()},{key:"increaseAmount",value:function(){var e=Object(S.a)(C.a.mark(function e(){var t,n,r=arguments;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},e.prev=1,e.t0=z.first,e.next=5,this.fetchById(t);case 5:return e.t1=e.sent,n=(0,e.t0)(e.t1),e.next=9,this.upsert(Object(E.a)({},n._data,{amount:n.amount+t.amount}));case 9:return e.abrupt("return",e.sent);case 12:throw e.prev=12,e.t2=e.catch(1),new B(e.t2,t);case 15:case"end":return e.stop()}},e,this,[[1,12]])}));return function(){return e.apply(this,arguments)}}()},{key:"decreaseAmount",value:function(){var e=Object(S.a)(C.a.mark(function e(){var t,n,r=arguments;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},e.prev=1,e.t0=z.first,e.next=5,this.fetchById(t);case 5:return e.t1=e.sent,n=(0,e.t0)(e.t1),e.next=9,this.upsert(Object(E.a)({},n._data,{amount:n.amount-t.amount,sold:n.sold+t.amount}));case 9:return e.abrupt("return",e.sent);case 12:throw e.prev=12,e.t2=e.catch(1),new B(e.t2,t);case 15:case"end":return e.stop()}},e,this,[[1,12]])}));return function(){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=Object(S.a)(C.a.mark(function e(){var t,n,r,o,a,i,c,s,u,l,d,p,f,m,b,h,k=this,v=arguments;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=v.length>0&&void 0!==v[0]?v[0]:{},n=t.match,r=t.limit,o=void 0===r?this.defaults.limit:r,a=t.skip,i=void 0===a?this.defaults.skip:a,c=t.count,s=void 0===c||c,u=t.sort,l=void 0===u?{created_at:"desc"}:u,d=this.collection.find(n).limit(o).skip(i).sort(l).exec(),s){e.next=4;break}return e.abrupt("return",d);case 4:return p=new Promise(function(){var e=Object(S.a)(C.a.mark(function e(t){var r;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.collection.find(n).exec();case 2:r=e.sent,t(r.length);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),e.next=7,Promise.all([d,p]);case 7:return f=e.sent,m=Object(A.a)(f,2),b=m[0],h=m[1],e.abrupt("return",{items:b,total:h,limit:o,skip:i});case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"matches",value:function(){var e=Object(S.a)(C.a.mark(function e(t,n){var r;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n){e.next=3;break}return e.abrupt("return",{value:n,items:[]});case 3:return e.next=5,this.get({match:Object(_.a)({},t,{$regex:new RegExp("^".concat(n))})});case 5:return r=e.sent,e.abrupt("return",{value:n,items:r.items.map(function(e){return e[t]})});case 9:throw e.prev=9,e.t0=e.catch(0),new K(e.t0,t,n);case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t,n){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=Object(S.a)(C.a.mark(function e(t){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.collection.findOne({reference:{$eq:t}}).remove());case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"removeAll",value:function(){var e=Object(S.a)(C.a.mark(function e(){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.collection.remove();case 2:return e.next=4,this.db.collection({name:"stock",schema:Z});case 4:this.collection=e.sent;case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"dump",value:function(){var e=Object(S.a)(C.a.mark(function e(){var t,n=arguments;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=!(n.length>0&&void 0!==n[0])||n[0],e.abrupt("return",this.collection.dump(t));case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"formatDescription",value:function(e){return"".concat(this.abbrv("DESC",e.desc))}},{key:"createBatch",value:function(){var e=Object(S.a)(C.a.mark(function e(){var t,n,r,o=this,a=arguments;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:[],n=a.length>1&&void 0!==a[1]?a[1]:{},t.length){e.next=4;break}throw new Error("stock items is empty");case 4:if(!n.remove){e.next=7;break}return e.next=7,this.removeAll();case 7:return r=Object(z.uniqBy)(t,"reference").map(function(e){return o.createOne(e,!0)}),e.abrupt("return",Promise.all(r));case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"createOne",value:function(){var e=Object(S.a)(C.a.mark(function e(){var t,n,r,o=arguments;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:{},n=o.length>1&&void 0!==o[1]&&o[1],t&&t.reference&&t.price&&!(t.price<=0)){e.next=4;break}throw new Error("Stock requires reference and price");case 4:return e.next=6,this.collection.find({reference:{$eq:t.reference}}).exec();case 6:if((r=e.sent).length){e.next=9;break}return e.abrupt("return",this.upsert(Object(z.merge)(t,{id:R()(),created_at:(new Date).getTime(),sold:0})));case 9:if(n){e.next=11;break}throw new Error("Stock already exists");case 11:return e.abrupt("return",this.upsert(Object(z.merge)(t,{id:r[0].id,created_at:r[0].created_at,amount:(r[0].amount||0)+(t.amount||0)})));case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"upsert",value:function(){var e=Object(S.a)(C.a.mark(function e(t){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.collection.atomicUpsert(t));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchById",value:function(){var e=Object(S.a)(C.a.mark(function e(t){var n;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.id){e.next=2;break}throw new Error("Stock requires an id field to be updated");case 2:return e.next=4,this.collection.find({id:{$eq:t.id}}).exec();case 4:if((n=e.sent).length){e.next=7;break}throw new Error("Stock to be updated does not exists");case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"abbrv",value:function(e,t){switch(e){case"DESC":return t?t.substring(0,10):"";default:return t}}}]),e}(),J=function(e){return Q.apply(this,arguments)};function Q(){return(Q=Object(S.a)(C.a.mark(function e(t){var n;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new L;case 2:if(!t.collections.stock){e.next=6;break}e.t0=t.collections.stock,e.next=9;break;case 6:return e.next=8,t.collection({name:"stockbasic",schema:Z});case 8:e.t0=e.sent;case 9:return n=e.t0,e.abrupt("return",new $(t,n));case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}var X=n(70),ee={title:"tickets schema",version:0,description:"describes a ticket document",type:"object",properties:{created_at:{type:"number",index:!0},id:{type:"string",primary:!0,final:!0},isChecked:{type:"boolean",default:!1},isGift:{type:"boolean",default:!1},isVoucher:{type:"boolean",default:!1},hasVoucherExpired:{type:"boolean",default:!1},balance:{type:"string"},prevNode:{type:"string"},nextNode:{type:"string"},payments:{type:"array"},operations:{type:"array"}},required:["created_at","id","payments","operations"]};function te(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(p.a)(e);if(t){var o=Object(p.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var ne=function(e){Object(l.a)(n,e);var t=te(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{message:""},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(s.a)(this,n),(e=t.call(this,r)).title="Ticket could not be saved",e.code="TicketNoSavedError",e.data=o,e.message="Ticket ".concat(JSON.stringify(o)," could not be saved. Please, check extra info: ").concat(r.message),e}return n}(Object(P.a)(Error)),re=function(e){Object(l.a)(n,e);var t=te(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{message:""},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(s.a)(this,n),(e=t.call(this,r)).title="Tickets were not found",e.code="TicketsNotFoundError",e.data=o,e.message="Please, check extra info: ".concat(r.message),e}return n}(Object(P.a)(Error)),oe=n(274),ae=n.n(oe),ie={dailyTicketIds:function(){return{match:{created_at:{$gte:(new Date).setHours(0,0,0,0)}},sort:"created_at",fields:function(e){return{id:e.id,created_at:e.created_at,balance:e.balance}},limit:null,skip:0}},dailyTicketOperations:function(){return{match:{created_at:{$gte:(new Date).setHours(0,0,0,0)}},sort:"created_at",fields:function(e){return e.operations},limit:null,skip:0}},ticketById:function(e){return{match:{id:{$eq:e}},fields:function(e){return ae()(e,"_rev")}}},ticketByCreationDate:function(e){return{match:{created_at:{$eq:e}},fields:function(e){return ae()(e,"_rev")}}},ticketMatches:function(e,t){return{match:Object(_.a)({},e,{$regex:new RegExp("^".concat(t))}),fields:function(t){return t[e]}}},dailyTickets:function(e,t){return{match:{created_at:{$gte:(new Date).setHours(0,0,0,0)}},sort:"created_at",limit:e,skip:t}},weeklyTickets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new Date;return n.setDate(n.getDate()-7),{match:{created_at:{$gte:n.setHours(0,0,0,0)},state:{$eq:"TICKET_SOLD_STATE"}},sort:"created_at",limit:e,skip:t}}},ce=function(){function e(t,n,r){if(Object(s.a)(this,e),!Object(I.isRxDatabase)(t))throw new Error("A valid RxDatabase is required!");if(!Object(I.isRxCollection)(n))throw new Error("A valid RxCollection is required!");this.db=t,this.collection=n,this.stock=r}return Object(u.a)(e,[{key:"create",value:function(){var e=Object(S.a)(C.a.mark(function e(t,n){var r,o,a,i,c,s,u=this;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(r=this.validateTicket(t))){e.next=4;break}throw new Error(r);case 4:return e.next=6,this.createOne(t);case 6:if(o=e.sent,a=o.id,i=o.created_at,c=o.balance,!t.prevNode){e.next=13;break}return e.next=13,this.updateBy({id:{$eq:t.prevNode}},{nextNode:a});case 13:return e.next=15,Promise.all(t.operations.map(function(e){var t=e.operation,n=e.stock,r=e.amount;if(!t||!n||!r)return Promise.resolve();var o=n.id;return"add"===t?u.stock&&u.stock.decreaseAmount({id:o,amount:r}):"remove"===t?u.stock&&u.stock.increaseAmount({id:o,amount:r}):void 0}));case 15:if(!(s=t.payments.find(function(e){return"payment_method_voucher"===e.method}))){e.next=19;break}return e.next=19,this.updateBy({created_at:{$eq:s.concept}},{hasVoucherExpired:!0});case 19:return e.abrupt("return",n?{id:a,created_at:i,balance:c}:a);case 22:throw e.prev=22,e.t0=e.catch(0),new ne(e.t0,t);case 25:case"end":return e.stop()}},e,this,[[0,22]])}));return function(t,n){return e.apply(this,arguments)}}()},{key:"open",value:function(){var e=Object(S.a)(C.a.mark(function e(){var t,n,r,o,a,i,c,s,u,l,d,p=arguments;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>0&&void 0!==p[0]?p[0]:{},n=t.field,r=void 0===n?"id":n,o=t.value,a=function(e,t){switch(e){case"id":return ie.ticketById(t);case"createdAt":return ie.ticketByCreationDate(t);default:throw new Error('no look up field "'.concat(e,'" supported. Use id or creationDate fields'))}},e.prev=2,e.next=5,this.findOne(a(r,o));case 5:i=e.sent,c=i.prevNode,s=i.nextNode?[]:i.operations;case 8:if(!c){e.next=16;break}return e.next=11,this.findOne(a("id",c));case 11:u=e.sent,s.push.apply(s,Object(X.a)(u.operations)),c=u.prevNode,e.next=8;break;case 16:return l=i.nextNode?i.payments:[],d=i.nextNode?i.operations:[],e.abrupt("return",Object(E.a)({},i,{history:s,operations:d,payments:l}));case 21:throw e.prev=21,e.t0=e.catch(2),new re(e.t0);case 24:case"end":return e.stop()}},e,this,[[2,21]])}));return function(){return e.apply(this,arguments)}}()},{key:"query",value:function(){var e=Object(S.a)(C.a.mark(function e(t){var n,r,o,a,i=arguments;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,n=i.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=i[o];return a=Object(z.isString)(t)?ie[t].apply(ie,r):t,e.next=5,this.get(a);case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e.catch(0),new re(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},{key:"dump",value:function(){var e=Object(S.a)(C.a.mark(function e(){var t,n=arguments;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=!(n.length>0&&void 0!==n[0])||n[0],e.abrupt("return",this.collection.dump(t));case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"createOne",value:function(){var e=Object(S.a)(C.a.mark(function e(t){var n,r;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=(new Date).getTime(),r=Object(E.a)({created_at:n},t,{isChecked:!0,id:R()()}),e.abrupt("return",this.upsert(r));case 6:throw e.prev=6,e.t0=e.catch(0),new Error("createOne function");case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=Object(S.a)(C.a.mark(function e(){var t,n,r,o,a,i,c,s,u,l,d,p,f,m,b,h=arguments;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:{},n=t.match,r=t.fields,o=t.limit,a=void 0===o?0:o,i=t.skip,c=void 0===i?0:i,s=t.count,u=void 0!==s&&s,l=t.sort,d=void 0===l?{created_at:"asc"}:l,e.next=3,this.collection.find(n).limit(a).skip(c).sort(d).exec();case 3:if(p=e.sent,f=function(e){var t=e.toJSON();return r?r(t):t},m=p.map(f),u){e.next=8;break}return e.abrupt("return",{items:m,total:m.length});case 8:return e.next=10,this.collection.find(n).exec();case 10:return b=e.sent,e.abrupt("return",{items:m,total:b.length});case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"updateBy",value:function(){var e=Object(S.a)(C.a.mark(function e(t,n){var r;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.collection.findOne(t).exec();case 3:if(r=e.sent){e.next=6;break}throw new re(null,t,n);case 6:return e.abrupt("return",this.upsert(Object(E.a)({},r._data,n)));case 9:throw e.prev=9,e.t0=e.catch(0),new Error("updateBy function");case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t,n){return e.apply(this,arguments)}}()},{key:"upsert",value:function(){var e=Object(S.a)(C.a.mark(function e(t){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.collection.atomicUpsert(t));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"findOne",value:function(){var e=Object(S.a)(C.a.mark(function e(t){var n,r,o;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.match,r=t.fields,e.next=3,this.collection.findOne(n).exec();case 3:return o=e.sent,e.abrupt("return",r(o.toJSON()));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validateTicket",value:function(e){return e.balance?Object(z.isEmpty)(e.operations)?"Ticket operations cannot be empty":!("positive"!==e.balance||e.isChecked||!Object(z.isEmpty)(e.payments))&&"Ticket payments cannot be empty":"Ticket balance cannot be empty, use either positive or negative"}}]),e}(),se=function(e,t){return ue.apply(this,arguments)};function ue(){return(ue=Object(S.a)(C.a.mark(function e(t,n){var r;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.collections.tickets){e.next=4;break}e.t0=t.collections.tickets,e.next=7;break;case 4:return e.next=6,t.collection({name:"tickets",schema:ee});case 6:e.t0=e.sent;case 7:return r=e.t0,e.abrupt("return",new ce(t,r,n));case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}var le={title:"settings schema",version:0,description:"describes the settings",type:"object",properties:{key:{type:"string",primary:!0},value:{type:"string"}}},de=function(){function e(t,n){if(Object(s.a)(this,e),this.defaults=[],!Object(I.isRxDatabase)(t))throw new Error("A valid RxDatabase is required!");if(!Object(I.isRxCollection)(n))throw new Error("A valid RxCollection is required!");this.db=t,this.collection=n}return Object(u.a)(e,[{key:"init",value:function(){var e=Object(S.a)(C.a.mark(function e(){var t,n,r=arguments;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:this.defaults,e.next=3,this.collection.find().exec();case 3:return n=e.sent,e.abrupt("return",Object(z.fromPairs)(Object(z.map)(Object(z.size)(n)?n:t,function(e){return[e.key,e.value]})));case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}(),pe=function(e){return fe.apply(this,arguments)};function fe(){return(fe=Object(S.a)(C.a.mark(function e(t){var n;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.collections.settings){e.next=4;break}e.t0=t.collections.settings,e.next=7;break;case 4:return e.next=6,t.collection({name:"settings",schema:le});case 6:e.t0=e.sent;case 7:return n=e.t0,e.abrupt("return",new de(t,n));case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}var me=function(){function e(t,n,r){if(Object(s.a)(this,e),this.TOP_TEN_LIMIT=10,!Object(I.isRxDatabase)(t))throw new Error("A valid RxDatabase is required!");if(!Object(I.isRxCollection)(n.collection)||!Object(I.isRxCollection)(r.collection))throw new Error("A valid RxCollection is required!");this.db=t,this.stock=n,this.ticket=r}return Object(u.a)(e,[{key:"init",value:function(){var e=Object(S.a)(C.a.mark(function e(){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.salesData();case 3:return e.t0=e.sent,e.next=6,this.ticketsData();case 6:return e.t1=e.sent,e.next=9,this.stockData();case 9:return e.t2=e.sent,e.next=12,this.alertData();case 12:return e.t3=e.sent,e.abrupt("return",{salesChart:e.t0,ticketsChart:e.t1,stockChart:e.t2,alertChart:e.t3});case 16:throw e.prev=16,e.t4=e.catch(0),new Error(e.t4);case 19:case"end":return e.stop()}},e,this,[[0,16]])}));return function(){return e.apply(this,arguments)}}()},{key:"salesData",value:function(){var e=Object(S.a)(C.a.mark(function e(){var t,n=arguments;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.length>0&&void 0!==n[0]?n[0]:{range:"week"},e.prev=1,e.next=4,this.ticket.query("weeklyTickets");case 4:return t=e.sent,e.abrupt("return",Object(z.toPairs)(Object(z.groupBy)(t.items,function(e){return new Date(e.created_at).toLocaleDateString()})).map(function(e){var t=Object(A.a)(e,2);return{day:t[0],amount:t[1].reduce(function(e,t){return e+Number(t.totalAmount)},0)}}));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",[]);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"ticketsData",value:function(){var e=Object(S.a)(C.a.mark(function e(){var t,n,r=this,o=arguments;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>0&&void 0!==o[0]?o[0]:{range:"week"},e.prev=1,e.next=4,this.ticket.query("weeklyTickets");case 4:return t=e.sent,n=Object(z.toPairs)(Object(z.groupBy)(t.items,function(e){return new Date(e.created_at).toLocaleDateString()})),e.abrupt("return",n.map(function(e){var t=Object(A.a)(e,2),n=t[0],o=t[1].map(function(e){return Number(e.totalAmount)});if(1===Object(z.size)(o))return{day:n,minimum:o[0],maximum:o[0],average:o[0],median:o[0],quartile1:o[0],quartile3:o[0]};var a=Object(z.min)(o),i=Object(z.max)(o),c=Object(z.mean)(o),s=r.median(o),u=s.median,l=s.position,d=s.sorted;return{day:n,minimum:a,maximum:i,average:c,median:u,quartile1:r.median(d.slice(0,l)).median,quartile3:r.median(d.slice(l)).median}}));case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",[]);case 12:case"end":return e.stop()}},e,this,[[1,9]])}));return function(){return e.apply(this,arguments)}}()},{key:"stockData",value:function(){var e=Object(S.a)(C.a.mark(function e(){var t,n,r=this;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.stock.query(this.stock.queries.fullStock());case 3:return t=e.sent,n=t.items,e.abrupt("return",n.map(function(e){return{amount:e.amount,price:e.price,sold:e.sold,title:r.stock.formatDescription(e)}}));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",[]);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"alertData",value:function(){var e=Object(S.a)(C.a.mark(function e(){var t,n,r,o,a=this;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.stock.collection.find().where("sold").gt(0).limit(this.TOP_TEN_LIMIT).sort("-sold").exec();case 3:return t=e.sent,e.next=6,this.stock.collection.find().where("sold").gt(0).limit(this.TOP_TEN_LIMIT).sort("sold").exec();case 6:return n=e.sent,e.next=9,this.stock.query(this.stock.queries.topEmptyStock());case 9:if(r=e.sent,o=r.items,Object(z.size)(t)||Object(z.size)(n)||Object(z.size)(o)){e.next=13;break}return e.abrupt("return",[]);case 13:return e.abrupt("return",Object(z.zipWith)(t,n,o,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{sold:e?a.stock.formatDescription(e):"",notSold:t?a.stock.formatDescription(t):"",emptyStock:n?a.stock.formatDescription(n):""}}));case 16:return e.prev=16,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",[]);case 20:case"end":return e.stop()}},e,this,[[0,16]])}));return function(){return e.apply(this,arguments)}}()},{key:"median",value:function(e){var t=e.sort(function(e,t){return e-t}),n=Math.floor((Object(z.size)(t)+1)/2);return t[n]?{median:t[n],position:n,sorted:t}:{median:t[0],position:n,sorted:t}}}]),e}(),be=function(e,t,n){return he.apply(this,arguments)};function he(){return(he=Object(S.a)(C.a.mark(function e(t,n,r){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new me(t,n,r));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ke=n(462);I.plugin(ke.a);var ve={name:"kalzatedb",adapter:"idb",multiInstance:!0};function ge(e,t){switch(t){case w:return G(e);default:return J(e)}}var Oe=function(){return ye.apply(this,arguments)};function ye(){return(ye=Object(S.a)(C.a.mark(function e(){var t,n,r,o,a,i,c,s,u=arguments;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:{},n=u.length>1&&void 0!==u[1]?u[1]:w,r=Object(E.a)({},ve,t),e.next=5,I.create(r);case 5:return o=e.sent,e.next=8,ge(o,n);case 8:return a=e.sent,e.next=11,se(o,a);case 11:return i=e.sent,e.next=14,pe(o,n);case 14:return c=e.sent,e.next=17,be(o,a,i);case 17:return s=e.sent,e.abrupt("return",{db:o,stock:a,tickets:i,settings:c,charts:s});case 19:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Te,xe=function(){var e=Object(S.a)(C.a.mark(function e(){var t=arguments;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oe.apply(void 0,t));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Ee=n(31),je=n.n(Ee),Ce={app:{bgColor:"#161719",color:"#a3a8ae",border:"1px solid #111314",padding:"5px",switchPanelIconColor:"rgba(255, 255, 255, 0.4)",scrollThumbInactiveBgColor:"rgba(100, 100, 100, 0.4)",scrollThumbBgColor:"rgba(100, 100, 100, 0.8)",scrollTrackShadow:"inset 0 0 6px rgba(0, 0, 0, 0.3)",scrollThumb:"rgb(60, 60, 60)",scrollThumbInactive:"rgb(60, 60, 60)",scrollCorner:"rgb(60, 60, 60)",scrollTrack:"transparent",scrollShadow:"inset 0 0 6px rgba(0, 0, 0, 0.3)"},footer:{bgColor:"#161719",color:"#a3a8ae",border:"1px solid #27292c"},sidebar:{bgColor:"#161719",color:"#a3a8ae",border:"1px solid #27292c",hoverColor:"rgba(163, 168, 174, 0.8)",selected:"rgba(100, 100, 100, 0.1)",placeholderColor:"rgba(163, 168, 174, 0.9)"},settings:{panelBgColor:"rgba(10, 10, 10, 0.2)"},discover:{panelBgColor:"rgba(10, 10, 10, 0.2)",helpBgColor:"rgba(51,51,51, .9)",helpColor:"rgba(151,151,151,1)",tooltipColor:"rgba(115, 201, 144, .6)"},charts:{axis:"#FFF"},tables:{color:"white",colorEven:"rgba(187, 183, 183, 1)",bgColorEven:"rgba(163, 168, 174, 0.2)",bgColor:"rgba(163, 168, 174, 0.1)",highlightBgColor:"rgba(226, 192, 141, .25)"},tooltips:{bgColor:"rgba(39, 41, 44, 0.9)"},home:{color:"rgba(163, 168, 174, 0.3)",titleColor:"rgba(163, 168, 174, 0.3)",svgColor:"rgba(163, 168, 174, 0.1)",tryButtonHoverColor:"rgba(255, 255, 255, 0.6)"},blog:{bgColor:"#161719",border:"1px solid #27292c",switcherBgColor:"rgb(60, 60, 60)",switcherColor:"inherit",sectionsHoverColor:"rgba(255, 255, 255, 0.9)"},workspace:{activeLine:"rgba(100, 100, 100, 0.1)",actionsPanel:{bgColor:"rgba(39, 41, 44, 0.9)"}},fuzzyFinder:{bgColor:"#1d1f21",bgColorItem:"#222426",bgColorItemActive:"#303337",bgColorTextbox:"rgba(0, 0, 0, 0.6)",bgColorHint:"rgba(0, 0, 0, 0.2)",border:"1px solid #111314",colorTextbox:"rgba(115, 201, 144, 0.7)",colorItem:"#d9dbde",colorHint:"#d7dae0"},tour:{bgColor:"rgba(39, 41, 44, 0.9)",iconColor:"rgb(226, 192, 141)",iconColorHover:"rgb(226, 192, 141)"},ribbon:{bgColor:"#373636",color:"#7d7d7d",textShadow:"0 -.08em rgba(0, 0, 0, 0.5)",shadow:"0 .15em .23em 0 rgba(0, 0, 0, 0.5)",image:"linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.15))"},tickets:{placeholderColor:"rgba(163, 168, 174, 0.9)",searchColor:"rgba(163, 168, 174, 0.5)",searchMastchesListBgColor:"rgba(100, 100, 100, 1)",searchMastchesListColor:"white"}},Se={app:{bgColor:"#2d2c2c",color:"#bbb7b7",border:"1px solid rgba(163,168,174,0.1)",padding:"5px",switchPanelIconColor:"rgba(255, 255, 255, 0.4)",scrollThumbInactiveBgColor:"rgba(100, 100, 100, 0.4)",scrollThumbBgColor:"rgba(100, 100, 100, 0.8)",scrollTrackShadow:"inset 0 0 6px rgba(0, 0, 0, 0.3)",scrollThumb:"#979797",scrollThumbInactive:"#979797",scrollCorner:"#979797",scrollTrack:"transparent",scrollShadow:"inset 0 0 6px rgba(0, 0, 0, 0.3)"},footer:{bgColor:"#2d2c2c",color:"#a3a8ae",border:"1px solid rgba(163,168,174,0.1)"},sidebar:{bgColor:"#2d2c2c",color:"#979797",border:"1px solid rgba(163,168,174,0.1)",hoverColor:"#d7d7d7",selected:"#373636",placeholderColor:"rgba(163, 168, 174, 0.9)"},home:{color:"rgba(163, 168, 174, 0.3)",titleColor:"rgba(163, 168, 174, 0.3)",svgColor:"rgba(163, 168, 174, 0.1)",tryButtonHoverColor:"rgba(255, 255, 255, 0.6)"},settings:{panelBgColor:"rgba(10, 10, 10, 0.2)"},discover:{panelBgColor:"rgba(10, 10, 10, 0.2)",helpBgColor:"rgba(51,51,51, .9)",helpColor:"rgba(151,151,151,1)",tooltipColor:"rgba(115, 201, 144, .6)"},charts:{axis:"#FFF"},tables:{color:"white",colorEven:"rgba(187, 183, 183, 1)",bgColorEven:"rgba(163,168,174,0.2)",bgColor:"rgba(163,168,174,0.1)",highlightBgColor:"rgba(226, 192, 141, .25)"},tooltips:{bgColor:"rgba(39, 41, 44, 0.9)"},blog:{bgColor:"#2d2c2c",border:"1px solid rgba(163,168,174,0.1)",switcherBgColor:"#979797",switcherColor:"rgb(60, 60, 60)",sectionsHoverColor:"rgba(255, 255, 255, 0.9)"},workspace:{activeLine:"#373636",actionsPanel:{bgColor:"#373636"}},fuzzyFinder:{bgColor:"#2d2c2c",bgColorItem:"#2d2c2c",bgColorItemActive:"#373636",bgColorTextbox:"rgba(0, 0, 0, 0.6)",bgColorHint:"rgba(0, 0, 0, 0.2)",border:"1px solid #111314",colorTextbox:"rgba(115, 201, 144, 0.7)",colorItem:"#d9dbde",colorHint:"#d7dae0"},tour:{bgColor:"#373636",iconColor:"rgb(226, 192, 141)",iconColorHover:"rgb(226, 192, 141)"},ribbon:{bgColor:"#161719",color:"#7d7d7d",textShadow:"0 -.08em rgba(0, 0, 0, 0.5)",shadow:"0 .15em .23em 0 rgba(0, 0, 0, 0.5)",image:"linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.15))"},tickets:{placeholderColor:"rgba(163, 168, 174, 0.9)",searchColor:"rgba(163, 168, 174, 0.5)",searchMastchesListBgColor:"rgba(100, 100, 100, 1)",searchMastchesListColor:"white"}},Ie={app:{bgColor:"#f5f5f5",color:"#9b9b9b",border:"1px solid rgba(163,168,174,0.2)",padding:"5px",switchPanelIconColor:"rgba(110, 110, 110, 0.4)",scrollThumbInactiveBgColor:"rgba(100, 100, 100, 0.1)",scrollThumbBgColor:"rgba(100, 100, 100, 0.2)",scrollTrackShadow:"inset 0 0 6px rgba(0, 0, 0, 0.1)",scrollThumb:"#bebebe",scrollThumbInactive:"transparent",scrollTrack:"transparent",scrollCorner:"transparent",scrollShadow:"none"},footer:{bgColor:"#f5f5f5",color:"#a3a8ae",border:"1px solid rgba(163,168,174,0.2)"},sidebar:{bgColor:"#f5f5f5",color:"#979797",border:"1px solid rgba(163,168,174,0.2)",hoverColor:"#000",selected:"#ececec",placeholderColor:"#000"},home:{color:"#b3b3b3",titleColor:"#b3b3b3",svgColor:"rgba(163, 168, 174, 0.8)",tryButtonHoverColor:"rgba(100, 100, 100, 0.6)"},settings:{panelBgColor:"rgba(183, 181, 181, 0.2)"},discover:{panelBgColor:"rgba(183, 181, 181, 0.2)",axis:"#000",helpBgColor:"rgba(205, 201, 201, 1)",helpColor:"rgba(100,100,100,1)",tooltipColor:"#000"},charts:{axis:"#b3b3b3"},tables:{color:"#000",colorEven:"#000",bgColorEven:"rgba(163,168,174,0.2)",bgColor:"rgba(163,168,174,0.1)",highlightBgColor:"rgba(226, 192, 141, .25)"},tooltips:{bgColor:"rgba(29, 29, 29, 0.2)"},blog:{bgColor:"#f5f5f5",border:"1px solid rgba(163,168,174,0.2)",switcherBgColor:"#bebebe",switcherColor:"#f5f5f5",sectionsHoverColor:"#adaaaa"},workspace:{activeLine:"#fff",actionsPanel:{bgColor:"#ececec"}},fuzzyFinder:{bgColor:"#ececec",bgColorItem:"#f5f5f5",bgColorItemActive:"#ececec",bgColorTextbox:"#f5f5f5",bgColorHint:"rgba(255, 255, 255, 0.2)",border:"1px solid #f5f5f5",colorTextbox:"#9b9b9b",colorItem:"#9b9b9b",colorHint:"#9b9b9b"},tour:{bgColor:"#ececec",iconColor:"#979797",iconColorHover:"rgba(255, 255, 255, 0.8)"},ribbon:{bgColor:"#fffdfd",color:"#a6a6a6",shadow:"none",textShadow:"none",image:"none"},tickets:{placeholderColor:"#000",searchColor:"rgba(163, 168, 174, 0.8)",searchMastchesListBgColor:"rgba(163,168,174,0.1)",searchMastchesListColor:"#000"}},we="app/ThemeProvider/CHANGE_THEME",_e=n(58);function Ae(e){return e&&!je.a.isEmpty(e.trim())&&/^[?#]/.test(e)?e.slice(1).split("&").reduce(function(e,t){var n=t.split("="),r=Object(A.a)(n,2),o=r[0],a=r[1],i=Object(E.a)({},e);return i[o]=a?decodeURIComponent(a.replace(/\+/g," ")):"",i},{}):{}}var ze,De=Ae(window.location.search).theme,Re=function(){var e=Object(S.a)(C.a.mark(function e(){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Te.db.remove(),e.next=3,xe(x.g,x.k);case 3:Te=e.sent;case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Ne=function(){return Te.stock},Fe=function(){return Te.settings},Pe=function(){return Te.tickets},Me=function(){return Te?Te.charts:Te},Le=function(e){return function(t,n){return n.type===x.D?e(n.payload.state,n):e(t,n)}},Ue=(ze=function(e){return new Promise(function(){var t=Object(S.a)(C.a.mark(function t(n){var o,a;return C.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xe(x.g,x.k);case 2:return Te=t.sent,o=e.getState(),t.t0=Ee.merge,t.t1={},t.t2=x.l,t.next=9,Te.settings.init();case 9:return t.t3=t.sent,t.t4=(0,t.t0)(t.t1,t.t2,t.t3),t.next=13,Te.tickets.query("dailyTicketIds");case 13:return t.t5=t.sent,t.t6=E.a,t.t7={},t.next=18,Te.stock.get({limit:x.m,skip:0});case 18:return t.t8=t.sent,t.t9={loading:o.stock.loading},t.t10=(0,t.t6)(t.t7,t.t8,t.t9),t.next=23,Te.charts.init();case 23:t.t11=t.sent,(a={settings:t.t4,tickets:t.t5,stock:t.t10,charts:t.t11}).theme={theme:De&&r[De]?r[De]:r[a.settings.theme]||r.monokai,name:De||a.settings.theme||"monokai"},a.language={locale:a.settings.lang||_e.b},n(Object(E.a)({},o,a));case 28:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},function(e){return e.dispatch({type:x.F}),ze(e).then(function(t){e.dispatch({type:x.D,payload:{state:t}})},function(t){e.dispatch({type:x.E,payload:{error:t}})}),function(e){return function(t){return e(t)}}}),He=n(15),Be=n(204),Ke=n(21),qe=Object(He.d)({ok:{id:"kz.components.Modal.ok",defaultMessage:"Ok"},cancel:{id:"kz.components.Modal.cancel",defaultMessage:"Cancel"}}),Ve=n(9),Ge=n(8);function Ye(){var e=Object(Ve.a)(["\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background: rgba(0, 0, 0, 0.7);\n  z-index: 99999;\n  display: block;\n  pointer-events: auto;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n"]);return Ye=function(){return e},e}var Ze=Ge.c.div(Ye());function We(){var e=Object(Ve.a)(["\n  margin: 0;\n  padding: 0;\n  opacity: 1;\n  position: absolute;\n  top: 50%;\n  right: 50%;\n  transform: translate(50%, -50%);\n  animation: "," 1.5s ease-in-out;\n"]);return We=function(){return e},e}function $e(){var e=Object(Ve.a)(["\nfrom,\nto {\n  animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\n}\n\nfrom {\n  transform: translate(50%, -0%);\n  opacity: 0;\n}\n\nto {\n  transform: translate(50%, -50%);\n  opacity: 1;\n}\n"]);return $e=function(){return e},e}var Je=Object(Ge.e)($e()),Qe=Ge.c.div(We(),Je);function Xe(){var e=Object(Ve.a)([""]);return Xe=function(){return e},e}var et=Ge.c.div(Xe());function tt(){var e=Object(Ve.a)(["\n  position: relative;\n  margin-bottom: 15px;\n  height: 1px;\n  &:before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 5%;\n    right: 5%;\n    width: 90%;\n    height: 2px;\n    background-image: linear-gradient(\n      to right,\n      transparent,\n      rgb(115, 201, 144),\n      transparent\n    );\n  }\n  &:after {\n    content: '';\n    position: absolute;\n    z-index: 1;\n    top: -7px;\n    left: calc(50% - 4px);\n    width: 14px;\n    height: 14px;\n    transform: rotate(45deg);\n    background-color: rgb(115, 201, 144);\n    border-bottom: 1px solid rgb(115, 201, 144);\n    border-right: 1px solid rgb(115, 201, 144);\n  }\n"]);return tt=function(){return e},e}var nt=Ge.c.div(tt());function rt(){var e=Object(Ve.a)(["\n  width: 600px;\n  text-align: center;\n"]);return rt=function(){return e},e}var ot=Ge.c.div(rt());function at(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(p.a)(e);if(t){var o=Object(p.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var it=function(e){Object(l.a)(n,e);var t=at(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).state={visible:!1,content:null,disableOkButton:!0},r.onApproved=function(){return null},r}return Object(u.a)(n,[{key:"componentWillMount",value:function(){this.pubSubToken=Ke.a.subscribe(Ke.a.topics.MODAL_OPENED,this.openModal.bind(this))}},{key:"componentWillUnmount",value:function(){this.pubSubToken&&Ke.a.unsubscribe(this.pubSubToken)}},{key:"openModal",value:function(e,t){var n=this;this.state.visible||this.setState({visible:!0,content:t},function(){return n.props.onOpen()})}},{key:"fadeOut",value:function(e,t){var n=e.style;n.opacity=1,function e(){if((n.opacity-=.1)<0)return n.display="none",t();setTimeout(e,50)}()}},{key:"disableNext",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setState({disableOkButton:e})}},{key:"cancel",value:function(){var e=this;this.props.onClose(),this.fadeOut(this.overlap,function(){return e.setState({visible:!1})})}},{key:"render",value:function(){var e=this,t=this.state.content;return this.state.visible&&a.a.createElement(Ze,{innerRef:function(t){return e.overlap=t}},a.a.createElement(Qe,null,a.a.createElement(et,null,t?a.a.createElement(t,{disableNext:function(){return e.disableNext.apply(e,arguments)},onApproved:function(t){return e.onApproved=t}}):null),a.a.createElement(nt,null),a.a.createElement(ot,null,a.a.createElement(Be.a,{onClick:function(){return e.cancel()},title:a.a.createElement(He.a,qe.cancel)}),a.a.createElement(Be.a,{secundary:!0,title:a.a.createElement(He.a,qe.ok),disable:this.state.disableOkButton,onClick:function(){e.onApproved()&&e.cancel()}}))))}}]),n}(a.a.Component),ct=n(90),st=Object(T.createSelector)(function(e){return e.settings},function(e){return e}),ut=n(29);var lt=n(54),dt=Object(He.d)({home:{id:"kz.containers.SidebarMenu.home",defaultMessage:"HOME"},settings:{id:"kz.containers.SidebarMenu.settings",defaultMessage:"SETTINGS"},discover:{id:"kz.containers.SidebarMenu.discover",defaultMessage:"DISCOVER"},tickets:{id:"kz.containers.SidebarMenu.tickets",defaultMessage:"YOUR TICKETS"},cashDrawer:{id:"kz.containers.SidebarMenu.cashDrawer",defaultMessage:"Cash Drawer"},searchTickets:{id:"kz.containers.SidebarMenu.searchTickets",defaultMessage:"Search Tickets"}}),pt=n(44),ft=n.n(pt);function mt(){var e=Object(Ve.a)(["\n  background-color: rgba(226, 192, 141, 1);\n"]);return mt=function(){return e},e}function bt(){var e=Object(Ve.a)(["\n  background-color: rgba(115, 201, 144, 1);\n"]);return bt=function(){return e},e}function ht(){var e=Object(Ve.a)(["\n  background-color: rgba(100, 148, 237, 1);\n"]);return ht=function(){return e},e}function kt(){var e=Object(Ve.a)(["\n  display: inline-block;\n  border-radius: 50%;\n  width: 0.5em;\n  height: 0.5em;\n  margin-left: 8px;\n  margin-bottom: 1px;\n"]);return kt=function(){return e},e}function vt(){var e=Object(Ve.a)(["\n  transition: color 0.5s ease-in-out;\n  text-decoration: none;\n  ",";\n  padding: 0;\n  margin: 0;\n  &:hover {\n    color: ",";\n  }\n"]);return vt=function(){return e},e}function gt(){var e=Object(Ve.a)(["\n  padding: 0 30px;\n  margin: 4px;\n  width: 190px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin-bottom: ",";\n  padding-bottom: ",";\n  color: ",";\n"]);return gt=function(){return e},e}function Ot(){var e=Object(Ve.a)(["\n  color: ",";\n  font-size: ","em;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu, Cantarell, Arial,\n    sans-serif;\n  letter-spacing: 0.15em;\n  font-weight: ",";\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  ",";\n  border-left: 5px solid transparent;\n  ",";\n  ",";\n"]);return Ot=function(){return e},e}function yt(){var e=Object(Ve.a)(["\n  border: 0;\n  outline: 0;\n  border-image: none;\n  border-bottom: ",";\n  order: 0;\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  width: 100%;\n  height: calc(100% - 70px);\n  overflow-y: hidden;\n  overflow-x: hidden;\n"]);return yt=function(){return e},e}function Tt(){var e=Object(Ve.a)(["\n  outline: none;\n  font-size: 1.3em;\n  margin-left: 14px;\n  width: 100px;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu,\n    Cantarell, Arial, sans-serif;\n  font-weight: 100;\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  font-style: normal;\n\n  &::-webkit-input-placeholder {\n    /* WebKit, Blink, Edge */\n    color: ","\n  }\n  &:-moz-placeholder {\n    /* Mozilla Firefox 4 to 18 */\n    color: ","\n    opacity: 1;\n  }\n  &::-moz-placeholder {\n    /* Mozilla Firefox 19+ */\n    color: ","\n    opacity: 1;\n  }\n  &:-ms-input-placeholder {\n    /* Internet Explorer 10-11 */\n    color: ","\n  }\n  &::-ms-input-placeholder {\n    /* Microsoft Edge */\n    color: ","\n  }\n"]);return Tt=function(){return e},e}function xt(){var e=Object(Ve.a)(["\n  color: rgba(163, 168, 174, 0.5);\n  width: 100%;\n  text-align: center;\n  padding: 8px 0px;\n"]);return xt=function(){return e},e}function Et(){var e=Object(Ve.a)(["\n  display: table-cell;\n  vertical-align: middle;\n  cursor: pointer;\n  height: 100%;\n  width: 100%;\n  text-decoration: none;\n  padding: 0;\n  margin: 0;\n  transition: color 0.5s ease-in-out;\n  color: ",";\n  &:hover {\n    color: ",";\n  }\n"]);return Et=function(){return e},e}function jt(){var e=Object(Ve.a)(["\n  font-size: 1em;\n  font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu, Cantarell, Arial,\n    sans-serif;\n  letter-spacing: 0.12em;\n  font-weight: 400;\n  -webkit-font-smoothing: antialiased;\n  font-variant: all-petite-caps;\n  margin-left: 10px;\n  font-style: normal;\n"]);return jt=function(){return e},e}function Ct(){var e=Object(Ve.a)(["\n  height: 70px;\n  width: 100%;\n  font-size: 1.5em;\n  text-align: center;\n  display: table;\n  /*border-top: ",";*/\n"]);return Ct=function(){return e},e}function St(){var e=Object(Ve.a)(["\n  height: calc(100% - 24px);\n  overflow: auto;\n"]);return St=function(){return e},e}function It(){var e=Object(Ve.a)(["\n  list-style: none;\n  padding: 0;\n  height: ",";\n  overflow: hidden;\n"]);return It=function(){return e},e}function wt(){var e=Object(Ve.a)(["\n  display: flex;\n  background-color: ",";\n  color: ",";\n  position: relative;\n  box-sizing: border-box;\n  height: initial;\n  overflow: hidden;\n  cursor: default;\n  -webkit-user-select: none;\n  user-select: none;\n  min-width: 200px;\n  width: 200px;\n  max-width: 200px;\n  z-index: 2;\n  display: flex;\n  flex-direction: column;\n  flex: 1 1 auto;\n  padding: 0;\n  margin: 0;\n  border-right: ",";\n"]);return wt=function(){return e},e}var _t=Ge.c.div(wt(),function(e){return e.theme&&e.theme.app.bgColor?e.theme.app.bgColor:"#161719"},function(e){return e.theme&&e.theme.app.color?e.theme.app.color:" #a3a8ae"},function(e){return e.theme&&e.theme.app.border?e.theme.app.border:"1px solid #27292c"}),At=Ge.c.ul(It(),function(e){return e.static?"88px":"calc(100% - 110px)"}),zt=Ge.c.div(St()),Dt=Ge.c.div(Ct(),function(e){return e.theme&&e.theme.app.border?e.theme.app.border:"1px solid #27292c"}),Rt=Ge.c.em(jt()),Nt=Object(Ge.c)(m.Link)(Et(),function(e){return e.theme&&e.theme.sidebar.color?e.theme.sidebar.color:"rgba(163, 168, 174, 0.5)"},function(e){return e.theme&&e.theme.sidebar.hoverColor?e.theme.sidebar.hoverColor:"rgba(163, 168, 174, 0.8)"});function Ft(e){return a.a.createElement(Dt,null,a.a.createElement(Nt,{to:e.to,onClick:e.onClick},a.a.createElement(ft.a,{name:e.icon})," ",a.a.createElement(Rt,null,e.children)))}Ge.c.div(xt()),Ge.c.input(Tt(),function(e){return e.theme&&e.theme.sidebar.placeholderColor?e.theme.sidebar.placeholderColor:"rgba(163, 168, 174, 0.3)"},function(e){return e.theme&&e.theme.sidebar.placeholderColor?e.theme.sidebar.placeholderColor:"rgba(163, 168, 174, 0.3)"},function(e){return e.theme&&e.theme.sidebar.placeholderColor?e.theme.sidebar.placeholderColor:"rgba(163, 168, 174, 0.3)"},function(e){return e.theme&&e.theme.sidebar.placeholderColor?e.theme.sidebar.placeholderColor:"rgba(163, 168, 174, 0.3)"},function(e){return e.theme&&e.theme.sidebar.placeholderColor?e.theme.sidebar.placeholderColor:"rgba(163, 168, 174, 0.3)"});var Pt=Ge.c.div(yt(),function(e){return e.theme&&e.theme.app.border?e.theme.app.border:"1px solid #27292c"}),Mt=Ge.c.li(Ot(),function(e){return e.theme&&e.theme.sidebar.color?e.theme.sidebar.color:"rgba(163, 168, 174, 0.5)"},function(e){return e.small?"1.1":"1.5"},function(e){return e.highlight,"100"},function(e){return!e.disabled&&e.cursor?function(e){return"\ntransition: color .5s ease-in-out;\ncursor:pointer;\n &:hover {\n    color: ".concat(e.theme&&e.theme.sidebar.hoverColor?e.theme.sidebar.hoverColor:"rgba(163, 168, 174, 0.8)",";\n  }")}(e):""},function(e){return e.actived?"\n  border-left: 5px solid #73c990;\n  background-color: rgba(163, 168, 174, 0.1);\n":""},function(e){return e.disabled?"color: rgba(163, 168, 174, 0.3);":""}),Lt=Ge.c.p(gt(),function(e){return e.noroute?"0":"4px"},function(e){return e.noroute?"4px":"0"},function(e){return t=e.selected,n=e.theme.sidebar.hoverColor,t?n:"inherit";var t,n}),Ut=Object(Ge.c)(m.Link)(vt(),function(e){return e.actived?function(e){return"\n    color: ".concat(e.theme&&e.theme.sidebar.hoverColor?e.theme.sidebar.hoverColor:"rgba(163, 168, 174, 0.8)",";\n")}(e):function(e){return"\n    color: ".concat(e.theme&&e.theme.sidebar.color?e.theme.sidebar.color:"rgba(163, 168, 174, 0.5)",";\n")}(e)},function(e){return e.theme&&e.theme.sidebar.hoverColor?e.theme.sidebar.hoverColor:"rgba(163, 168, 174, 0.8)"}),Ht=Ge.c.span(kt()),Bt=(Object(Ge.c)(Ht)(ht()),Object(Ge.c)(Ht)(bt())),Kt=Object(Ge.c)(Ht)(mt()),qt=function(e){return e===x.I?a.a.createElement(Bt,{title:"sold"}):e===x.H?a.a.createElement(Kt,{title:"return"}):void 0};function Vt(e){return a.a.createElement(Mt,{small:e.small,cursor:e.cursor,highlight:e.highlight,actived:e.actived,onClick:function(t){return e.onClick?e.onClick(t):null},disabled:e.disabled},e.to?a.a.createElement(Ut,{to:e.to,actived:e.actived},a.a.createElement(Lt,{selected:e.selected},e.children,!!e.state&&qt(e.state))):a.a.createElement(Lt,{selected:e.selected,noroute:e.noroute},e.children,!!e.state&&qt(e.state)))}var Gt=n(283);var Yt=Object(T.createStructuredSelector)({ticketList:ct.k,settings:st,ticketID:Object(T.createSelector)(function(e){return e.ticket},function(e){return e.id})});var Zt=Object(f.connect)(Yt,function(e){return{loadTicket:function(t){return e(Object(lt.k)(t))},searchTickets:function(t,n,r){return e(function(e,t,n){return{type:ut.l,field:e,value:t,operator:n}}(t,n,r))},printDailySummaryTicket:function(t){return e(Object(lt.m)(t))}}})(Object(m.withRouter)(function(e){var t=e.routes[e.routes.length-1].name;return a.a.createElement(_t,null,a.a.createElement(Pt,null,a.a.createElement(At,{static:!0},a.a.createElement(Vt,{actived:"home"===t,to:"/demo",highlight:!0,cursor:!0},a.a.createElement(He.a,dt.home)),a.a.createElement(Vt,{actived:"settings"===t,to:"/demo/settings",highlight:!0,cursor:!0},a.a.createElement(He.a,dt.settings)),a.a.createElement(Vt,{actived:"discover"===t,highlight:!0,cursor:!0,disabled:!0},a.a.createElement(He.a,dt.discover))),a.a.createElement(At,null,a.a.createElement(Vt,{actived:"tickets"===t,to:"/demo/tickets",highlight:!0,cursor:!0},a.a.createElement(He.a,dt.tickets)),a.a.createElement(zt,{"data-cy":Gt.b.TICKETS_LIST},e.ticketList.items.map(function(t){return a.a.createElement(Vt,{key:t.created_at,selected:t.id===e.ticketID,onClick:function(){e.loadTicket(t.id),e.router.push("/demo/tickets")},state:t.balance,small:!0,highlight:!0,cursor:!0},String(t.created_at))})))),a.a.createElement(Ft,{to:"/demo/tickets",icon:"inbox",onClick:function(){e.printDailySummaryTicket(e.settings)}},a.a.createElement(He.a,dt.cashDrawer)))})),Wt={keys:"alt+x",default:!1},$t={keys:"alt+l",default:!1},Jt={keys:"alt+t",default:!1},Qt={keys:"alt+i",default:!1},Xt={keys:"alt+e",default:!1},en={keys:"alt+r+d",default:!1},tn={keys:"down",default:!0},nn={keys:"up",default:!0},rn={keys:"esc",default:!0},on={keys:"enter",default:!0},an={keys:"alt+c",default:!1},cn=n(456),sn=n.n(cn),un=n(457),ln=n.n(un),dn=n(280),pn=n(458),fn={en:"kz.containers.LanguageProvider.en",es:"kz.containers.LanguageProvider.es"};Object(He.c)(sn.a),Object(He.c)(ln.a);var mn=function e(t,n){var r=t!==_e.b?e(_e.b,dn):{};return Object.keys(n).reduce(function(e,o){var a=n[o];return a||t===_e.b||(a=r[o]),Object.assign(e,Object(_.a)({},o,a))},{})},bn={en:mn("en",dn),es:mn("es",pn)},hn=n(128),kn=function(e){return e.language},vn=function(){return Object(T.createSelector)(kn,function(e){return e.locale})},gn=n(184);function On(){var e=Object(Ve.a)(["\n  :root {\n    --langColor: inherit;\n  }\n\n  .status_bar_lang {\n    color: var(--langColor);\n  }\n"]);return On=function(){return e},e}var yn=Ge.c.span(On());function Tn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(p.a)(e);if(t){var o=Object(p.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var xn=function(e){Object(l.a)(n,e);var t=Tn(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentWillMount",value:function(){this.props.bindShortcut($t.keys,this.bindShortcut.bind(this)),this.pubSubToken=Ke.a.subscribe(Ke.a.topics.FUZZY_FINDER_LANG_ITEM_SELECTED,this.changeLang.bind(this))}},{key:"componentWillUnmount",value:function(){this.pubSubToken&&Ke.a.unsubscribe(this.pubSubToken)}},{key:"openFuzzyFinder",value:function(){Ke.a.publish(Ke.a.topics.FUZZY_FINDER_REQUIRED,{items:Object(hn.b)(fn,this.props.locale),topic:Ke.a.topics.FUZZY_FINDER_LANG_ITEM_SELECTED})}},{key:"bindShortcut",value:function(){return this.openFuzzyFinder(),$t.default}},{key:"changeLang",value:function(e,t){this.props.onLocaleToggle(t)}},{key:"render",value:function(){var e=this;return a.a.createElement(yn,{title:this.props.locale,onClick:function(){return e.openFuzzyFinder()}},this.props.children)}}]),n}(a.a.Component),En=Object(T.createSelector)(vn(),function(e){return{locale:e}}),jn=Object(f.connect)(En,function(e){return{onLocaleToggle:function(t){return e(Object(gn.a)(x.s,t))},dispatch:e}})(Object(g.mouseTrap)(xn));var Cn=function(e){return e.theme};function Sn(){var e=Object(Ve.a)(["\n  :root {\n    --langColor: inherit;\n  }\n\n  .status_bar_lang {\n    color: var(--langColor);\n  }\n"]);return Sn=function(){return e},e}var In=Ge.c.span(Sn());function wn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(p.a)(e);if(t){var o=Object(p.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var _n=function(e){Object(l.a)(n,e);var t=wn(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentWillMount",value:function(){this.props.bindShortcut(Jt.keys,this.bindShortcut.bind(this)),this.pubSubToken=Ke.a.subscribe(Ke.a.topics.FUZZY_FINDER_THEME_ITEM_SELECTED,this.changeTheme.bind(this))}},{key:"componentWillUnmount",value:function(){this.pubSubToken&&Ke.a.unsubscribe(this.pubSubToken)}},{key:"openFuzzyFinder",value:function(){var e;Ke.a.publish(Ke.a.topics.FUZZY_FINDER_REQUIRED,{items:(e=this.props.theme,Object.keys(r).map(function(t){return{value:t,title:"kz.containers.ThemeProvider.themes.".concat(t),marked:t===e}})),topic:Ke.a.topics.FUZZY_FINDER_THEME_ITEM_SELECTED})}},{key:"bindShortcut",value:function(){return this.openFuzzyFinder(),Jt.default}},{key:"changeTheme",value:function(e,t){this.props.onThemeToggle(t)}},{key:"render",value:function(){var e=this;return a.a.createElement(In,{title:this.props.theme,onClick:function(){return e.openFuzzyFinder()}},this.props.children)}}]),n}(a.a.Component),An=Object(T.createSelector)(Object(T.createSelector)(Cn,function(e){return e.name}),function(e){return{theme:e}}),zn=Object(f.connect)(An,function(e){return{onThemeToggle:function(t){return e(Object(gn.a)(x.G,t))},dispatch:e}})(Object(g.mouseTrap)(_n));function Dn(){var e=Object(Ve.a)(["",";"]);return Dn=function(){return e},e}function Rn(){var e=Object(Ve.a)(["",""]);return Rn=function(){return e},e}function Nn(){var e=Object(Ve.a)(["\n  text-decoration: none;\n  color: ",";\n  font-style: normal;\n  cursor: pointer;\n  &:hover {\n    text-decoration: underline;\n  }\n  /* Octicon case */\n  .octicon {\n    margin: 0;\n  }\n  .octicon ~span {\n    margin: auto 4px;\n  }\n"]);return Nn=function(){return e},e}var Fn=Object(Ge.b)(Nn(),function(e){return(t=e.style)?t.primary?"#6494ed":t.secondary?"#73c990":"#a3a8ae":"#a3a8ae";var t}),Pn=Object(Ge.c)(m.Link)(Rn(),Fn),Mn=Ge.c.a(Dn(),Fn);var Ln=function(e){return e.to?a.a.createElement(Pn,e,e.children):a.a.createElement(Mn,e,e.children)};function Un(){var e=Object(Ve.a)(["margin: auto 4px;"]);return Un=function(){return e},e}function Hn(){var e=Object(Ve.a)([""]);return Hn=function(){return e},e}function Bn(){var e=Object(Ve.a)([""]);return Bn=function(){return e},e}function Kn(){var e=Object(Ve.a)(["\n  -webkit-user-select: none;\n  cursor: default;\n  overflow: hidden;\n  white-space: nowrap;\n  min-width: -webkit-min-content;\n  display: flex;\n  justify-content: space-between;\n  padding: 0 0.75em;\n  width: 100%;\n  line-height: 3.0em;\n"]);return Kn=function(){return e},e}function qn(){var e=Object(Ve.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding: 0;\n  background-color: ",";\n  color: ",";\n  height: 3.0em;\n  border-top: ",";\n"]);return qn=function(){return e},e}var Vn=Ge.c.div(qn(),function(e){return e.theme&&e.theme.app.bgColor?e.theme.app.bgColor:"#161719"},function(e){return e.theme&&e.theme.footer.color?e.theme.footer.color:" #a3a8ae"},function(e){return e.theme&&e.theme.app.border?e.theme.app.border:"1px solid #27292c"}),Gn=Ge.c.div(Kn()),Yn=Ge.c.div(Bn()),Zn=Ge.c.div(Hn()),Wn=Ge.c.span(Un()),$n=Object(He.d)({home:{id:"kz.components.Footer.home",defaultMessage:"Home"},bugs:{id:"kz.components.Footer.bugs",defaultMessage:"Bugs"},license:{id:"kz.components.Footer.license",defaultMessage:"MIT"},languages:{id:"kz.components.Footer.languages",defaultMessage:"Languages"},themes:{id:"kz.components.Footer.themes",defaultMessage:"Themes"},help:{id:"kz.components.Footer.help",defaultMessage:"Help"}});function Jn(){return a.a.createElement(Vn,null,a.a.createElement(Gn,null,a.a.createElement(Yn,null,a.a.createElement(Wn,null,a.a.createElement(Ln,{to:"https://kalzate.app",target:"_blank",style:{primary:!0}},a.a.createElement(ft.a,{name:"home"}),a.a.createElement(He.a,$n.home))),a.a.createElement(Wn,null,a.a.createElement(Ln,{target:"_blank",href:"https://github.com/yourshoes/kalzate/issues"},a.a.createElement(ft.a,{name:"flame"}),a.a.createElement(He.a,$n.bugs))),a.a.createElement(Wn,null,a.a.createElement(Ln,{target:"_blank",href:"https://github.com/yourshoes/kalzate/blob/unstable/LICENSE.md"},a.a.createElement(ft.a,{name:"law"}),a.a.createElement(He.a,$n.license)))),a.a.createElement(Zn,null,a.a.createElement(jn,null,a.a.createElement(Wn,null,a.a.createElement(Ln,null,a.a.createElement(ft.a,{name:"globe"}),a.a.createElement(He.a,$n.languages)))),a.a.createElement(zn,null,a.a.createElement(Wn,null,a.a.createElement(Ln,null,a.a.createElement(ft.a,{name:"paintcan"}),a.a.createElement(He.a,$n.themes)))),a.a.createElement(Wn,null,a.a.createElement(Ln,{target:"_blank",href:"https://kalzate.app#donate",style:{secondary:!0}},a.a.createElement(ft.a,{name:"rocket"}),a.a.createElement(He.a,$n.help))))))}function Qn(){var e=Object(Ve.a)(['\n  background: rgba(39, 41, 44, 0.9);\n  bottom: 100%;\n  color: #a3a8ae;\n  display: inline-table;\n  left: -88px;\n  margin-bottom: 15px;\n  opacity: 0;\n  padding: 20px;\n  pointer-events: none;\n  position: absolute;\n  width: 200px;\n  -webkit-transition: all .25s ease-out;\n  -moz-transition: all .25s ease-out;\n  -ms-transition: all .25s ease-out;\n  -o-transition: all .25s ease-out;\n  transition: all .25s ease-out;\n  -webkit-box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.28);\n  -moz-box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.28);\n  -ms-box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.28);\n  -o-box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.28);\n  box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.28);\n  -webkit-user-select: none;\n\n  & :before {\n    bottom: -20px;\n    content: " ";\n    display: block;\n    height: 20px;\n    left: 0;\n    position: absolute;\n    width: 100%;\n  }\n\n  & :after {\n    border-left: solid transparent 10px;\n    border-right: solid transparent 10px;\n    border-top: solid var(--bgColor) 10px;\n    bottom: -10px;\n    content: " ";\n    height: 0;\n    left: 50%;\n    margin-left: -13px;\n    position: absolute;\n    width: 0;\n  }\n\n  '," "," ",";\n\n  ",";\n"]);return Qn=function(){return e},e}function Xn(){var e=Object(Ve.a)([void 0," 1s ease-in 1,\n    "," 2s ease-in-out infinite alternate;\n  -moz-animation: "," 1s ease-in 1,\n    "," 2s ease-in-out infinite alternate;\n  animation: "," 1s ease-in 1,\n    "," 2s ease-in-out infinite alternate;\n\n  -webkit-animation-fill-mode: forwards;\n  -moz-animation-fill-mode: forwards;\n  animation-fill-mode: forwards;\n\n  -webkit-animation-delay: 2s;\n  -moz-animation-delay: 2s;\n  animation-delay: 2s;\n"],["\n  opacity: 0;\n  opacity: 1 \\9; /*just in case ie*/\n  -webkit-animation: "," 1s ease-in 1,\n    "," 2s ease-in-out infinite alternate;\n  -moz-animation: "," 1s ease-in 1,\n    "," 2s ease-in-out infinite alternate;\n  animation: "," 1s ease-in 1,\n    "," 2s ease-in-out infinite alternate;\n\n  -webkit-animation-fill-mode: forwards;\n  -moz-animation-fill-mode: forwards;\n  animation-fill-mode: forwards;\n\n  -webkit-animation-delay: 2s;\n  -moz-animation-delay: 2s;\n  animation-delay: 2s;\n"]);return Xn=function(){return e},e}function er(){var e=Object(Ve.a)(["\n  position: absolute;\n  outline: none;\n  z-index: 3;\n  width: 16px;\n  height: 16px;\n  text-align: center;\n  -webkit-transform: translateZ(0);\n  -webkit-font-smoothing: antialiased;\n  color: rgb(226, 192, 141);\n  "," "," "," ",";\n"]);return er=function(){return e},e}function tr(){var e=Object(Ve.a)(["\n  0% {\n    transform: translate(0, 0);\n  }\n  50% {\n    transform: translate(2px, 0);\n  }\n  100% {\n    transform: translate(0, 0);\n  }\n"]);return tr=function(){return e},e}function nr(){var e=Object(Ve.a)(["\n  from {\n      opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n"]);return nr=function(){return e},e}var rr=Object(Ge.e)(nr()),or=Object(Ge.e)(tr()),ar=function(e,t){return"".concat(e,": ").concat(t,"px;")},ir=Ge.c.div(er(),function(e){return e.left?ar("left",e.left):""},function(e){return e.right?ar("right",e.right):""},function(e){return e.top?ar("top",e.top):""},function(e){return e.bottom?ar("bottom",e.bottom):""}),cr=Ge.c.div(Xn(),rr,or,rr,or,rr,or),sr=Ge.c.div(Qn(),function(e){return"up"===e.direction?"\n  top: 30px;\n  & :after {\n    top: -10px;\n    transform: rotate(180deg);\n  }\n  & :before {\n    top: -20px;\n  }\n":""},function(e){return"down"===e.direction?"\n -webkit-transform: translateY(10px);\n  -moz-transform: translateY(10px);\n  -ms-transform: translateY(10px);\n  -o-transform: translateY(10px);\n  transform: translateY(10px);\n":""},function(e){return"left"===e.direction?"\n  left: -215px;\n  top: -75px;\n  bottom: initial;\n  & :after {\n    left: 208px;\n    bottom: 15px;\n    transform: rotate(270deg);\n  }\n  & :before {\n    height: 105px;\n    left: 200px;\n    top: 0px;\n    width: 20px;\n  }\n":""},function(e){return e.visible?"\n  -webkit-transition: all .25s ease-out;\n  -moz-transition: all .25s ease-out;\n  -ms-transition: all .25s ease-out;\n  -o-transition: all .25s ease-out;\n  transition: all .25s ease-out;\n  opacity: 1;\n  pointer-events: auto;\n  -webkit-transform: translateY(0px);\n  -moz-transform: translateY(0px);\n  -ms-transform: translateY(0px);\n  -o-transform: translateY(0px);\n  transform: translateY(0px);\n":""});function ur(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(p.a)(e);if(t){var o=Object(p.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}a.a.Component,Object(He.d)({treeMessage:{id:"octoql.components.HelperTour.tree.message",defaultMessage:"Use the options up"},footerLeftMessage:{id:"octoql.components.HelperTour.footer.left.message",defaultMessage:"Use the options down"},footerRightMessage:{id:"octoql.components.HelperTour.footer.right.message",defaultMessage:"Use the options below to change the application language, report a bug or syncronice your notebooks"}});function lr(){var e=Object(Ve.a)(["\n  & div:not(.overlay) ~ .overlay {\n    transition: all 1s ease;\n  }\n  & div:not(.overlay):hover ~ .overlay {\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: 2;\n    width: 100%;\n    height: 100%;\n    opacity: 0.3;\n    background-color: black;\n  }\n"]);return lr=function(){return e},e}var dr=Ge.c.div(lr());var pr=function(){return a.a.createElement(dr,null,a.a.createElement("div",{className:"overlay"}))},fr=Object(He.d)({notFound:{id:"octoql.components.FuzzyFinder.notFound",defaultMessage:"No matches found"}});function mr(){var e=Object(Ve.a)(["\n  "," background-color: transparent;\n  color: inherit;\n  border: none;\n  border-bottom: ",";\n"]);return mr=function(){return e},e}function br(){var e=Object(Ve.a)(["\n  margin-top: -1px;\n  margin-left: 0.75em;\n  margin-right: calc(-0.5em + 1px);\n  display: inline-block;\n  margin-left: 0.45454545em;\n  padding: 0 0.375em;\n  line-height: 2;\n  font-family: inherit;\n  font-size: 1em;\n  letter-spacing: 0.1em;\n  border-radius: 3px;\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  background-color: ",";\n  color: ",";\n"]);return br=function(){return e},e}function hr(){var e=Object(Ve.a)(["\n  float: right;\n"]);return hr=function(){return e},e}function kr(){var e=Object(Ve.a)(["\n  "," "," ",";\n"]);return kr=function(){return e},e}function vr(){var e=Object(Ve.a)(["\n  border: ",";\n  background-color: ",";\n  position: relative;\n  overflow-y: auto;\n  max-height: 312px;\n  margin: 10px 0 0 0;\n  padding: 0;\n  list-style: none;\n  cursor: default;\n  border-bottom: none;\n"]);return vr=function(){return e},e}function gr(){var e=Object(Ve.a)(["\n  position: relative;\n  display: inline-block;\n  border-radius: 4px;\n  border: 2px solid transparent;\n  padding: 5px;\n  font-size: 12px;\n  width: 100%;\n  margin: 0;\n  height: 2.5em;\n  cursor: pointer;\n  outline: none;\n  color: ",";\n  background-color: ",";\n  cursor: -webkit-image-set(\n        url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAL0lEQVQoz2NgCD3x//9/BhBYBWdhgFVAiVW4JBFKGIa4AqD0//9D3pt4I4tAdAMAHTQ/j5Zom30AAAAASUVORK5CYII=')\n          1x\n      )\n      5 8,\n    text;\n\n  &:focus {\n    border: 2px solid rgba(115, 201, 144, 0.7);\n    color: ",";\n    -webkit-text-fill-color: ",";\n  }\n\n  &::selection {\n    background: rgba(115, 201, 144, 0.3);\n  }\n"]);return gr=function(){return e},e}function Or(){var e=Object(Ve.a)(["\n  position: relative;\n  width: 100%;\n  max-width: 50em;\n  margin: 0 auto;\n  left: initial;\n  z-index: 9999;\n  background-color: transparent;\n  padding: 0.75em;\n  top: 0;\n  border-top: none;\n  border-top-left-radius: 0;\n  border-top-right-radius: 0;\n\n  &:before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    z-index: 0;\n    background-color: ",";\n    border-top: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 0 0 6px 6px;\n    box-shadow: 0 6px 12px -2px rgba(0, 0, 0, 0.4);\n  }\n\n  &:after {\n    content: '';\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    z-index: -1;\n    background: rgba(12, 13, 14, 0.5);\n    backface-visibility: hidden;\n    -webkit-animation: overlay-fade 0.1s cubic-bezier(0.215, 0.61, 0.355, 1);\n  }\n"]);return Or=function(){return e},e}function yr(){var e=Object(Ve.a)(["\n  ",";\n"]);return yr=function(){return e},e}var Tr=Ge.c.div(yr(),function(e){return e.visible?"\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n":"\n  display: none;\n"}),xr=Ge.c.div(Or(),function(e){return e.theme&&e.theme.fuzzyFinder.bgColor?e.theme.fuzzyFinder.bgColor:"#1d1f21"}),Er=Ge.c.input(gr(),function(e){return e.theme&&e.theme.fuzzyFinder.colorTextbox?e.theme.fuzzyFinder.colorTextbox:"#d9dbde"},function(e){return e.theme&&e.theme.fuzzyFinder.bgColorTextbox?e.theme.fuzzyFinder.bgColorTextbox:"rgba(0, 0, 0, 0.6)"},function(e){return e.theme&&e.theme.fuzzyFinder.colorTextbox?e.theme.fuzzyFinder.colorTextbox:"rgba(115, 201, 144, 0.7)"},function(e){return e.theme&&e.theme.fuzzyFinder.colorTextbox?e.theme.fuzzyFinder.colorTextbox:"rgba(115, 201, 144, 0.7)"}),jr=Ge.c.ol(vr(),function(e){return e.theme&&e.theme.fuzzyFinder.border?e.theme.fuzzyFinder.border:"1px solid #111314"},function(e){return e.theme&&e.theme.fuzzyFinder.bgColorItem?e.theme.fuzzyFinder.bgColorItem:"#222426"}),Cr=function(e){return"\n  font-weight: normal;\n  color: ".concat(e.theme&&e.theme.fuzzyFinder.colorItem?e.theme.fuzzyFinder.colorItem:"#d9dbde",";\n  padding: 12px 1em;\n  line-height: 2em;\n  border-bottom: ").concat(e.theme&&e.theme.fuzzyFinder.border?e.theme.fuzzyFinder.border:"1px solid #111314",";\n  user-drag: none;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-drag: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n\n  & span {\n    user-drag: none;\n    user-select: none;\n    -moz-user-select: none;\n    -webkit-user-drag: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n  }\n")},Sr=Ge.c.li(kr(),function(e){return Cr(e)},function(e){return e.actived?"\n  &:before {\n    margin-right: 0.45454545em;\n    color: #73c990;\n    font-family: 'octicons';\n    font-weight: normal;\n    font-style: normal;\n    display: inline-block;\n    line-height: 1;\n    -webkit-font-smoothing: antialiased;\n    text-decoration: none;\n    font-size: 16px;\n    width: 16px;\n    height: 16px;\n    content: \"\f03a\";\n  }\n":""},function(e){return e.selected?function(e){return"\n  background-color: ".concat(e.theme&&e.theme.fuzzyFinder.bgColorItemActive?e.theme.fuzzyFinder.bgColorItemActive:"#303337",";\n")}(e):""}),Ir=Ge.c.div(hr()),wr=Ge.c.kbd(br(),function(e){return e.theme&&e.theme.fuzzyFinder.bgColorHint?e.theme.fuzzyFinder.bgColorHint:"rgba(0, 0, 0, 0.2)"},function(e){return e.theme&&e.theme.fuzzyFinder.colorHint?e.theme.fuzzyFinder.colorHint:"#d7dae0"}),_r=Ge.c.li(mr(),Cr,function(e){return e.theme&&e.theme.fuzzyFinder.border?e.theme.fuzzyFinder.border:"1px solid #111314"});function Ar(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(p.a)(e);if(t){var o=Object(p.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var zr=function(e){Object(l.a)(n,e);var t=Ar(n);function n(e,r){var o;return Object(s.a)(this,n),(o=t.call(this,e,r)).state={items:[],topic:"",visible:!1,selected:0,input:"",filter:"",noMatchesText:fr.notFound,enableCustomSelection:!1},o}return Object(u.a)(n,[{key:"componentWillMount",value:function(){this.props.bindShortcut(rn.keys,this.cancelByKey.bind(this)),this.props.bindShortcut(tn.keys,this.moveDown.bind(this)),this.props.bindShortcut(nn.keys,this.moveUp.bind(this)),this.props.bindShortcut(on.keys,this.selectItemByEnter.bind(this)),this.pubSubToken=Ke.a.subscribe(Ke.a.topics.FUZZY_FINDER_REQUIRED,this.reset.bind(this))}},{key:"componentWillUnmount",value:function(){this.pubSubToken&&Ke.a.unsubscribe(this.pubSubToken)}},{key:"filter",value:function(e){return this.context.intl.formatMessage({id:e.title}).toLowerCase().includes(this.state.filter.toLowerCase())}},{key:"updateFilter",value:function(e){this.setState({filter:e.target.value})}},{key:"reset",value:function(e,t){this.setState(Object(E.a)({selected:0,visible:!0,filter:"",enableCustomSelection:!1,noMatchesText:fr.notFound},t)),this.searchInput.focus()}},{key:"moveDown",value:function(){this.setState({selected:(this.state.selected+1)%this.state.items.length}),this.updateScroll()}},{key:"moveUp",value:function(){this.state.selected?this.setState({selected:(this.state.selected-1)%this.state.items.length}):this.setState({selected:this.state.items.length-1}),this.updateScroll()}},{key:"selectItemByEnter",value:function(){return this.selectItem(),on.default}},{key:"updateScroll",value:function(){this.state.selected<6?this.itemsList.scrollTop=0:6===this.state.selected&&(this.itemsList.scrollTop=19),this.itemsList.scrollTop=47*(this.state.selected-6+19)}},{key:"cancelByKey",value:function(){return this.close(),rn.default}},{key:"highlightItem",value:function(e){var t="span"===e.target.tagName.toLowerCase()?e.target.parentElement:e.target,n=t.getAttribute("rel");"input"!==t.tagName.toLowerCase()&&("li"===t.tagName.toLowerCase()?this.setState({selected:n}):this.close())}},{key:"selectItemByClick",value:function(e){var t="span"===e.target.tagName.toLowerCase()?e.target.parentElement:e.target;"input"!==t.tagName.toLowerCase()&&this.searchInput!==document.activeElement&&("li"===t.tagName.toLowerCase()?t.classList.contains("no-select")||t.getAttribute("rel")===this.state.selected&&this.selectItem():this.close())}},{key:"selectItem",value:function(){var e=this.state.items.filter(this.filter.bind(this))[this.state.selected];e?this.close(e.value):this.state.enableCustomSelection&&this.close(this.state.filter)}},{key:"close",value:function(e){this.setState({visible:!1}),e&&Ke.a.publish(this.state.topic,e),Ke.a.publish(Ke.a.topics.FUZZY_FINDER_CLOSED)}},{key:"render",value:function(){var e=this;return a.a.createElement(Tr,{visible:this.state.visible},a.a.createElement(xr,{onMouseDown:function(t){return e.highlightItem(t)},onMouseUp:function(t){return e.selectItemByClick(t)}},a.a.createElement(Er,{innerRef:function(t){e.searchInput=t},className:"mousetrap",type:"text",value:this.state.filter,onChange:function(t){return e.updateFilter(t)}}),a.a.createElement(jr,{innerRef:function(t){e.itemsList=t}},Object(hn.a)(this.state.items.filter(function(t){return e.filter(t)}).map(function(t,n){return a.a.createElement(Sr,{key:t.value,actived:t.marked,selected:e.state.selected===n,rel:n},t.hint?a.a.createElement(Ir,null,a.a.createElement(wr,null,t.hint)):null,a.a.createElement(He.a,{id:t.title}))}),a.a.createElement(_r,{className:"no-select"},a.a.createElement(He.a,this.state.noMatchesText))))))}}]),n}(a.a.Component);zr.contextTypes={intl:o.PropTypes.object.isRequired};var Dr=Object(g.mouseTrap)(zr),Rr=n(425);function Nr(){var e=Object(Ve.a)(["\n-webkit-app-region: no-drag;\n  padding: 0 10px;\n  cursor: pointer;\n"]);return Nr=function(){return e},e}function Fr(){var e=Object(Ve.a)(["\n-webkit-app-region: no-drag;\n  height: 35px;\n  display: -ms-flexbox;\n  display: -webkit-flex;\n  display: flex;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  -webkit-box-align: center;\n  align-items: center;\n  &:hover {\n    background-color: ",";\n    color:  ",";\n  }\n"]);return Fr=function(){return e},e}function Pr(){var e=Object(Ve.a)(["\n-webkit-app-region: drag;\n  background-color: ",";\n  color: ",";\n  font-size: 15px;\n  width: 100%;\n  height: 35px;\n  border-bottom: ",";\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n"]);return Pr=function(){return e},e}function Mr(){var e=Object(Ve.a)(["\n  display: flex;\n  flex: 1;\n  min-width: 0;\n  position: relative;\n"]);return Mr=function(){return e},e}function Lr(){var e=Object(Ve.a)(["\n  min-height: 100%;\n  height: 100%;\n  width: 100%;\n  min-width: 100%;\n  margin: 0 auto;\n  display: flex;\n  overflow: hidden;\n  flex-direction: column;\n  position: absolute;\n  top: 0;\n  left: 0;\n  background-color: ",";\n  color: ",";\n  font-size: 11px;\n  filter: ",";\n\n  *::-webkit-scrollbar {\n    width: 0.5em;\n    height: 0.5em;\n  }\n\n  *::-webkit-scrollbar-track {\n      box-shadow: ",";\n  }\n\n  *::-webkit-scrollbar-thumb {\n      background: ",";\n  }\n\n  *::-webkit-scrollbar-corner,\n  *::-webkit-scrollbar-thumb:window-inactive {\n      background: ",";\n  }\n"]);return Lr=function(){return e},e}var Ur=Ge.c.section(Lr(),function(e){return e.theme&&e.theme.app.bgColor?e.theme.app.bgColor:"#161719"},function(e){return e.theme&&e.theme.app.color?e.theme.app.color:" #a3a8ae"},function(e){return e.blur?"blur(3px)":"none"},function(e){return e.theme&&e.theme.app.scrollTrackShadow?e.theme.app.scrollTrackShadow:"inset 0 0 6px rgba(0, 0, 0, 0.3)"},function(e){return e.theme&&e.theme.app.scrollThumbBgColor?e.theme.app.scrollThumbBgColor:"rgba(100, 100, 100, 0.8)"},function(e){return e.theme&&e.theme.app.scrollThumbInactiveBgColor?e.theme.app.scrollThumbInactiveBgColor:"rgba(100, 100, 100, 0.4)"}),Hr=Ge.c.article(Mr()),Br=Ge.c.article(Pr(),function(e){return e.theme&&e.theme.app.bgColor?e.theme.app.bgColor:"#161719"},function(e){return e.theme&&e.theme.app.color?e.theme.app.color:" #a3a8ae"},function(e){return e.theme&&e.theme.app.border?e.theme.app.border:"1px solid #27292c"}),Kr=Ge.c.span(Fr(),function(e){return e.theme&&e.theme.app.color?e.theme.app.color:"rgba(187, 183, 183, 0.6)"},function(e){return e.theme&&e.theme.app.bgColor?e.theme.app.bgColor:"transparent"}),qr=Ge.c.span(Nr()),Vr=function(){return a.a.createElement(Br,null,a.a.createElement(Kr,null,a.a.createElement(qr,{onClick:function(){return window.remote.getCurrentWindow().minimize()}},a.a.createElement(ft.a,{name:"dash"}))),a.a.createElement(Kr,null,a.a.createElement(qr,{onClick:function(){return window.remote.getCurrentWindow().isMaximized()?window.remote.getCurrentWindow().unmaximize():window.remote.getCurrentWindow().maximize()}},a.a.createElement(ft.a,{name:"primitive-square"}))),a.a.createElement(Kr,null,a.a.createElement(qr,{onClick:function(){return window.remote.getCurrentWindow().close()}},a.a.createElement(ft.a,{name:"x"}))))},Gr=Object(He.d)({createTicket:{id:"kz.containers.App.actions.createTicket",defaultMessage:"Create Ticket"},changeLang:{id:"kz.containers.App.actions.changeLang",defaultMessage:"Change Language"},changeTheme:{id:"kz.containers.App.actions.changeTheme",defaultMessage:"Change Theme"},importStock:{id:"kz.containers.App.actions.importStock",defaultMessage:"Import Stock"},exportDatabase:{id:"kz.containers.App.actions.exportDatabase",defaultMessage:"Export Databse"},resetDB:{id:"kz.containers.App.actions.resetDB",defaultMessage:"Reset Database"},englishLang:{id:"kz.containers.LanguageProvider.en",defaultMessage:"English"},spanishLang:{id:"kz.containers.LanguageProvider.es",defaultMessage:"Spanish"}}),Yr="ui/app/EXPORT_DATABASE_ACTION";function Zr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(p.a)(e);if(t){var o=Object(p.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var Wr=function(e){Object(l.a)(n,e);var t=Zr(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).state={blur:!1},r}return Object(u.a)(n,[{key:"componentDidMount",value:function(){window.isElectron&&this.props.router.push("/demo")}},{key:"componentWillMount",value:function(){var e=this;this.props.bindShortcut(an.keys,this.discoverAction.bind(this)),this.props.bindShortcut(Qt.keys,this.openImportStockModal.bind(this)),this.props.bindShortcut(Xt.keys,function(){return e.props.dispatch({type:Yr})}),this.props.bindShortcut(Wt.keys,function(){console.log("here??"),e.props.dispatch(Object(lt.n)()),e.props.router.push("/demo/tickets")}),this.props.bindShortcut(en.keys,function(){return Re()}),this.pubSubToken=Ke.a.subscribe(Ke.a.topics.ACTION_SELECTED,this.actionSelected.bind(this))}},{key:"componentWillUnmount",value:function(){this.pubSubToken&&Ke.a.unsubscribe(this.pubSubToken)}},{key:"openFuzzyFinder",value:function(){Ke.a.publish(Ke.a.topics.FUZZY_FINDER_REQUIRED,{items:[{value:Wt.keys,title:Gr.createTicket.id,hint:Wt.keys},{value:Qt.keys,title:Gr.importStock.id,hint:Qt.keys},{value:$t.keys,title:Gr.changeLang.id,hint:$t.keys},{value:Jt.keys,title:Gr.changeTheme.id,hint:Jt.keys},{value:Xt.keys,title:Gr.exportDatabase.id,hint:Xt.keys},{value:en.keys,title:Gr.resetDB.id,hint:en.keys}],topic:Ke.a.topics.ACTION_SELECTED})}},{key:"discoverAction",value:function(){return this.openFuzzyFinder(),an.default}},{key:"actionSelected",value:function(e,t){y.a.trigger(t)}},{key:"openImportStockModal",value:function(){Ke.a.publish(Ke.a.topics.MODAL_OPENED,Rr.a)}},{key:"render",value:function(){var e=this;return a.a.createElement("div",null,a.a.createElement(v.a,{titleTemplate:"%s - Kalzate",defaultTitle:"Kalzate",meta:[{name:"description",content:"Serverless Point Of Sale App For Humans"}]}),this.props.loading===x.D&&a.a.createElement(Ur,{blur:this.state.blur},window.isElectron&&a.a.createElement(Vr,null),a.a.createElement(Hr,null,a.a.createElement(Zt,null),a.a.Children.toArray(this.props.children)),a.a.createElement(Jn,null),a.a.createElement(Dr,null),a.a.createElement(pr,null)),a.a.createElement(it,{onOpen:function(){return e.setState({blur:!0})},onClose:function(){return e.setState({blur:!1})}}))}}]),n}(a.a.Component),$r=Object(T.createStructuredSelector)({loading:Object(T.createSelector)(function(e){return e.route},function(e){return e.loading})});var Jr=Object(f.connect)($r,function(e){return{dispatch:e}})(Object(g.mouseTrap)(Object(m.withRouter)(Wr)));function Qr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(p.a)(e);if(t){var o=Object(p.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var Xr=function(e){Object(l.a)(n,e);var t=Qr(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return a.a.createElement(He.b,{locale:this.props.locale,key:this.props.locale,messages:this.props.messages[this.props.locale]},a.a.Children.only(this.props.children))}}]),n}(a.a.PureComponent),eo=Object(T.createSelector)(vn(),function(e){return{locale:e}});var to=Object(f.connect)(eo,function(e){return{dispatch:e}})(Xr);var no=Object(T.createSelector)(Object(T.createSelector)(Cn,function(e){return e.theme}),function(e){return{theme:e}}),ro=Object(f.connect)(no)(function(e){return a.a.createElement(Ge.a,{theme:e.theme},a.a.Children.only(e.children))}),oo=n(109),ao=n(464),io=n(88),co={},so=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:co,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case io.c:return console.log("SUCCESS",t),Object(E.a)({},e,Object(_.a)({},t.key,t.value));case io.b:return console.log("ERROR",t.message),e;default:return e}},uo={locationBeforeTransitions:null,loading:x.F};var lo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.LOCATION_CHANGE:return Object(E.a)({},e,{locationBeforeTransitions:t.payload});case x.D:return Object(E.a)({},e,{loading:x.D});case x.E:return Object(E.a)({},e,{loading:x.E});default:return e}},po=n(16),fo={total:0,items:[]};var mo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case po.h:return function(e,t){return e.items.find(function(e){return e.id===t.id})?e:Object(E.a)({},e,{items:e.items.concat([t]),total:e.total+1})}(e,t.data);case ut.n:return function(e,t){var n=t.tickets,r=n.items,o=n.total;return Object(E.a)({},e,{items:r,total:o})}(e,t);default:return e}},bo=n(165),ho="ui/TicketPayments/SET_METHOD_TICKET_PAYMENTS_ACTION",ko=n(200),vo=n(201),go={isChecked:!1,isGift:!1,isVoucher:!1,hasVoucherExpired:!1,balance:null,prevNode:void 0,nextNode:void 0,payments:[],operations:[]};function Oo(e){if(e.items.length<=0)return Object(E.a)({},e,{totalAmount:"0.00",givenAmount:"0.00",returnAmount:"0.00",method:null});var t=e.items.filter(function(e){return e.added}).map(function(e){return e.amount*e.price-(e.discount||0)}).reduce(function(e,t){return e+t},0),n=e.items.filter(function(e){return e.toReturn}).map(function(e){return e.amount_return*e.price-(e.discount||0)}).reduce(function(e,t){return e+t},0);console.log(e,t,n);var r=t-n,o=e.discount?r-r*e.discount:r,a=(e.tax?o+o*e.tax:o).toFixed(2),i=function(e,t){return e.state===x.J||t<0?"0.00":e.method!==x.u?t:parseFloat(e.givenAmount)}(e,a),c=function(e,t,n){var r=(t-n).toFixed(2);return e.state===x.J||n<0?r:t>0?r:"0.00"}(e,i,a);return console.log(a,i,c),Object(E.a)({},e,{totalAmount:a,givenAmount:i,returnAmount:c})}function yo(e,t){var n=e.operations.findIndex(function(e){return e.stock.reference===t.operationReference});return-1===n?e:Object(E.a)({},e,{operations:[].concat(Object(X.a)(e.operations.slice(0,n)),Object(X.a)(e.operations.slice(n+1)))})}function To(){return Object(E.a)({},go)}var xo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:go,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case po.a:return function(e,t){var n=t.options,r=t.stockItem;if(!n.incremental&&0===r.amount)return yo(e,{operationReference:r.reference});if(e.operations.find(function(e){var t=e.operation;return e.reference===r.reference&&t===n.operationType})){var o=e.operations.map(function(e){return e.reference===r.reference&&e.operation===n.operationType?Object(E.a)({},e,{amount:n.incremental?e.amount+1:r.amount}):e});return Object(E.a)({},e,{operations:o})}return Object(E.a)({},e,{operations:[Object(E.a)({},r,{operation:n.operationType,amount:n.incremental?1:r.amount})].concat(Object(X.a)(e.operations))})}(e,t.data);case po.p:return yo(e,t.data);case po.s:return function(e,t){if(0===t.amount)return yo(e,{operationReference:t.reference});if(e.operations.find(function(e){var n=e.operation;return e.reference===t.reference&&n===t.operation})){var n=e.operations.map(function(e){return e.reference===t.reference&&e.operation===t.operation?Object(E.a)({},e,{amount:t.amount}):e});return Object(E.a)({},e,{operations:n})}return Object(E.a)({},e,{operations:[t].concat(Object(X.a)(e.operations))})}(e,t.data);case po.t:return function(e,t){var n=e.operations.map(function(e){return e.reference===t.reference?Object(E.a)({},e,t):e});return Object(E.a)({},e,{operations:n})}(e,t.data);case po.u:return function(e,t){if(e.payments.find(function(e){return e.method===t.method})){var n=e.payments.map(function(e){return e.method===t.method?Object(E.a)({},e,t):e});return Object(E.a)({},e,{payments:n})}return Object(E.a)({},e,{payments:[].concat(Object(X.a)(e.payments),[Object(E.a)({concept:null,amount:null},t)])})}(e,t.data);case po.d:return function(e,t){if(e.payments.find(function(e){return e.method===x.y})){var n=e.payments.map(function(e){return e.method===x.y?Object(E.a)({},e,{amount:t}):e});return Object(E.a)({},e,{payments:n})}return e}(e,t.data);case po.r:return function(e){if(e.payments.find(function(e){return e.method===x.y})){var t=e.payments.map(function(e){return e.method===x.y?Object(E.a)({},e,{amount:null}):e});return Object(E.a)({},e,{payments:t})}return e}(e,t.data);case po.h:return To(t.data);case po.m:return function(e,t){return console.log("ticket reducer",t),t}(0,t.data);case po.e:case po.f:return function(e,t){var n=t.stock,r=Object(bo.a)(t,["stock"]);if(0===r.amount)return yo(e,{operationReference:n.reference});if(e.operations.find(function(e){return e.stock.reference===n.reference})){var o=e.operations.map(function(e){return e.stock.reference===n.reference?Object(E.a)({},e,{amount:e.amount+1},r):e});return Object(E.a)({},e,{operations:o})}return console.log(n,r),Object(E.a)({},e,{operations:[Object(E.a)({stock:n,amount:1},r)].concat(Object(X.a)(e.operations))})}(e,t.data);case ut.s:return Oo(e);case ut.o:return function(e,t){return Object(E.a)({},e,{items:e.items.map(function(e){return e.reference===t.item.reference?Object(E.a)({},e,t.data):e})})}(e,t);case ut.t:return function(e,t){return Object(E.a)({},e,{tax:t.tax/100})}(e,t);case ut.q:return function(e,t){return Object(E.a)({},e,{discount:t.discount/100})}(e,t);case vo.g:return function(e){var t=e.items.map(function(e){return e.toReturn||e.added?e:Object(E.a)({},e,{amount_return:e.amount,toReturn:!0})});return Object(E.a)({},e,{items:t})}(e);case vo.h:return function(e,t){var n=e.items.map(function(e){return e.reference===t.item.reference?Object(E.a)({},e,{amount_return:t.value,toReturn:!0}):e});return Object(E.a)({},e,{items:n})}(e,t);case vo.i:return function(e,t){var n=e.items.map(function(e){return e.reference===t.item.reference?Object(Ee.omit)(Object(E.a)({},e,{amount:e.amount_return}),["amount_return","toReturn"]):Object(Ee.omit)(e,"added")});return Object(E.a)({},e,{items:n})}(e,t);case ut.k:return To();case ho:return function(e,t){return e.state===x.J?Object(E.a)({},e,{method:t.method}):e.totalAmount<=0?Object(E.a)({},e,{method:t.method,givenAmount:"0.00",returnAmount:"0.00"}):t.method!==x.u?Object(E.a)({},e,{method:t.method,givenAmount:e.totalAmount,returnAmount:"0.00"}):Object(E.a)({},e,{method:t.method})}(e,t);case ko.c:return function(e,t){if(!t.amount)return Object(E.a)({},e,{givenAmount:"",returnAmount:"0.00"});var n=parseFloat(e.totalAmount),r=Object(hn.d)(t.amount,2,e.givenAmount),o=(parseFloat(r)-n).toFixed(2);return Object(E.a)({},e,{givenAmount:r,returnAmount:o})}(e,t);case ko.b:return function(e,t){if(!t.by)return e;var n=parseFloat(e.totalAmount),r=(parseFloat(e.givenAmount)+t.by).toFixed(2);if(r>=999.99)return e;var o=(parseFloat(r)-n).toFixed(2);return Object(E.a)({},e,{givenAmount:r,returnAmount:o})}(e,t);case ko.a:return function(e,t){if(!t.by)return e;var n=parseFloat(e.totalAmount),r=(parseFloat(e.givenAmount)-t.by).toFixed(2);if(r<=0)return e;var o=(parseFloat(r)-n).toFixed(2);return Object(E.a)({},e,{givenAmount:r,returnAmount:o})}(e,t);default:return e}},Eo=n(13),jo={items:[],total:0,limit:x.m,skip:0,loading:!1};var Co=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Eo.r:return Object(E.a)({},e,{loading:!0});case Eo.v:return function(e,t){return Object(E.a)({},e,{items:e.items.map(function(e){return e.reference===t.stock.reference?t.stock:e})})}(e,t);case Eo.k:return function(e,t){return Object(E.a)({},t.stock,{loading:!1})}(0,t);default:return e}},So=n(264),Io=n(416),wo={stock:{},ticket:{},search:{stock:{},ticket:{},menu:{}},matches:{stock:{reference:[]},tickets:[]},modal:{removeStock:!1,archiveStock:!1},visibility:{tickets:{payments:!0,total:!0,raw:!1}},loading:{tickets:!1},errors:{voucher:null}};var _o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case po.b:return Object(E.a)({},e,{errors:Object(E.a)({},e.errors,{voucher:null})});case po.c:return Object(E.a)({},e,{errors:Object(E.a)({},e.errors,{voucher:t.data})});case po.f:case po.e:return Object(E.a)({},e,{ticket:Object(Ee.merge)({},e.ticket,Object(_.a)({},t.data.stock.reference,{amount:null,discountValue:null}))});case ut.o:return Object(E.a)({},e,{ticket:Object(Ee.merge)({},e.ticket,Object(_.a)({},t.item.reference,{amount:null,discountValue:null}))});case ut.u:return Object(E.a)({},e,{ticket:Object(Ee.merge)({},e.ticket,Object(_.a)({},t.reference,t.data))});case Eo.w:return Object(E.a)({},e,{stock:Object(Ee.merge)({},e.stock,Object(_.a)({},t.reference,t.data))});case Eo.v:return Object(E.a)({},e,{stock:Object(Ee.omit)(e.stock,t.stock.reference)});case Eo.q:return Object(E.a)({},e,{search:Object(E.a)({},e.search,{stock:t.search||{}})});case Eo.h:return Object(E.a)({},e,{matches:Object(E.a)({},e.matches,{stock:Object(E.a)({},e.matches.stock,Object(_.a)({},t.field,t.items||[]))})});case po.k:return Object(E.a)({},e,{matches:Object(E.a)({},e.matches,{tickets:t.data||[]})});case Eo.u:return Object(E.a)({},e,{modal:Object(E.a)({},e.modal,Object(_.a)({},t.option,t.value))});case So.a:return Object(E.a)({},e,{visibility:Object(E.a)({},e.visibility,{tickets:Object(E.a)({},e.visibility.tickets,{raw:!e.visibility.tickets.raw})})});case ut.k:return Object(E.a)({},e,{visibility:Object(E.a)({},e.visibility,{tickets:Object(E.a)({},e.visibility.tickets,{raw:!1})})});case So.b:return Object(E.a)({},e,{visibility:Object(E.a)({},e.visibility,{tickets:Object(E.a)({},e.visibility.tickets,{total:!e.visibility.tickets.total})})});case Io.a:return Object(E.a)({},e,{visibility:Object(E.a)({},e.visibility,{tickets:Object(E.a)({},e.visibility.tickets,{payments:!e.visibility.tickets.payments})})});default:return e}},Ao=n(160),zo={salesChart:[],ticketsChart:[],stockChart:[],alertChart:[]};var Do=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ao.b:return function(e,t){return console.log(t),t.chart?Object(E.a)({},e,Object(_.a)({},t.chart,t.data)):Object(E.a)({},e,t.data)}(e,t);default:return e}},Ro="app/LanguageToggle/CHANGE_LOCALE",No={locale:_e.b};var Fo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:No,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ro:var n=t.locale;return n&&fn[n]?{locale:n}:e;default:return e}},Po=Ae(window.location.search).theme,Mo={theme:Po&&r[Po]?r[Po]:r.monokai,name:Po||"monokai"};var Lo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case we:return r[t.theme]?{theme:r[t.theme],name:t.theme}:e;default:return e}};function Uo(e){return Le(Object(oo.combineReducers)(Object(E.a)({settings:so,tickets:mo,ticket:xo,stock:Co,theme:Lo,route:lo,language:Fo,tmp:_o,charts:Do},e)))}var Ho=n(6);var Bo=C.a.mark(Ko);function Ko(e){var t,n;return C.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:r.prev=0,t=e.key,n=e.value,r.t0=t,r.next=r.t0===x.G?5:r.t0===x.s?10:r.t0===x.f?15:r.t0===x.L?15:r.t0===x.t?15:r.t0===x.a?15:r.t0===x.r?15:r.t0===x.z?15:r.t0===x.B?15:r.t0===x.A?15:r.t0===x.K?15:r.t0===x.d?15:r.t0===x.e?15:r.t0===x.c?15:18;break;case 5:return r.next=7,Object(Ho.b)(function(e){return Fe().collection.upsert(e)},{key:t,value:n});case 7:return r.next=9,Object(Ho.c)({type:we,theme:n});case 9:return r.abrupt("break",19);case 10:return r.next=12,Object(Ho.b)(function(e){return Fe().collection.upsert(e)},{key:t,value:n});case 12:return r.next=14,Object(Ho.c)({type:Ro,locale:n});case 14:return r.abrupt("break",19);case 15:return r.next=17,Object(Ho.b)(function(e){return Fe().collection.upsert(e)},{key:t,value:n});case 17:return r.abrupt("break",19);case 18:return r.abrupt("return");case 19:return r.next=21,Object(Ho.c)({type:io.c,key:t,value:n});case 21:r.next=27;break;case 23:return r.prev=23,r.t1=r.catch(0),r.next=27,Object(Ho.c)({type:io.b,message:r.t1.message});case 27:case"end":return r.stop()}},Bo,null,[[0,23]])}var qo=Object(Ho.e)(io.a,Ko),Vo=C.a.mark(Go);function Go(e){var t,n,r,o,a;return C.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:i.prev=0,t=e.content,n=e.fileName,r=e.mime,o=new Blob([t],{type:void 0===r?"text/json":r}),(a=document.createElement("a")).setAttribute("href",window.URL.createObjectURL(o)),a.setAttribute("download",n),a.click(),a.remove(),i.next=14;break;case 10:return i.prev=10,i.t0=i.catch(0),i.next=14,Object(Ho.c)({type:_e.d,message:i.t0.message});case 14:case"end":return i.stop()}},Vo,null,[[0,10]])}var Yo=Object(Ho.e)(_e.c,Go),Zo=C.a.mark(Wo);function Wo(){var e,t;return C.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Ho.b)(function(){return Ne().dump()});case 3:return e=n.sent,n.next=6,Object(Ho.b)(function(){return Pe().dump()});case 6:return t=n.sent,n.next=9,Object(Ho.c)({type:_e.c,content:JSON.stringify({stock:e.docs,tickets:t.docs}),fileName:"database_backup_".concat((new Date).toLocaleDateString().replace(/\//g,"_"),".json")});case 9:n.next=13;break;case 11:n.prev=11,n.t0=n.catch(0);case 13:case"end":return n.stop()}},Zo,null,[[0,11]])}var $o=Object(Ho.e)(Yr,Wo),Jo=C.a.mark(Qo);function Qo(e){return C.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Ho.c)(Object(E.a)({},e,{type:e.put}));case 3:return t.next=5,Object(Ho.c)(Object(E.a)({},e,{type:ut.s}));case 5:t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),t.next=11,Object(Ho.c)({type:ut.r,message:t.t0.message});case 11:case"end":return t.stop()}},Jo,null,[[0,7]])}var Xo=Object(Ho.e)(ut.p,Qo),ea=n(57),ta=n(186),na=C.a.mark(ra);function ra(e){var t,n,r,o,a,i;return C.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,t=e.data,n=t.ticket,r=t.settings,console.log("create ticket",n),c.next=5,Object(Ho.b)(function(){var e;return(e=Pe()).create.apply(e,arguments)},Object(ea.j)(n),!0);case 5:return o=c.sent,a=Object(E.a)({},n,o),i=Object(ta.a)(r,a),c.t0=Ho.c,c.next=11,Object(Ho.d)(function(e){return e.stock.limit});case 11:return c.t1=c.sent,c.next=14,Object(Ho.d)(function(e){return e.stock.skip});case 14:return c.t2=c.sent,c.t3=Eo.i,c.t4={limit:c.t1,skip:c.t2,type:c.t3},c.next=19,(0,c.t0)(c.t4);case 19:return c.next=21,Object(Ho.c)({content:i,options:{printerName:r.printerName,printerIp:r.printerIP,printerWidth:"58mm",image:{type:"qrcode",value:a.created_at},copies:1},type:ut.g});case 21:return c.next=23,Object(Ho.c)(Object(lt.g)(a));case 23:c.next=30;break;case 25:return c.prev=25,c.t5=c.catch(0),console.error(c.t5),c.next=30,Object(Ho.c)({type:ut.c,message:c.t5.message});case 30:case"end":return c.stop()}},na,null,[[0,25]])}var oa=Object(Ho.e)(po.g,ra),aa=C.a.mark(ia);function ia(e){var t,n,r,o;return C.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.data,n=t.value,r=t.field,a.next=4,Object(Ho.b)(function(e,t){return Pe().open({value:e,field:t})},n,r);case 4:return o=a.sent,a.next=7,Object(Ho.c)(Object(lt.l)(o));case 7:return a.abrupt("return",a.sent);case 10:return a.prev=10,a.t0=a.catch(0),a.next=14,Object(Ho.c)({type:ut.f,message:a.t0.message});case 14:case"end":return a.stop()}},aa,null,[[0,10]])}var ca=Object(Ho.e)(po.l,ia),sa=C.a.mark(ua);function ua(e){var t,n,r,o,a;return C.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,t=e.data,n=t.field,r=t.value,i.next=4,Object(Ho.b)(function(){return Pe().query("ticketMatches",n,r)},n,r);case 4:return o=i.sent,a=o.items,i.next=8,Object(Ho.c)(Object(lt.j)(a));case 8:i.next=14;break;case 10:return i.prev=10,i.t0=i.catch(0),i.next=14,Object(Ho.c)(Object(lt.i)(i.t0));case 14:case"end":return i.stop()}},sa,null,[[0,10]])}var la=Object(Ho.e)(po.i,ua),da=C.a.mark(fa);function pa(e,t){window.ipcRenderer.send("print-ticket",e,t)}function fa(e){var t,n;return C.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.content,n=e.options,window.isElectron?pa(t,n):console.log("web printing",t,n),r.next=5,Object(Ho.c)(Object(E.a)({},e,{type:ut.i}));case 5:r.next=11;break;case 7:return r.prev=7,r.t0=r.catch(0),r.next=11,Object(Ho.c)({type:ut.h,message:r.t0.message});case 11:case"end":return r.stop()}},da,null,[[0,7]])}var ma=Object(Ho.e)(ut.g,fa),ba=C.a.mark(ha);function ha(e){var t,n,r,o;return C.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.field,n=e.value,r=e.operator,a.next=4,Object(Ho.b)(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t?Pe().get({match:Object(_.a)({},n.field,Object(_.a)({},n.operator,n.value)),count:!0}):Pe().query(Pe().queries.dailyTickets(x.n,0))},t,n,r);case 4:return o=a.sent,console.log(o),a.next=8,Object(Ho.c)({type:ut.n,tickets:o});case 8:return a.abrupt("return",a.sent);case 11:return a.prev=11,a.t0=a.catch(0),a.next=15,Object(Ho.c)({type:ut.m,message:a.t0.message});case 15:case"end":return a.stop()}},ba,null,[[0,11]])}var ka=Object(Ho.e)(ut.l,ha),va=C.a.mark(ga);function ga(e){var t,n,r,o,a;return C.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,t=e.data,console.log("get ticket",t),i.next=5,Object(Ho.b)(function(e){return Pe().query("ticketByCreationDate",e)},t);case 5:if(n=i.sent,r=n.items,1===n.total){i.next=12;break}return i.next=11,Object(Ho.c)(Object(lt.b)("INVALID_VOUCHER"));case 11:return i.abrupt("return",i.sent);case 12:if((o=r[0])&&o.isVoucher){i.next=17;break}return i.next=16,Object(Ho.c)(Object(lt.b)("INVALID_VOUCHER"));case 16:return i.abrupt("return",i.sent);case 17:if(!o.hasVoucherExpired){i.next=21;break}return i.next=20,Object(Ho.c)(Object(lt.b)("EXPIRED_VOUCHER"));case 20:return i.abrupt("return",i.sent);case 21:if(!((a=Object(ct.j)({ticket:o}))<=0)){i.next=26;break}return i.next=25,Object(Ho.c)(Object(lt.b)("INVALID_VOUCHER"));case 25:return i.abrupt("return",i.sent);case 26:return console.log("voucher amount",a),i.next=29,Object(Ho.c)(Object(lt.c)(a));case 29:i.next=36;break;case 31:return i.prev=31,i.t0=i.catch(0),console.log("voucher error",i.t0),i.next=36,Object(Ho.c)(Object(lt.b)(i.t0.message));case 36:case"end":return i.stop()}},va,null,[[0,31]])}var Oa=Object(Ho.e)(po.b,ga),ya=n(459),Ta=n.n(ya),xa=C.a.mark(Ea);function Ea(e){var t,n,r,o,a;return C.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,t=e.data,i.next=4,Object(Ho.b)(function(){return Pe().query("dailyTicketOperations")});case 4:if(n=i.sent,(r=n.items)&&r.length){i.next=8;break}return i.abrupt("return");case 8:return o={isDailySummaryTicket:!0,payments:[],operations:Ta()(r)},a=Object(ta.a)(t,o),i.next=12,Object(Ho.c)({content:a,printerName:t.printerName,printerIP:t.printerIP,type:po.o});case 12:i.next=17;break;case 14:i.prev=14,i.t0=i.catch(0),console.error("Summary ticket could not be printed",i.t0);case 17:case"end":return i.stop()}},xa,null,[[0,14]])}var ja=Object(Ho.e)(po.n,Ea),Ca=C.a.mark(Sa);function Sa(e){var t,n;return C.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.stock,n=e.options,r.next=4,Object(Ho.c)({type:Eo.r});case 4:return r.next=6,Object(Ho.b)(function(){var e;return(e=Ne()).create.apply(e,arguments)},t,n);case 6:return r.next=8,Object(Ho.c)({type:Eo.i,limit:x.m,skip:0});case 8:r.next=15;break;case 10:return r.prev=10,r.t0=r.catch(0),console.error(r.t0),r.next=15,Object(Ho.c)({type:Eo.b,message:r.t0.message});case 15:case"end":return r.stop()}},Ca,null,[[0,10]])}var Ia=Object(Ho.e)(Eo.a,Sa),wa=C.a.mark(_a);function _a(e){var t,n;return C.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,(t=e.stock).price=parseFloat(t.price),r.next=5,Object(Ho.b)(function(){var e;return(e=Ne()).update.apply(e,arguments)},t);case 5:return n=r.sent,r.next=8,Object(Ho.c)({type:Eo.v,stock:n});case 8:r.next=14;break;case 10:return r.prev=10,r.t0=r.catch(0),r.next=14,Object(Ho.c)({type:Eo.t,message:r.t0.message});case 14:case"end":return r.stop()}},wa,null,[[0,10]])}var Aa=Object(Ho.e)(Eo.s,_a),za=C.a.mark(Da);function Da(e){var t,n,r,o;return C.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.limit,n=e.skip,r=e.search,a.next=4,Object(Ho.b)(function(){var e;return(e=Ne()).get.apply(e,arguments)},{limit:t||x.m,skip:n,match:r});case 4:return o=a.sent,a.next=7,Object(Ho.c)({type:Eo.k,stock:o});case 7:a.next=13;break;case 9:return a.prev=9,a.t0=a.catch(0),a.next=13,Object(Ho.c)({type:Eo.j,message:a.t0.message});case 13:case"end":return a.stop()}},za,null,[[0,9]])}var Ra=Object(Ho.e)(Eo.i,Da),Na=C.a.mark(Fa);function Fa(e){var t,n,r,o,a;return C.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,t=e.reference,n=e.limit,r=e.skip,o=e.search,i.next=4,Object(Ho.b)(function(){var e;return(e=Ne()).remove.apply(e,arguments)},t);case 4:return a=i.sent,i.next=7,Object(Ho.c)({type:Eo.n,stock:a});case 7:return i.next=9,Object(Ho.c)({type:Eo.i,limit:n||x.m,skip:r||0,search:o});case 9:i.next=15;break;case 11:return i.prev=11,i.t0=i.catch(0),i.next=15,Object(Ho.c)({type:Eo.m,message:i.t0.message});case 15:case"end":return i.stop()}},Na,null,[[0,11]])}var Pa=Object(Ho.e)(Eo.l,Fa),Ma=C.a.mark(La);function La(e){var t,n;return C.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.decrypt,r.next=4,Object(Ho.b)(function(){var e;return(e=Ne()).dump.apply(e,arguments)},t);case 4:return n=r.sent,r.next=7,Object(Ho.c)({type:_e.c,content:JSON.stringify(n.docs),fileName:"stock_".concat((new Date).toLocaleDateString().replace(/\//g,"_"),".json")});case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(0),r.next=13,Object(Ho.c)({type:Eo.d,message:r.t0.message});case 13:case"end":return r.stop()}},Ma,null,[[0,9]])}var Ua=Object(Ho.e)(Eo.c,La),Ha=C.a.mark(Ba);function Ba(e){var t,n,r;return C.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,t=e.search,n=e.limit,r=e.skip,o.next=4,Object(Ho.c)({type:Eo.i,limit:n||x.m,skip:r||0,search:t});case 4:return o.next=6,Object(Ho.c)({type:Eo.q,search:t});case 6:o.next=12;break;case 8:return o.prev=8,o.t0=o.catch(0),o.next=12,Object(Ho.c)({type:Eo.p,message:o.t0.message});case 12:case"end":return o.stop()}},Ha,null,[[0,8]])}var Ka=Object(Ho.e)(Eo.o,Ba),qa=C.a.mark(Va);function Va(e){var t,n,r,o;return C.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.field,n=e.value,a.next=4,Object(Ho.b)(function(){var e;return(e=Ne()).matches.apply(e,arguments)},t,n);case 4:return r=a.sent,o=r.items,a.next=8,Object(Ho.c)({type:Eo.h,field:t,items:o});case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(0),a.next=14,Object(Ho.c)({type:Eo.g,message:a.t0.message});case 14:case"end":return a.stop()}},qa,null,[[0,10]])}var Ga=Object(Ho.e)(Eo.f,Va),Ya=C.a.mark(Za);function Za(){var e,t,n,r=arguments;return C.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(e=r.length>0&&void 0!==r[0]?r[0]:{},o.prev=1,t=e.chart,Me()){o.next=5;break}return o.abrupt("return");case 5:return o.next=7,t?Object(Ho.b)(function(){return Me()[t]()}):Object(Ho.b)(function(){return Me().init()});case 7:return n=o.sent,console.log("char data",n),o.next=11,Object(Ho.c)({type:Ao.b,data:n,chart:t});case 11:o.next=16;break;case 13:o.prev=13,o.t0=o.catch(1),console.error(o.t0);case 16:case"end":return o.stop()}},Ya,null,[[1,13]])}var Wa=Object(Ho.e)(Ao.a,Za),$a=C.a.mark(Ja);function Ja(){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ho.a)([Yo,$o,qo,Xo,oa,ca,la,ma,ka,Oa,ja,Ia,Aa,Ra,Pa,Ua,Ka,Ga,Wa]);case 2:case"end":return e.stop()}},$a)}var Qa=Object(ao.a)();function Xa(){var e=Object(Ve.a)(["\n\n  html,\n  body {\n    height: 100vh;\n    width: 100vh;\n    overflow: hidden;\n  }\n\n  body {\n    font-family: 'BlinkMacSystemFont', 'Lucida Grande', 'Segoe UI', Ubuntu, Cantarell, Arial, sans-serif;\n    font-weight: normal;\n  }\n\n  body.fontLoaded {\n    font-family: 'Open Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;\n  }\n\n  #root {\n    font-size: 11px;\n    min-height: 100vh;\n    min-width: 100vh;\n  }\n"]);return Xa=function(){return e},e}Object(Ge.d)(Xa());var ei=n(460),ti=n.n(ei),ni=n(281),ri=n.n(ni),oi=n(89),ai=n.n(oi),ii=n(187),ci=n.n(ii),si=n(461),ui=n.n(si),li=n(41),di=n.n(li),pi=n(75),fi=n.n(pi);function mi(e){var t={dispatch:ai.a,subscribe:ai.a,getState:ai.a,replaceReducer:ai.a,runSaga:ai.a,asyncReducers:ci.a};di()(ti()(e,t),"(app/utils...) asyncInjectors: Expected a valid redux store")}function bi(e,t){return function(n,r){t||mi(e),di()(ui()(n)&&!ri()(n)&&ai()(r),"(app/utils...) injectAsyncReducer: Expected `asyncReducer` to be a reducer function"),Reflect.has(e.asyncReducers,n)||(e.asyncReducers[n]=r,e.replaceReducer(Uo(e.asyncReducers)))}}function hi(e,t){return function(n){t||mi(e),di()(Array.isArray(n),"(app/utils...) injectAsyncSagas: Expected `sagas` to be an array of generator functions"),fi()(!ri()(n),"(app/utils...) injectAsyncSagas: Received an empty `sagas` array"),n.map(e.runSaga)}}var ki=function(e){console.error("Dynamic page loading failed",e)},vi=function(e){return function(t){e(null,t&&t.default?t.default:t)}};function gi(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(p.a)(e);if(t){var o=Object(p.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var Oi=m.browserHistory,yi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=[Qa,Object(b.routerMiddleware)(t),Ue],r=[oo.applyMiddleware.apply(void 0,n)],o=oo.compose,a=Object(oo.createStore)(Uo(),e,o.apply(void 0,r));return a.runSaga=Qa.run,a.runSaga(Ja),a.asyncReducers={},a}({},Oi),Ti=Object(b.syncHistoryWithStore)(Oi,yi,{selectLocationState:function(){var e;return function(t){var n=t.route;return Object(Ee.isEqual)(n,e)||(e=n),e}}()}),xi={component:Jr,childRoutes:function(e){var t=function(e){return mi(e),{injectReducer:bi(e,!0),injectSagas:hi(e,!0)}}(e);return t.injectReducer,t.injectSagas,[{path:"/demo",name:"home",getComponent:function(e,t){var r=Promise.all([n.e(5).then(n.bind(null,894))]),o=vi(t);r.then(function(e){var t=Object(A.a)(e,1)[0];o(t)}),r.catch(ki)}},{path:"/demo/settings",name:"settings",getComponent:function(e,t){var r=Promise.all([n.e(6).then(n.bind(null,895))]),o=vi(t);r.then(function(e){var t=Object(A.a)(e,1)[0];o(t)}),r.catch(ki)}},{path:"/demo/discover",name:"discover",getComponent:function(e,t){var r=Promise.all([Promise.all([n.e(9),n.e(3)]).then(n.bind(null,893))]),o=vi(t);r.then(function(e){var t=Object(A.a)(e,1)[0];o(t)}),r.catch(ki)}},{path:"/demo/tickets(/:id)",name:"tickets",getComponent:function(e,t){var r=Promise.all([n.e(4).then(n.bind(null,892))]),o=vi(t);r.then(function(e){var t=Object(A.a)(e,1)[0];o(t)}),r.catch(ki)}},{path:"*",name:"notfound",getComponent:function(e,t){n.e(8).then(n.bind(null,896)).then(vi(t)).catch(ki)}}]}(yi)},Ei=function(e){Object(l.a)(n,e);var t=gi(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.messages;return a.a.createElement(f.Provider,{store:yi},a.a.createElement(ro,null,a.a.createElement(to,{messages:e},a.a.createElement(m.Router,{history:Ti,routes:xi,render:Object(m.applyRouterMiddleware)(Object(h.useScroll)())}))))}}]),n}(a.a.Component);!function(){var e=function(e){return c.a.render(a.a.createElement(Ei,{messages:e}),document.getElementById("root"))};window.Intl?e(bn):new Promise(function(e){e(Promise.all([n.e(7),n.e(12)]).then(n.t.bind(null,889,7)))}).then(function(){return Promise.all([n.e(10).then(n.t.bind(null,890,7)),n.e(11).then(n.t.bind(null,891,7))])}).then(function(){return e(bn)}).catch(function(e){throw e}),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}()},88:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return a});var r="ui/SettingsPage/UPDATE_SETTING_ACTION",o="UPDATE_SETTING_ERROR_ACTION",a="UPDATE_SETTING_SUCCESS_ACTION"},90:function(e,t,n){"use strict";n.d(t,"k",function(){return s}),n.d(t,"d",function(){return u}),n.d(t,"b",function(){return l}),n.d(t,"o",function(){return d}),n.d(t,"m",function(){return p}),n.d(t,"j",function(){return f}),n.d(t,"g",function(){return m}),n.d(t,"n",function(){return b}),n.d(t,"c",function(){return h}),n.d(t,"e",function(){return k}),n.d(t,"i",function(){return g}),n.d(t,"h",function(){return O}),n.d(t,"p",function(){return y}),n.d(t,"q",function(){return T}),n.d(t,"l",function(){return x}),n.d(t,"a",function(){return E}),n.d(t,"f",function(){return j});var r=n(2),o=n(12),a=n(31),i=n(57),c=function(e){return e.ticket},s=function(e){return e.tickets},u=Object(o.createSelector)(c,function(e){return!0===e.isChecked&&e.nextNode}),l=Object(o.createSelector)(c,function(e){return!1===e.isChecked}),d=Object(o.createSelector)(c,function(e){return e.operations.reduce(function(e,t){return e+Object(i.g)(t)},0)}),p=Object(o.createSelector)(c,function(e){return e.payments.reduce(function(e,t){var n=t.amount;return n?e+n:e},0)}),f=Object(o.createSelector)(d,p,function(e,t){return t-e}),m=Object(o.createSelector)(d,function(e){return e>=0?"positive":"negative"}),b=Object(o.createSelector)(f,function(e){return e>=0?0:Math.round(100*(Math.abs(e)+Number.EPSILON))/100}),h=Object(o.createSelector)(c,d,p,l,function(e,t,n,r){return!!Object(a.isEmpty)(e.operations)||(r?t>n||0===t:t>0&&t>n)}),k=Object(o.createSelector)(c,d,function(e,t){return Object(a.isEmpty)(e.operations)||t>=0}),v=Object(o.createSelector)(c,function(e){return e.payments}),g=Object(o.createSelector)(v,function(e){return Object(i.f)(e)}),O=Object(o.createSelector)(v,function(e){return Object(i.e)(e)}),y=Object(o.createSelector)(v,function(e){return Object(i.h)(e)}),T=Object(o.createSelector)(v,function(e){return Object(i.i)(e)}),x=Object(o.createSelector)(c,function(e){var t=e.operations,n=void 0===t?[]:t,r=e.history,o=void 0===r?[]:r;return o.length?Object(i.k)(o,n):n}),E=Object(o.createSelector)(x,function(e){return 0===e.length}),j=Object(o.createSelector)(c,u,m,y,d,function(e,t,n,o,a){return Object(r.a)({},e,{balance:n,isVoucher:o>a},!t&&{created_at:void 0})})}},[[470,1,2]]]);
//# sourceMappingURL=main.72f2e2b5.chunk.js.map